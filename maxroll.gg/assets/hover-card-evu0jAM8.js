import{r as p,j as h,a as O}from"./jsx-runtime-BmCkTyBI.js";import{n as z,j as no,C as fe,H as It,an as bt,f as xe,ao as Qe,ap as Ze,aq as et,aa as vt,at as Ve,p as Se,a5 as ro,N as oo,Q as lo,R as io,r as ao,c4 as Yn,c5 as so,z as uo,v as ge,D as Jn,t as co,bO as go,c9 as fo,ca as po,cc as mo,s as ho,cd as bo}from"./useUiStateStore-BTW2eq2x.js";import{j as vo,m as wo,p as xo,K as Co,q as So,A as Ro,D as yo,k as Vn,T as Tt,S as zn,d as Mo}from"./input-CP8d1LBk.js";import{s as Qn}from"./index-0f3ee958-DZWNGZaJ.js";import{r as We}from"./index-B7uSRlxY.js";const Io=no("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",warning:"border-orange-1/50 text-orange-1 dark:border-orange-400 [&>svg]:text-orange-1",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Do=p.forwardRef(({className:e,variant:t,...n},r)=>h.jsx("div",{ref:r,role:"alert",className:z(Io({variant:t}),e),...n}));Do.displayName="Alert";const Fo=p.forwardRef(({className:e,...t},n)=>h.jsx("h5",{ref:n,className:z("mb-1 font-medium leading-none tracking-tight",e),...t}));Fo.displayName="AlertTitle";const Eo=p.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,className:z("text-sm [&_p]:leading-relaxed",e),...t}));Eo.displayName="AlertDescription";const Po=O.forwardRef(({value:e,onChange:t,onBlur:n,debounce:r=250,allowedNumberType:o,min:l,max:i,allowEmpty:a=!0,type:u,maximumFractionDigits:d=4,...c},f)=>{const g=p.useMemo(()=>o||(u==="number"?"float":void 0),[o,u]),s=p.useMemo(()=>"en-US",[]),m=p.useMemo(()=>1.1.toLocaleString(s).includes(",")?",":".",[s]),b=p.useMemo(()=>m==="."?",":".",[m]),v=p.useRef(),w=p.useCallback(I=>{if(!g)return I.toString();let D=I.toString();return D=D.replace(b,m),D},[g,m,b]),[S,x]=p.useState(w(e));p.useEffect(()=>{x(w(e))},[e]);const M=p.useCallback(I=>{if(g==="int"){let D=I.replace(/^0+(?=\d)/,"");D===""&&(D="0");const $=parseInt(D,10);I=isNaN($)?"0":$.toString()}else if(g==="float"){let D=I.replace(new RegExp(`[^0-9${m}]`,"g"),"");const $=D.split(m);$.length>2&&(D=$[0]+m+$.slice(1).join(""));const j=parseFloat(D.replace(m,"."));isNaN(j)?I="0":I=j.toLocaleString(s,{useGrouping:!1,maximumFractionDigits:d})}if(g){let D=g==="int"?parseInt(I,10):parseFloat(I.replace(m,"."));isNaN(D)&&(D=g==="int"?0:NaN),typeof l=="number"&&D<l&&(D=l),typeof i=="number"&&D>i&&(D=i),I=g==="int"?D.toString():D.toLocaleString(s,{useGrouping:!1,maximumFractionDigits:d})}return I},[g,m,s,d,l,i]),C=p.useCallback(I=>{t&&(v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{t&&(g==="float"&&I.endsWith(m)&&(I=I.slice(0,-1)),t(g==="float"?I.replace(m,"."):I))},r))},[g,r,m,t]),y=p.useCallback(I=>{let D=I.target.value;if(a&&D===""){x(""),C("");return}if(g==="float"&&D.endsWith(m)){if(D.split(m).length>2)return;x(D);return}D=M(D),x(D),C(D)},[a,g,m,M,C]),R=p.useCallback(I=>{v.current&&clearTimeout(v.current);let D=I.target.value;if(a&&D===""){x(""),n==null||n("");return}D=M(D),x(D),n==null||n(g==="float"?D.replace(m,"."):D)},[a,g,m,n,M]),P=o?"number":u;return h.jsx(vo,{ref:f,value:S,type:P,autoComplete:P==="number"?"off":void 0,onChange:y,onBlur:R,...c})});Po.displayName="DebouncedInput";const Zn=p.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,role:"table",className:z("relative text-sm w-full",e),...t}));Zn.displayName="Table";const er=p.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,role:"rowgroup",className:z("relative [&>div]:border-b",e),...t}));er.displayName="TableHeader";const tr=p.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,role:"rowgroup",className:z("[&>div:last-child]:border-0",e),...t}));tr.displayName="TableBody";const $o=p.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,role:"rowgroup",className:z("border-t bg-muted/50 font-medium [&>div]:last:border-b-0",e),...t}));$o.displayName="TableFooter";const wt=p.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,role:"row",className:z("flex w-fit border-b transition-colors hover:bg-muted/40 data-[state=selected]:bg-muted/50",e),...t}));wt.displayName="TableRow";const nr=p.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,role:"columnheader",className:z("relative flex items-center text-left align-middle overflow-hidden h-10 px-2 [&>*:first-child]:h-full [&>*:first-child]:w-full font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));nr.displayName="TableHead";const un=p.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,role:"cell",className:z("flex max-w-full items-center align-middle overflow-hidden p-2 [&>*:first-child]:h-full [&>*:first-child]:w-full [&>*:first-child]:items-center [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));un.displayName="TableCell";const No=p.forwardRef(({className:e,...t},n)=>h.jsx("div",{ref:n,role:"caption",className:z("mt-4 text-sm text-muted-foreground",e),...t}));No.displayName="TableCaption";/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ce(e,t){return typeof e=="function"?e(t):e}function K(e,t){return n=>{t.setState(r=>({...r,[e]:Ce(n,r[e])}))}}function Dt(e){return e instanceof Function}function Vo(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function zo(e,t){const n=[],r=o=>{o.forEach(l=>{n.push(l);const i=t(l);i!=null&&i.length&&r(i)})};return r(e),n}function F(e,t,n){let r=[],o;return l=>{let i;n.key&&n.debug&&(i=Date.now());const a=e(l);if(!(a.length!==r.length||a.some((d,c)=>r[c]!==d)))return o;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),o=t(...a),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-i)*100)/100,c=Math.round((Date.now()-u)*100)/100,f=c/16,g=(s,m)=>{for(s=String(s);s.length<m;)s=" "+s;return s};console.info(`%câ± ${g(c,5)} /${g(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return o}}function E(e,t,n,r){return{debug:()=>{var o;return(o=e==null?void 0:e.debugAll)!=null?o:e[t]},key:!1,onChange:r}}function jo(e,t,n,r){const o=()=>{var i;return(i=l.getValue())!=null?i:e.options.renderFallbackValue},l={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:o,getContext:F(()=>[e,n,t,l],(i,a,u,d)=>({table:i,column:a,row:u,cell:d,getValue:d.getValue,renderValue:d.renderValue}),E(e.options,"debugCells"))};return e._features.forEach(i=>{i.createCell==null||i.createCell(l,n,t,e)},{}),l}function Oo(e,t,n,r){var o,l;const i={...e._getDefaultColumnDef(),...t},a=i.accessorKey;let u=(o=(l=i.id)!=null?l:a?typeof String.prototype.replaceAll=="function"?a.replaceAll(".","_"):a.replace(/\./g,"_"):void 0)!=null?o:typeof i.header=="string"?i.header:void 0,d;if(i.accessorFn?d=i.accessorFn:a&&(a.includes(".")?d=f=>{let g=f;for(const m of a.split(".")){var s;g=(s=g)==null?void 0:s[m]}return g}:d=f=>f[i.accessorKey]),!u)throw new Error;let c={id:`${String(u)}`,accessorFn:d,parent:r,depth:n,columnDef:i,columns:[],getFlatColumns:F(()=>[!0],()=>{var f;return[c,...(f=c.columns)==null?void 0:f.flatMap(g=>g.getFlatColumns())]},E(e.options,"debugColumns")),getLeafColumns:F(()=>[e._getOrderColumnsFn()],f=>{var g;if((g=c.columns)!=null&&g.length){let s=c.columns.flatMap(m=>m.getLeafColumns());return f(s)}return[c]},E(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(c,e);return c}const L="debugHeaders";function jn(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],i=a=>{a.subHeaders&&a.subHeaders.length&&a.subHeaders.map(i),l.push(a)};return i(o),l},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(l=>{l.createHeader==null||l.createHeader(o,e)}),o}const To={createTable:e=>{e.getHeaderGroups=F(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>{var l,i;const a=(l=r==null?void 0:r.map(c=>n.find(f=>f.id===c)).filter(Boolean))!=null?l:[],u=(i=o==null?void 0:o.map(c=>n.find(f=>f.id===c)).filter(Boolean))!=null?i:[],d=n.filter(c=>!(r!=null&&r.includes(c.id))&&!(o!=null&&o.includes(c.id)));return ct(t,[...a,...d,...u],e)},E(e.options,L)),e.getCenterHeaderGroups=F(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>(n=n.filter(l=>!(r!=null&&r.includes(l.id))&&!(o!=null&&o.includes(l.id))),ct(t,n,e,"center")),E(e.options,L)),e.getLeftHeaderGroups=F(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var o;const l=(o=r==null?void 0:r.map(i=>n.find(a=>a.id===i)).filter(Boolean))!=null?o:[];return ct(t,l,e,"left")},E(e.options,L)),e.getRightHeaderGroups=F(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var o;const l=(o=r==null?void 0:r.map(i=>n.find(a=>a.id===i)).filter(Boolean))!=null?o:[];return ct(t,l,e,"right")},E(e.options,L)),e.getFooterGroups=F(()=>[e.getHeaderGroups()],t=>[...t].reverse(),E(e.options,L)),e.getLeftFooterGroups=F(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),E(e.options,L)),e.getCenterFooterGroups=F(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),E(e.options,L)),e.getRightFooterGroups=F(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),E(e.options,L)),e.getFlatHeaders=F(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),E(e.options,L)),e.getLeftFlatHeaders=F(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),E(e.options,L)),e.getCenterFlatHeaders=F(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),E(e.options,L)),e.getRightFlatHeaders=F(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),E(e.options,L)),e.getCenterLeafHeaders=F(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),E(e.options,L)),e.getLeftLeafHeaders=F(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),E(e.options,L)),e.getRightLeafHeaders=F(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),E(e.options,L)),e.getLeafHeaders=F(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var o,l,i,a,u,d;return[...(o=(l=t[0])==null?void 0:l.headers)!=null?o:[],...(i=(a=n[0])==null?void 0:a.headers)!=null?i:[],...(u=(d=r[0])==null?void 0:d.headers)!=null?u:[]].map(c=>c.getLeafHeaders()).flat()},E(e.options,L))}};function ct(e,t,n,r){var o,l;let i=0;const a=function(g,s){s===void 0&&(s=1),i=Math.max(i,s),g.filter(m=>m.getIsVisible()).forEach(m=>{var b;(b=m.columns)!=null&&b.length&&a(m.columns,s+1)},0)};a(e);let u=[];const d=(g,s)=>{const m={depth:s,id:[r,`${s}`].filter(Boolean).join("_"),headers:[]},b=[];g.forEach(v=>{const w=[...b].reverse()[0],S=v.column.depth===m.depth;let x,M=!1;if(S&&v.column.parent?x=v.column.parent:(x=v.column,M=!0),w&&(w==null?void 0:w.column)===x)w.subHeaders.push(v);else{const C=jn(n,x,{id:[r,s,x.id,v==null?void 0:v.id].filter(Boolean).join("_"),isPlaceholder:M,placeholderId:M?`${b.filter(y=>y.column===x).length}`:void 0,depth:s,index:b.length});C.subHeaders.push(v),b.push(C)}m.headers.push(v),v.headerGroup=m}),u.push(m),s>0&&d(b,s-1)},c=t.map((g,s)=>jn(n,g,{depth:i,index:s}));d(c,i-1),u.reverse();const f=g=>g.filter(s=>s.column.getIsVisible()).map(s=>{let m=0,b=0,v=[0];s.subHeaders&&s.subHeaders.length?(v=[],f(s.subHeaders).forEach(S=>{let{colSpan:x,rowSpan:M}=S;m+=x,v.push(M)})):m=1;const w=Math.min(...v);return b=b+w,s.colSpan=m,s.rowSpan=b,{colSpan:m,rowSpan:b}});return f((o=(l=u[0])==null?void 0:l.headers)!=null?o:[]),u}const dn=(e,t,n,r,o,l,i)=>{let a={id:t,index:r,original:n,depth:o,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(a._valuesCache.hasOwnProperty(u))return a._valuesCache[u];const d=e.getColumn(u);if(d!=null&&d.accessorFn)return a._valuesCache[u]=d.accessorFn(a.original,r),a._valuesCache[u]},getUniqueValues:u=>{if(a._uniqueValuesCache.hasOwnProperty(u))return a._uniqueValuesCache[u];const d=e.getColumn(u);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(a._uniqueValuesCache[u]=d.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[u]):(a._uniqueValuesCache[u]=[a.getValue(u)],a._uniqueValuesCache[u])},renderValue:u=>{var d;return(d=a.getValue(u))!=null?d:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>zo(a.subRows,u=>u.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let u=[],d=a;for(;;){const c=d.getParentRow();if(!c)break;u.push(c),d=c}return u.reverse()},getAllCells:F(()=>[e.getAllLeafColumns()],u=>u.map(d=>jo(e,a,d,d.id)),E(e.options,"debugRows")),_getAllCellsByColumnId:F(()=>[a.getAllCells()],u=>u.reduce((d,c)=>(d[c.column.id]=c,d),{}),E(e.options,"debugRows"))};for(let u=0;u<e._features.length;u++){const d=e._features[u];d==null||d.createRow==null||d.createRow(a,e)}return a},ko={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},rr=(e,t,n)=>{var r,o;const l=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((o=e.getValue(t))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(l))};rr.autoRemove=e=>Z(e);const or=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};or.autoRemove=e=>Z(e);const lr=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};lr.autoRemove=e=>Z(e);const ir=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};ir.autoRemove=e=>Z(e);const ar=(e,t,n)=>!n.some(r=>{var o;return!((o=e.getValue(t))!=null&&o.includes(r))});ar.autoRemove=e=>Z(e)||!(e!=null&&e.length);const sr=(e,t,n)=>n.some(r=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(r)});sr.autoRemove=e=>Z(e)||!(e!=null&&e.length);const ur=(e,t,n)=>e.getValue(t)===n;ur.autoRemove=e=>Z(e);const dr=(e,t,n)=>e.getValue(t)==n;dr.autoRemove=e=>Z(e);const cn=(e,t,n)=>{let[r,o]=n;const l=e.getValue(t);return l>=r&&l<=o};cn.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,o=typeof n!="number"?parseFloat(n):n,l=t===null||Number.isNaN(r)?-1/0:r,i=n===null||Number.isNaN(o)?1/0:o;if(l>i){const a=l;l=i,i=a}return[l,i]};cn.autoRemove=e=>Z(e)||Z(e[0])&&Z(e[1]);const ve={includesString:rr,includesStringSensitive:or,equalsString:lr,arrIncludes:ir,arrIncludesAll:ar,arrIncludesSome:sr,equals:ur,weakEquals:dr,inNumberRange:cn};function Z(e){return e==null||e===""}const _o={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:K("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?ve.includesString:typeof r=="number"?ve.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?ve.equals:Array.isArray(r)?ve.arrIncludes:ve.weakEquals},e.getFilterFn=()=>{var n,r;return Dt(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:ve[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,o;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const o=e.getFilterFn(),l=r==null?void 0:r.find(c=>c.id===e.id),i=Ce(n,l?l.value:void 0);if(On(o,i,e)){var a;return(a=r==null?void 0:r.filter(c=>c.id!==e.id))!=null?a:[]}const u={id:e.id,value:i};if(l){var d;return(d=r==null?void 0:r.map(c=>c.id===e.id?u:c))!=null?d:[]}return r!=null&&r.length?[...r,u]:[u]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=o=>{var l;return(l=Ce(t,o))==null?void 0:l.filter(i=>{const a=n.find(u=>u.id===i.id);if(a){const u=a.getFilterFn();if(On(u,i.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function On(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Lo=(e,t,n)=>n.reduce((r,o)=>{const l=o.getValue(e);return r+(typeof l=="number"?l:0)},0),Ao=(e,t,n)=>{let r;return n.forEach(o=>{const l=o.getValue(e);l!=null&&(r>l||r===void 0&&l>=l)&&(r=l)}),r},Ho=(e,t,n)=>{let r;return n.forEach(o=>{const l=o.getValue(e);l!=null&&(r<l||r===void 0&&l>=l)&&(r=l)}),r},Go=(e,t,n)=>{let r,o;return n.forEach(l=>{const i=l.getValue(e);i!=null&&(r===void 0?i>=i&&(r=o=i):(r>i&&(r=i),o<i&&(o=i)))}),[r,o]},Bo=(e,t)=>{let n=0,r=0;if(t.forEach(o=>{let l=o.getValue(e);l!=null&&(l=+l)>=l&&(++n,r+=l)}),n)return r/n},qo=(e,t)=>{if(!t.length)return;const n=t.map(l=>l.getValue(e));if(!Vo(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),o=n.sort((l,i)=>l-i);return n.length%2!==0?o[r]:(o[r-1]+o[r])/2},Uo=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Wo=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Xo=(e,t)=>t.length,kt={sum:Lo,min:Ao,max:Ho,extent:Go,mean:Bo,median:qo,unique:Uo,uniqueCount:Wo,count:Xo},Ko={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:K("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return kt.sum;if(Object.prototype.toString.call(r)==="[object Date]")return kt.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Dt(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:kt[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}}};function Yo(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(l=>l.id===o)).filter(Boolean),...r]}const Jo={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:K("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=F(n=>[Xe(t,n)],n=>n.findIndex(r=>r.id===e.id),E(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Xe(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const o=Xe(t,n);return((r=o[o.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=F(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>o=>{let l=[];if(!(t!=null&&t.length))l=o;else{const i=[...t],a=[...o];for(;a.length&&i.length;){const u=i.shift(),d=a.findIndex(c=>c.id===u);d>-1&&l.push(a.splice(d,1)[0])}l=[...l,...a]}return Yo(l,n,r)},E(e.options,"debugTable"))}},_t=()=>({left:[],right:[]}),Qo={getInitialState:e=>({columnPinning:_t(),...e}),getDefaultOptions:e=>({onColumnPinningChange:K("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var l,i;if(n==="right"){var a,u;return{left:((a=o==null?void 0:o.left)!=null?a:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((u=o==null?void 0:o.right)!=null?u:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var d,c;return{left:[...((d=o==null?void 0:o.left)!=null?d:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((c=o==null?void 0:o.right)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((l=o==null?void 0:o.left)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),right:((i=o==null?void 0:o.right)!=null?i:[]).filter(f=>!(r!=null&&r.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(n=>{var r,o,l;return((r=n.columnDef.enablePinning)!=null?r:!0)&&((o=(l=t.options.enableColumnPinning)!=null?l:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:o}=t.getState().columnPinning,l=n.some(a=>r==null?void 0:r.includes(a)),i=n.some(a=>o==null?void 0:o.includes(a));return l?"left":i?"right":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();return o?(n=(r=t.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=F(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,o)=>{const l=[...r??[],...o??[]];return n.filter(i=>!l.includes(i.column.id))},E(t.options,"debugRows")),e.getLeftVisibleCells=F(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(l=>l.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),E(t.options,"debugRows")),e.getRightVisibleCells=F(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(l=>l.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),E(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?_t():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:_t())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var o,l;return!!((o=r.left)!=null&&o.length||(l=r.right)!=null&&l.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=F(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),E(e.options,"debugColumns")),e.getRightLeafColumns=F(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),E(e.options,"debugColumns")),e.getCenterLeafColumns=F(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const o=[...n??[],...r??[]];return t.filter(l=>!o.includes(l.id))},E(e.options,"debugColumns"))}};function Zo(e){return e||(typeof document<"u"?document:null)}const gt={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Lt=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),el={getDefaultColumnDef:()=>gt,getInitialState:e=>({columnSizing:{},columnSizingInfo:Lt(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:K("columnSizing",e),onColumnSizingInfoChange:K("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,o;const l=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:gt.minSize,(r=l??e.columnDef.size)!=null?r:gt.size),(o=e.columnDef.maxSize)!=null?o:gt.maxSize)},e.getStart=F(n=>[n,Xe(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((o,l)=>o+l.getSize(),0),E(t.options,"debugColumns")),e.getAfter=F(n=>[n,Xe(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((o,l)=>o+l.getSize(),0),E(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...o}=n;return o})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var l;n+=(l=o.column.getSize())!=null?l:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),o=r==null?void 0:r.getCanResize();return l=>{if(!r||!o||(l.persist==null||l.persist(),At(l)&&l.touches&&l.touches.length>1))return;const i=e.getSize(),a=e?e.getLeafHeaders().map(w=>[w.column.id,w.column.getSize()]):[[r.id,r.getSize()]],u=At(l)?Math.round(l.touches[0].clientX):l.clientX,d={},c=(w,S)=>{typeof S=="number"&&(t.setColumnSizingInfo(x=>{var M,C;const y=t.options.columnResizeDirection==="rtl"?-1:1,R=(S-((M=x==null?void 0:x.startOffset)!=null?M:0))*y,P=Math.max(R/((C=x==null?void 0:x.startSize)!=null?C:0),-.999999);return x.columnSizingStart.forEach(I=>{let[D,$]=I;d[D]=Math.round(Math.max($+$*P,0)*100)/100}),{...x,deltaOffset:R,deltaPercentage:P}}),(t.options.columnResizeMode==="onChange"||w==="end")&&t.setColumnSizing(x=>({...x,...d})))},f=w=>c("move",w),g=w=>{c("end",w),t.setColumnSizingInfo(S=>({...S,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},s=Zo(n),m={moveHandler:w=>f(w.clientX),upHandler:w=>{s==null||s.removeEventListener("mousemove",m.moveHandler),s==null||s.removeEventListener("mouseup",m.upHandler),g(w.clientX)}},b={moveHandler:w=>(w.cancelable&&(w.preventDefault(),w.stopPropagation()),f(w.touches[0].clientX),!1),upHandler:w=>{var S;s==null||s.removeEventListener("touchmove",b.moveHandler),s==null||s.removeEventListener("touchend",b.upHandler),w.cancelable&&(w.preventDefault(),w.stopPropagation()),g((S=w.touches[0])==null?void 0:S.clientX)}},v=tl()?{passive:!1}:!1;At(l)?(s==null||s.addEventListener("touchmove",b.moveHandler,v),s==null||s.addEventListener("touchend",b.upHandler,v)):(s==null||s.addEventListener("mousemove",m.moveHandler,v),s==null||s.addEventListener("mouseup",m.upHandler,v)),t.setColumnSizingInfo(w=>({...w,startOffset:u,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Lt():(n=e.initialState.columnSizingInfo)!=null?n:Lt())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0}}};let ft=null;function tl(){if(typeof ft=="boolean")return ft;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return ft=e,ft}function At(e){return e.type==="touchstart"}const nl={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:K("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const o=e.columns;return(n=o.length?o.some(l=>l.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=F(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),E(t.options,"debugRows")),e.getVisibleCells=F(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,o)=>[...n,...r,...o],E(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>F(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(l=>l.getIsVisible==null?void 0:l.getIsVisible()),E(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,l)=>({...o,[l.id]:n||!(l.getCanHide!=null&&l.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Xe(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const rl={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},ol={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:K("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,o,l;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((l=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?l:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>ve.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Dt(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:ve[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},ll={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:K("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var o,l;e.setExpanded(r?{}:(o=(l=e.initialState)==null?void 0:l.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const l=o.split(".");r=Math.max(r,l.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var o;const l=r===!0?!0:!!(r!=null&&r[e.id]);let i={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{i[a]=!0}):i=r,n=(o=n)!=null?o:!l,!l&&n)return{...i,[e.id]:!0};if(l&&!n){const{[e.id]:a,...u}=i;return u}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,o;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Jt=0,Qt=10,Ht=()=>({pageIndex:Jt,pageSize:Qt}),il={getInitialState:e=>({...e,pagination:{...Ht(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:K("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const o=l=>Ce(r,l);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=r=>{var o;e.setPagination(r?Ht():(o=e.initialState.pagination)!=null?o:Ht())},e.setPageIndex=r=>{e.setPagination(o=>{let l=Ce(r,o.pageIndex);const i=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return l=Math.max(0,Math.min(l,i)),{...o,pageIndex:l}})},e.resetPageIndex=r=>{var o,l;e.setPageIndex(r?Jt:(o=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageIndex)!=null?o:Jt)},e.resetPageSize=r=>{var o,l;e.setPageSize(r?Qt:(o=(l=e.initialState)==null||(l=l.pagination)==null?void 0:l.pageSize)!=null?o:Qt)},e.setPageSize=r=>{e.setPagination(o=>{const l=Math.max(1,Ce(r,o.pageSize)),i=o.pageSize*o.pageIndex,a=Math.floor(i/l);return{...o,pageIndex:a,pageSize:l}})},e.setPageCount=r=>e.setPagination(o=>{var l;let i=Ce(r,(l=e.options.pageCount)!=null?l:-1);return typeof i=="number"&&(i=Math.max(-1,i)),{...o,pageCount:i}}),e.getPageOptions=F(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((l,i)=>i)),o},E(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Gt=()=>({top:[],bottom:[]}),al={getInitialState:e=>({rowPinning:Gt(),...e}),getDefaultOptions:e=>({onRowPinningChange:K("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,o)=>{const l=r?e.getLeafRows().map(u=>{let{id:d}=u;return d}):[],i=o?e.getParentRows().map(u=>{let{id:d}=u;return d}):[],a=new Set([...i,e.id,...l]);t.setRowPinning(u=>{var d,c;if(n==="bottom"){var f,g;return{top:((f=u==null?void 0:u.top)!=null?f:[]).filter(b=>!(a!=null&&a.has(b))),bottom:[...((g=u==null?void 0:u.bottom)!=null?g:[]).filter(b=>!(a!=null&&a.has(b))),...Array.from(a)]}}if(n==="top"){var s,m;return{top:[...((s=u==null?void 0:u.top)!=null?s:[]).filter(b=>!(a!=null&&a.has(b))),...Array.from(a)],bottom:((m=u==null?void 0:u.bottom)!=null?m:[]).filter(b=>!(a!=null&&a.has(b)))}}return{top:((d=u==null?void 0:u.top)!=null?d:[]).filter(b=>!(a!=null&&a.has(b))),bottom:((c=u==null?void 0:u.bottom)!=null?c:[]).filter(b=>!(a!=null&&a.has(b)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=t.options;return typeof r=="function"?r(e):(n=r??o)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:o}=t.getState().rowPinning,l=n.some(a=>r==null?void 0:r.includes(a)),i=n.some(a=>o==null?void 0:o.includes(a));return l?"top":i?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();if(!o)return-1;const l=(n=o==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(i=>{let{id:a}=i;return a});return(r=l==null?void 0:l.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Gt():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Gt())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var o,l;return!!((o=r.top)!=null&&o.length||(l=r.bottom)!=null&&l.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(n??[]).map(l=>{const i=e.getRow(l,!0);return i.getIsAllParentsExpanded()?i:null}):(n??[]).map(l=>t.find(i=>i.id===l))).filter(Boolean).map(l=>({...l,position:r}))},e.getTopRows=F(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),E(e.options,"debugRows")),e.getBottomRows=F(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),E(e.options,"debugRows")),e.getCenterRows=F(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const o=new Set([...n??[],...r??[]]);return t.filter(l=>!o.has(l.id))},E(e.options,"debugRows"))}},sl={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:K("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(l=>{l.getCanSelect()&&(r[l.id]=!0)}):o.forEach(l=>{delete r[l.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach(l=>{Zt(o,l.id,r,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=F(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Bt(e,n):{rows:[],flatRows:[],rowsById:{}},E(e.options,"debugTable")),e.getFilteredSelectedRowModel=F(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Bt(e,n):{rows:[],flatRows:[],rowsById:{}},E(e.options,"debugTable")),e.getGroupedSelectedRowModel=F(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Bt(e,n):{rows:[],flatRows:[],rowsById:{}},E(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(o=>o.getCanSelect()&&!n[o.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(o=>!n[o.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const o=e.getIsSelected();t.setRowSelection(l=>{var i;if(n=typeof n<"u"?n:!o,e.getCanSelect()&&o===n)return l;const a={...l};return Zt(a,e.id,n,(i=r==null?void 0:r.selectChildren)!=null?i:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return gn(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return en(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return en(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var o;n&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},Zt=(e,t,n,r,o)=>{var l;const i=o.getRow(t,!0);n?(i.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),i.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(l=i.subRows)!=null&&l.length&&i.getCanSelectSubRows()&&i.subRows.forEach(a=>Zt(e,a.id,n,r,o))};function Bt(e,t){const n=e.getState().rowSelection,r=[],o={},l=function(i,a){return i.map(u=>{var d;const c=gn(u,n);if(c&&(r.push(u),o[u.id]=u),(d=u.subRows)!=null&&d.length&&(u={...u,subRows:l(u.subRows)}),c)return u}).filter(Boolean)};return{rows:l(t.rows),flatRows:r,rowsById:o}}function gn(e,t){var n;return(n=t[e.id])!=null?n:!1}function en(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let o=!0,l=!1;return e.subRows.forEach(i=>{if(!(l&&!o)&&(i.getCanSelect()&&(gn(i,t)?l=!0:o=!1),i.subRows&&i.subRows.length)){const a=en(i,t);a==="all"?l=!0:(a==="some"&&(l=!0),o=!1)}}),o?"all":l?"some":!1}const tn=/([0-9]+)/gm,ul=(e,t,n)=>cr(Re(e.getValue(n)).toLowerCase(),Re(t.getValue(n)).toLowerCase()),dl=(e,t,n)=>cr(Re(e.getValue(n)),Re(t.getValue(n))),cl=(e,t,n)=>fn(Re(e.getValue(n)).toLowerCase(),Re(t.getValue(n)).toLowerCase()),gl=(e,t,n)=>fn(Re(e.getValue(n)),Re(t.getValue(n))),fl=(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},pl=(e,t,n)=>fn(e.getValue(n),t.getValue(n));function fn(e,t){return e===t?0:e>t?1:-1}function Re(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function cr(e,t){const n=e.split(tn).filter(Boolean),r=t.split(tn).filter(Boolean);for(;n.length&&r.length;){const o=n.shift(),l=r.shift(),i=parseInt(o,10),a=parseInt(l,10),u=[i,a].sort();if(isNaN(u[0])){if(o>l)return 1;if(l>o)return-1;continue}if(isNaN(u[1]))return isNaN(i)?-1:1;if(i>a)return 1;if(a>i)return-1}return n.length-r.length}const qe={alphanumeric:ul,alphanumericCaseSensitive:dl,text:cl,textCaseSensitive:gl,datetime:fl,basic:pl},ml={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:K("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of n){const l=o==null?void 0:o.getValue(e.id);if(Object.prototype.toString.call(l)==="[object Date]")return qe.datetime;if(typeof l=="string"&&(r=!0,l.split(tn).length>1))return qe.alphanumeric}return r?qe.text:qe.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Dt(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:qe[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const o=e.getNextSortingOrder(),l=typeof n<"u"&&n!==null;t.setSorting(i=>{const a=i==null?void 0:i.find(s=>s.id===e.id),u=i==null?void 0:i.findIndex(s=>s.id===e.id);let d=[],c,f=l?n:o==="desc";if(i!=null&&i.length&&e.getCanMultiSort()&&r?a?c="toggle":c="add":i!=null&&i.length&&u!==i.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(l||o||(c="remove")),c==="add"){var g;d=[...i,{id:e.id,desc:f}],d.splice(0,d.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else c==="toggle"?d=i.map(s=>s.id===e.id?{...s,desc:f}:s):c==="remove"?d=i.filter(s=>s.id!==e.id):d=[{id:e.id,desc:f}];return d})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,o;const l=e.getFirstSortDir(),i=e.getIsSorted();return i?i!==l&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(o=t.options.enableMultiRemove)!=null)||o)?!1:i==="desc"?"asc":"desc":l},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},hl=[To,nl,Jo,Qo,ko,_o,rl,ol,ml,Ko,ll,il,al,sl,el];function bl(e){var t,n;const r=[...hl,...(t=e._features)!=null?t:[]];let o={_features:r};const l=o._features.reduce((f,g)=>Object.assign(f,g.getDefaultOptions==null?void 0:g.getDefaultOptions(o)),{}),i=f=>o.options.mergeOptions?o.options.mergeOptions(l,f):{...l,...f};let a={...(n=e.initialState)!=null?n:{}};o._features.forEach(f=>{var g;a=(g=f.getInitialState==null?void 0:f.getInitialState(a))!=null?g:a});const u=[];let d=!1;const c={_features:r,options:{...l,...e},initialState:a,_queue:f=>{u.push(f),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{o.setState(o.initialState)},setOptions:f=>{const g=Ce(f,o.options);o.options=i(g)},getState:()=>o.options.state,setState:f=>{o.options.onStateChange==null||o.options.onStateChange(f)},_getRowId:(f,g,s)=>{var m;return(m=o.options.getRowId==null?void 0:o.options.getRowId(f,g,s))!=null?m:`${s?[s.id,g].join("."):g}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(f,g)=>{let s=(g?o.getPrePaginationRowModel():o.getRowModel()).rowsById[f];if(!s&&(s=o.getCoreRowModel().rowsById[f],!s))throw new Error;return s},_getDefaultColumnDef:F(()=>[o.options.defaultColumn],f=>{var g;return f=(g=f)!=null?g:{},{header:s=>{const m=s.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:s=>{var m,b;return(m=(b=s.renderValue())==null||b.toString==null?void 0:b.toString())!=null?m:null},...o._features.reduce((s,m)=>Object.assign(s,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...f}},E(e,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:F(()=>[o._getColumnDefs()],f=>{const g=function(s,m,b){return b===void 0&&(b=0),s.map(v=>{const w=Oo(o,v,b,m),S=v;return w.columns=S.columns?g(S.columns,w,b+1):[],w})};return g(f)},E(e,"debugColumns")),getAllFlatColumns:F(()=>[o.getAllColumns()],f=>f.flatMap(g=>g.getFlatColumns()),E(e,"debugColumns")),_getAllFlatColumnsById:F(()=>[o.getAllFlatColumns()],f=>f.reduce((g,s)=>(g[s.id]=s,g),{}),E(e,"debugColumns")),getAllLeafColumns:F(()=>[o.getAllColumns(),o._getOrderColumnsFn()],(f,g)=>{let s=f.flatMap(m=>m.getLeafColumns());return g(s)},E(e,"debugColumns")),getColumn:f=>o._getAllFlatColumnsById()[f]};Object.assign(o,c);for(let f=0;f<o._features.length;f++){const g=o._features[f];g==null||g.createTable==null||g.createTable(o)}return o}function vl(){return e=>F(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(o,l,i){l===void 0&&(l=0);const a=[];for(let d=0;d<o.length;d++){const c=dn(e,e._getRowId(o[d],d,i),o[d],d,l,void 0,i==null?void 0:i.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),e.options.getSubRows){var u;c.originalSubRows=e.options.getSubRows(o[d],d),(u=c.originalSubRows)!=null&&u.length&&(c.subRows=r(c.originalSubRows,l+1,c))}}return a};return n.rows=r(t),n},E(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function wl(e){const t=[],n=r=>{var o;t.push(r),(o=r.subRows)!=null&&o.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function xl(e,t,n){return n.options.filterFromLeafRows?Cl(e,t,n):Sl(e,t,n)}function Cl(e,t,n){var r;const o=[],l={},i=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(u,d){d===void 0&&(d=0);const c=[];for(let g=0;g<u.length;g++){var f;let s=u[g];const m=dn(n,s.id,s.original,s.index,s.depth,void 0,s.parentId);if(m.columnFilters=s.columnFilters,(f=s.subRows)!=null&&f.length&&d<i){if(m.subRows=a(s.subRows,d+1),s=m,t(s)&&!m.subRows.length){c.push(s),l[s.id]=s,o.push(s);continue}if(t(s)||m.subRows.length){c.push(s),l[s.id]=s,o.push(s);continue}}else s=m,t(s)&&(c.push(s),l[s.id]=s,o.push(s))}return c};return{rows:a(e),flatRows:o,rowsById:l}}function Sl(e,t,n){var r;const o=[],l={},i=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(u,d){d===void 0&&(d=0);const c=[];for(let g=0;g<u.length;g++){let s=u[g];if(t(s)){var f;if((f=s.subRows)!=null&&f.length&&d<i){const m=dn(n,s.id,s.original,s.index,s.depth,void 0,s.parentId);m.subRows=a(s.subRows,d+1),s=m}c.push(s),o.push(s),l[s.id]=s}}return c};return{rows:a(e),flatRows:o,rowsById:l}}function Rl(){return e=>F(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let g=0;g<t.flatRows.length;g++)t.flatRows[g].columnFilters={},t.flatRows[g].columnFiltersMeta={};return t}const o=[],l=[];(n??[]).forEach(g=>{var s;const m=e.getColumn(g.id);if(!m)return;const b=m.getFilterFn();b&&o.push({id:g.id,filterFn:b,resolvedValue:(s=b.resolveFilterValue==null?void 0:b.resolveFilterValue(g.value))!=null?s:g.value})});const i=(n??[]).map(g=>g.id),a=e.getGlobalFilterFn(),u=e.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());r&&a&&u.length&&(i.push("__global__"),u.forEach(g=>{var s;l.push({id:g.id,filterFn:a,resolvedValue:(s=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?s:r})}));let d,c;for(let g=0;g<t.flatRows.length;g++){const s=t.flatRows[g];if(s.columnFilters={},o.length)for(let m=0;m<o.length;m++){d=o[m];const b=d.id;s.columnFilters[b]=d.filterFn(s,b,d.resolvedValue,v=>{s.columnFiltersMeta[b]=v})}if(l.length){for(let m=0;m<l.length;m++){c=l[m];const b=c.id;if(c.filterFn(s,b,c.resolvedValue,v=>{s.columnFiltersMeta[b]=v})){s.columnFilters.__global__=!0;break}}s.columnFilters.__global__!==!0&&(s.columnFilters.__global__=!1)}}const f=g=>{for(let s=0;s<i.length;s++)if(g.columnFilters[i[s]]===!1)return!1;return!0};return xl(t.rows,f,e)},E(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function yl(e){return t=>F(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:o,pageIndex:l}=n;let{rows:i,flatRows:a,rowsById:u}=r;const d=o*l,c=d+o;i=i.slice(d,c);let f;t.options.paginateExpandedRows?f={rows:i,flatRows:a,rowsById:u}:f=wl({rows:i,flatRows:a,rowsById:u}),f.flatRows=[];const g=s=>{f.flatRows.push(s),s.subRows.length&&s.subRows.forEach(g)};return f.rows.forEach(g),f},E(t.options,"debugTable"))}function Ml(){return e=>F(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,o=[],l=r.filter(u=>{var d;return(d=e.getColumn(u.id))==null?void 0:d.getCanSort()}),i={};l.forEach(u=>{const d=e.getColumn(u.id);d&&(i[u.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const a=u=>{const d=u.map(c=>({...c}));return d.sort((c,f)=>{for(let s=0;s<l.length;s+=1){var g;const m=l[s],b=i[m.id],v=b.sortUndefined,w=(g=m==null?void 0:m.desc)!=null?g:!1;let S=0;if(v){const x=c.getValue(m.id),M=f.getValue(m.id),C=x===void 0,y=M===void 0;if(C||y){if(v==="first")return C?-1:1;if(v==="last")return C?1:-1;S=C&&y?0:C?v:-v}}if(S===0&&(S=b.sortingFn(c,f,m.id)),S!==0)return w&&(S*=-1),b.invertSorting&&(S*=-1),S}return c.index-f.index}),d.forEach(c=>{var f;o.push(c),(f=c.subRows)!=null&&f.length&&(c.subRows=a(c.subRows))}),d};return{rows:a(n.rows),flatRows:o,rowsById:n.rowsById}},E(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function gr(e,t){return e?Il(e)?p.createElement(e,t):e:null}function Il(e){return Dl(e)||typeof e=="function"||Fl(e)}function Dl(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function Fl(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function El(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=p.useState(()=>({current:bl(t)})),[r,o]=p.useState(()=>n.current.initialState);return n.current.setOptions(l=>({...l,...e,state:{...r,...e.state},onStateChange:i=>{o(i),e.onStateChange==null||e.onStateChange(i)}})),n.current}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],$l=fe("chevrons-left",Pl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Vl=fe("chevron-left",Nl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],jl=fe("chevrons-right",zl);function Ol({className:e,table:t,showSelected:n,pageSizes:r,enableHotkeyNavigation:o,beginElement:l,scrollMode:i,virtuosoRef:a}){const{t:u}=It(),[d]=Qn(g=>({sm:g.viewport.sm,md:g.viewport.md})),c=p.useCallback(()=>{i==="none"||!a.current||setTimeout(()=>{var s;const g=t.getState().pagination.pageIndex*t.getState().pagination.pageSize;(s=a.current)==null||s.scrollToIndex(g)},0)},[t,i,a]);O.useEffect(()=>{if(!o)return;const g=s=>{!o||document.activeElement&&document.activeElement.nodeName==="INPUT"||(s.key==="ArrowLeft"&&t.getCanPreviousPage()?(s.preventDefault(),t.previousPage(),c()):s.key==="ArrowRight"&&t.getCanNextPage()&&(s.preventDefault(),t.nextPage(),c()))};return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[o,c,t,i]);const f=p.useMemo(()=>r||[10,15,25,50,75,100],[r]);return h.jsxs("div",{className:z("flex items-center justify-between px-2 pt-4 pb-2 gap-2",e),children:[n?h.jsx("div",{className:"flex-1 text-sm text-muted-foreground",children:u("label.rowsSelectedOf",{current:t.getFilteredSelectedRowModel().rows.length,total:t.getFilteredRowModel().rows.length})}):l?h.jsxs(h.Fragment,{children:[l,h.jsx("div",{className:"flex-1"})]}):h.jsx("div",{className:"flex-1 text-sm text-muted-foreground",children:`Total row(s): ${t.getFilteredRowModel().rows.length}`}),i!=="windowInfinite"&&h.jsxs("div",{className:"flex items-center gap-x-6 lg:gap-x-8",children:[h.jsxs("div",{className:"flex items-center gap-x-2",children:[d.md&&h.jsx("p",{className:"text-sm font-medium",children:i!=="none"?"Visible rows":u("label.rowsPerPage")}),h.jsx(wo,{className:"h-8 w-[70px]",value:t.getState().pagination.pageSize,onSelect:g=>{t.setPageSize(Number(g.value)),c()},options:f})]}),d.sm&&h.jsx("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:u("label.pageOf",{current:t.getState().pagination.pageIndex+1,total:t.getPageCount()})}),h.jsx("div",{className:"flex items-center space-x-2",children:h.jsxs(bt,{children:[h.jsxs(xe,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>{t.setPageIndex(0),c()},disabled:!t.getCanPreviousPage(),children:[h.jsx("span",{className:"sr-only",children:u("label.firstPage")}),h.jsx($l,{className:"h-4 w-4"})]}),h.jsxs(Qe,{children:[h.jsx(Ze,{asChild:!0,children:h.jsxs(xe,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>{t.previousPage(),c()},disabled:!t.getCanPreviousPage(),onFocus:g=>g.preventDefault(),onKeyDown:g=>{(g.key==="ArrowRight"||g.key==="ArrowLeft")&&g.preventDefault()},children:[h.jsx("span",{className:"sr-only",children:u("label.prevPage")}),h.jsx(Vl,{className:"h-4 w-4"})]})}),h.jsx(et,{children:h.jsx(vt,{children:u("label.arrowLeftHotkeyTT")})})]}),h.jsxs(Qe,{children:[h.jsx(Ze,{asChild:!0,children:h.jsxs(xe,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>{t.nextPage(),c()},disabled:!t.getCanNextPage(),onFocus:g=>g.preventDefault(),onKeyDown:g=>{(g.key==="ArrowRight"||g.key==="ArrowLeft")&&g.preventDefault()},children:[h.jsx("span",{className:"sr-only",children:u("label.nextPage")}),h.jsx(xo,{className:"h-4 w-4"})]})}),h.jsx(et,{children:h.jsx(vt,{children:u("label.arrowRightHotkeyTT")})})]}),h.jsxs(xe,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>{t.setPageIndex(t.getPageCount()-1),c()},disabled:!t.getCanNextPage(),children:[h.jsx("span",{className:"sr-only",children:u("label.lastPage")}),h.jsx(jl,{className:"h-4 w-4"})]})]})})]})]})}const pn=p.createContext(null),ls=({children:e,storeContext:t})=>h.jsx(pn.Provider,{value:t,children:e}),nn=e=>{const t=p.useContext(pn);if(!t)throw new Error("useServiceStore must be use within ServiceStoreProvider");return Ve(t,e)},Tl=()=>{const e=p.useContext(pn);if(!e)throw new Error("useServiceStore must be use within ServiceStoreProvider");return e};function kl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const Ft=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ze(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function mn(e){return"nodeType"in e}function G(e){var t,n;return e?ze(e)?e:mn(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function hn(e){const{Document:t}=G(e);return e instanceof t}function rt(e){return ze(e)?!1:e instanceof G(e).HTMLElement}function fr(e){return e instanceof G(e).SVGElement}function je(e){return e?ze(e)?e.document:mn(e)?hn(e)?e:rt(e)||fr(e)?e.ownerDocument:document:document:document}const oe=Ft?p.useLayoutEffect:p.useEffect;function bn(e){const t=p.useRef(e);return oe(()=>{t.current=e}),p.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function _l(){const e=p.useRef(null),t=p.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function tt(e,t){t===void 0&&(t=[e]);const n=p.useRef(e);return oe(()=>{n.current!==e&&(n.current=e)},t),n}function ot(e,t){const n=p.useRef();return p.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function xt(e){const t=bn(e),n=p.useRef(null),r=p.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function rn(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let qt={};function lt(e,t){return p.useMemo(()=>{if(t)return t;const n=qt[e]==null?0:qt[e]+1;return qt[e]=n,e+"-"+n},[e,t])}function pr(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((l,i)=>{const a=Object.entries(i);for(const[u,d]of a){const c=l[u];c!=null&&(l[u]=c+e*d)}return l},{...t})}}const $e=pr(1),Ct=pr(-1);function Ll(e){return"clientX"in e&&"clientY"in e}function vn(e){if(!e)return!1;const{KeyboardEvent:t}=G(e.target);return t&&e instanceof t}function Al(e){if(!e)return!1;const{TouchEvent:t}=G(e.target);return t&&e instanceof t}function on(e){if(Al(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Ll(e)?{x:e.clientX,y:e.clientY}:null}const Ne=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ne.Translate.toString(e),Ne.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Tn="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Hl(e){return e.matches(Tn)?e:e.querySelector(Tn)}const Gl={display:"none"};function Bl(e){let{id:t,value:n}=e;return O.createElement("div",{id:t,style:Gl},n)}function ql(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return O.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function Ul(){const[e,t]=p.useState("");return{announce:p.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const mr=p.createContext(null);function Wl(e){const t=p.useContext(mr);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Xl(){const[e]=p.useState(()=>new Set),t=p.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[p.useCallback(n=>{let{type:r,event:o}=n;e.forEach(l=>{var i;return(i=l[r])==null?void 0:i.call(l,o)})},[e]),t]}const Kl={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Yl={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Jl(e){let{announcements:t=Yl,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=Kl}=e;const{announce:l,announcement:i}=Ul(),a=lt("DndLiveRegion"),[u,d]=p.useState(!1);if(p.useEffect(()=>{d(!0)},[]),Wl(p.useMemo(()=>({onDragStart(f){let{active:g}=f;l(t.onDragStart({active:g}))},onDragMove(f){let{active:g,over:s}=f;t.onDragMove&&l(t.onDragMove({active:g,over:s}))},onDragOver(f){let{active:g,over:s}=f;l(t.onDragOver({active:g,over:s}))},onDragEnd(f){let{active:g,over:s}=f;l(t.onDragEnd({active:g,over:s}))},onDragCancel(f){let{active:g,over:s}=f;l(t.onDragCancel({active:g,over:s}))}}),[l,t])),!u)return null;const c=O.createElement(O.Fragment,null,O.createElement(Bl,{id:r,value:o.draggable}),O.createElement(ql,{id:a,announcement:i}));return n?We.createPortal(c,n):c}var T;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(T||(T={}));function St(){}function Ut(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function Ql(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const ee=Object.freeze({x:0,y:0});function Zl(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ei(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function ti(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function ni(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function kn(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const ri=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=kn(t,t.left,t.top),l=[];for(const i of r){const{id:a}=i,u=n.get(a);if(u){const d=Zl(kn(u),o);l.push({id:a,data:{droppableContainer:i,value:d}})}}return l.sort(ei)};function oi(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),i=o-r,a=l-n;if(r<o&&n<l){const u=t.width*t.height,d=e.width*e.height,c=i*a,f=c/(u+d-c);return Number(f.toFixed(4))}return 0}const li=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const l of r){const{id:i}=l,a=n.get(i);if(a){const u=oi(a,t);u>0&&o.push({id:i,data:{droppableContainer:l,value:u}})}}return o.sort(ti)};function ii(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function hr(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ee}function ai(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((l,i)=>({...l,top:l.top+e*i.y,bottom:l.bottom+e*i.y,left:l.left+e*i.x,right:l.right+e*i.x}),{...t})}}const si=ai(1);function ui(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function di(e,t,n){const r=ui(t);if(!r)return e;const{scaleX:o,scaleY:l,x:i,y:a}=r,u=e.left-i-(1-o)*parseFloat(n),d=e.top-a-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),c=o?e.width/o:e.width,f=l?e.height/l:e.height;return{width:c,height:f,top:d,right:u+c,bottom:d+f,left:u}}const ci={ignoreTransform:!1};function Oe(e,t){t===void 0&&(t=ci);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:c}=G(e).getComputedStyle(e);d&&(n=di(n,d,c))}const{top:r,left:o,width:l,height:i,bottom:a,right:u}=n;return{top:r,left:o,width:l,height:i,bottom:a,right:u}}function _n(e){return Oe(e,{ignoreTransform:!0})}function gi(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function fi(e,t){return t===void 0&&(t=G(e).getComputedStyle(e)),t.position==="fixed"}function pi(e,t){t===void 0&&(t=G(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const o=t[r];return typeof o=="string"?n.test(o):!1})}function wn(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(hn(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!rt(o)||fr(o)||n.includes(o))return n;const l=G(e).getComputedStyle(o);return o!==e&&pi(o,l)&&n.push(o),fi(o,l)?n:r(o.parentNode)}return e?r(e):n}function br(e){const[t]=wn(e,1);return t??null}function Wt(e){return!Ft||!e?null:ze(e)?e:mn(e)?hn(e)||e===je(e).scrollingElement?window:rt(e)?e:null:null}function vr(e){return ze(e)?e.scrollX:e.scrollLeft}function wr(e){return ze(e)?e.scrollY:e.scrollTop}function ln(e){return{x:vr(e),y:wr(e)}}var k;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(k||(k={}));function xr(e){return!Ft||!e?!1:e===document.scrollingElement}function Cr(e){const t={x:0,y:0},n=xr(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:l,isBottom:i,isRight:a,maxScroll:r,minScroll:t}}const mi={x:.2,y:.2};function hi(e,t,n,r,o){let{top:l,left:i,right:a,bottom:u}=n;r===void 0&&(r=10),o===void 0&&(o=mi);const{isTop:d,isBottom:c,isLeft:f,isRight:g}=Cr(e),s={x:0,y:0},m={x:0,y:0},b={height:t.height*o.y,width:t.width*o.x};return!d&&l<=t.top+b.height?(s.y=k.Backward,m.y=r*Math.abs((t.top+b.height-l)/b.height)):!c&&u>=t.bottom-b.height&&(s.y=k.Forward,m.y=r*Math.abs((t.bottom-b.height-u)/b.height)),!g&&a>=t.right-b.width?(s.x=k.Forward,m.x=r*Math.abs((t.right-b.width-a)/b.width)):!f&&i<=t.left+b.width&&(s.x=k.Backward,m.x=r*Math.abs((t.left+b.width-i)/b.width)),{direction:s,speed:m}}function bi(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:i}=window;return{top:0,left:0,right:l,bottom:i,width:l,height:i}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Sr(e){return e.reduce((t,n)=>$e(t,ln(n)),ee)}function vi(e){return e.reduce((t,n)=>t+vr(n),0)}function wi(e){return e.reduce((t,n)=>t+wr(n),0)}function xi(e,t){if(t===void 0&&(t=Oe),!e)return;const{top:n,left:r,bottom:o,right:l}=t(e);br(e)&&(o<=0||l<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Ci=[["x",["left","right"],vi],["y",["top","bottom"],wi]];class xn{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=wn(n),o=Sr(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,i,a]of Ci)for(const u of i)Object.defineProperty(this,u,{get:()=>{const d=a(r),c=o[l]-d;return this.rect[u]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}let Ke=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}};function Si(e){const{EventTarget:t}=G(e);return e instanceof t?e:je(e)}function Xt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var J;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(J||(J={}));function Ln(e){e.preventDefault()}function Ri(e){e.stopPropagation()}var N;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(N||(N={}));const Rr={start:[N.Space,N.Enter],cancel:[N.Esc],end:[N.Space,N.Enter,N.Tab]},yi=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case N.Right:return{...n,x:n.x+25};case N.Left:return{...n,x:n.x-25};case N.Down:return{...n,y:n.y+25};case N.Up:return{...n,y:n.y-25}}};class Cn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Ke(je(n)),this.windowListeners=new Ke(G(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(J.Resize,this.handleCancel),this.windowListeners.add(J.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(J.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&xi(r),n(ee)}handleKeyDown(t){if(vn(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:l=Rr,coordinateGetter:i=yi,scrollBehavior:a="smooth"}=o,{code:u}=t;if(l.end.includes(u)){this.handleEnd(t);return}if(l.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:d}=r.current,c=d?{x:d.left,y:d.top}:ee;this.referenceCoordinates||(this.referenceCoordinates=c);const f=i(t,{active:n,context:r.current,currentCoordinates:c});if(f){const g=Ct(f,c),s={x:0,y:0},{scrollableAncestors:m}=r.current;for(const b of m){const v=t.code,{isTop:w,isRight:S,isLeft:x,isBottom:M,maxScroll:C,minScroll:y}=Cr(b),R=bi(b),P={x:Math.min(v===N.Right?R.right-R.width/2:R.right,Math.max(v===N.Right?R.left:R.left+R.width/2,f.x)),y:Math.min(v===N.Down?R.bottom-R.height/2:R.bottom,Math.max(v===N.Down?R.top:R.top+R.height/2,f.y))},I=v===N.Right&&!S||v===N.Left&&!x,D=v===N.Down&&!M||v===N.Up&&!w;if(I&&P.x!==f.x){const $=b.scrollLeft+g.x,j=v===N.Right&&$<=C.x||v===N.Left&&$>=y.x;if(j&&!g.y){b.scrollTo({left:$,behavior:a});return}j?s.x=b.scrollLeft-$:s.x=v===N.Right?b.scrollLeft-C.x:b.scrollLeft-y.x,s.x&&b.scrollBy({left:-s.x,behavior:a});break}else if(D&&P.y!==f.y){const $=b.scrollTop+g.y,j=v===N.Down&&$<=C.y||v===N.Up&&$>=y.y;if(j&&!g.x){b.scrollTo({top:$,behavior:a});return}j?s.y=b.scrollTop-$:s.y=v===N.Down?b.scrollTop-C.y:b.scrollTop-y.y,s.y&&b.scrollBy({top:-s.y,behavior:a});break}}this.handleMove(t,$e(Ct(f,this.referenceCoordinates),s))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Cn.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Rr,onActivation:o}=t,{active:l}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const a=l.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function An(e){return!!(e&&"distance"in e)}function Hn(e){return!!(e&&"delay"in e)}class Sn{constructor(t,n,r){var o;r===void 0&&(r=Si(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:l}=t,{target:i}=l;this.props=t,this.events=n,this.document=je(i),this.documentListeners=new Ke(this.document),this.listeners=new Ke(r),this.windowListeners=new Ke(G(i)),this.initialCoordinates=(o=on(l))!=null?o:ee,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(J.Resize,this.handleCancel),this.windowListeners.add(J.DragStart,Ln),this.windowListeners.add(J.VisibilityChange,this.handleCancel),this.windowListeners.add(J.ContextMenu,Ln),this.documentListeners.add(J.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Hn(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(An(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(J.Click,Ri,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(J.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:l}=this,{onMove:i,options:{activationConstraint:a}}=l;if(!o)return;const u=(n=on(t))!=null?n:ee,d=Ct(o,u);if(!r&&a){if(An(a)){if(a.tolerance!=null&&Xt(d,a.tolerance))return this.handleCancel();if(Xt(d,a.distance))return this.handleStart()}if(Hn(a)&&Xt(d,a.tolerance))return this.handleCancel();this.handlePending(a,d);return}t.cancelable&&t.preventDefault(),i(u)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===N.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Mi={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class yr extends Sn{constructor(t){const{event:n}=t,r=je(n.target);super(t,Mi,r)}}yr.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Ii={move:{name:"mousemove"},end:{name:"mouseup"}};var an;(function(e){e[e.RightClick=2]="RightClick"})(an||(an={}));class Mr extends Sn{constructor(t){super(t,Ii,je(t.event.target))}}Mr.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===an.RightClick?!1:(r==null||r({event:n}),!0)}}];const Kt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Ir extends Sn{constructor(t){super(t,Kt)}static setup(){return window.addEventListener(Kt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Kt.move.name,t)};function t(){}}}Ir.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var Ye;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ye||(Ye={}));var Rt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Rt||(Rt={}));function Di(e){let{acceleration:t,activator:n=Ye.Pointer,canScroll:r,draggingRect:o,enabled:l,interval:i=5,order:a=Rt.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:c,delta:f,threshold:g}=e;const s=Ei({delta:f,disabled:!l}),[m,b]=_l(),v=p.useRef({x:0,y:0}),w=p.useRef({x:0,y:0}),S=p.useMemo(()=>{switch(n){case Ye.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Ye.DraggableRect:return o}},[n,o,u]),x=p.useRef(null),M=p.useCallback(()=>{const y=x.current;if(!y)return;const R=v.current.x*w.current.x,P=v.current.y*w.current.y;y.scrollBy(R,P)},[]),C=p.useMemo(()=>a===Rt.TreeOrder?[...d].reverse():d,[a,d]);p.useEffect(()=>{if(!l||!d.length||!S){b();return}for(const y of C){if((r==null?void 0:r(y))===!1)continue;const R=d.indexOf(y),P=c[R];if(!P)continue;const{direction:I,speed:D}=hi(y,P,S,t,g);for(const $ of["x","y"])s[$][I[$]]||(D[$]=0,I[$]=0);if(D.x>0||D.y>0){b(),x.current=y,m(M,i),v.current=D,w.current=I;return}}v.current={x:0,y:0},w.current={x:0,y:0},b()},[t,M,r,b,l,i,JSON.stringify(S),JSON.stringify(s),m,d,C,c,JSON.stringify(g)])}const Fi={x:{[k.Backward]:!1,[k.Forward]:!1},y:{[k.Backward]:!1,[k.Forward]:!1}};function Ei(e){let{delta:t,disabled:n}=e;const r=rn(t);return ot(o=>{if(n||!r||!o)return Fi;const l={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[k.Backward]:o.x[k.Backward]||l.x===-1,[k.Forward]:o.x[k.Forward]||l.x===1},y:{[k.Backward]:o.y[k.Backward]||l.y===-1,[k.Forward]:o.y[k.Forward]||l.y===1}}},[n,t,r])}function Pi(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return ot(o=>{var l;return t==null?null:(l=r??o)!=null?l:null},[r,t])}function $i(e,t){return p.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,l=o.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...l]},[]),[e,t])}var nt;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(nt||(nt={}));var sn;(function(e){e.Optimized="optimized"})(sn||(sn={}));const Gn=new Map;function Ni(e,t){let{dragging:n,dependencies:r,config:o}=t;const[l,i]=p.useState(null),{frequency:a,measure:u,strategy:d}=o,c=p.useRef(e),f=v(),g=tt(f),s=p.useCallback(function(w){w===void 0&&(w=[]),!g.current&&i(S=>S===null?w:S.concat(w.filter(x=>!S.includes(x))))},[g]),m=p.useRef(null),b=ot(w=>{if(f&&!n)return Gn;if(!w||w===Gn||c.current!==e||l!=null){const S=new Map;for(let x of e){if(!x)continue;if(l&&l.length>0&&!l.includes(x.id)&&x.rect.current){S.set(x.id,x.rect.current);continue}const M=x.node.current,C=M?new xn(u(M),M):null;x.rect.current=C,C&&S.set(x.id,C)}return S}return w},[e,l,n,f,u]);return p.useEffect(()=>{c.current=e},[e]),p.useEffect(()=>{f||s()},[n,f]),p.useEffect(()=>{l&&l.length>0&&i(null)},[JSON.stringify(l)]),p.useEffect(()=>{f||typeof a!="number"||m.current!==null||(m.current=setTimeout(()=>{s(),m.current=null},a))},[a,f,s,...r]),{droppableRects:b,measureDroppableContainers:s,measuringScheduled:l!=null};function v(){switch(d){case nt.Always:return!1;case nt.BeforeDragging:return n;default:return!n}}}function Dr(e,t){return ot(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Vi(e,t){return Dr(e,t)}function zi(e){let{callback:t,disabled:n}=e;const r=bn(t),o=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(r)},[r,n]);return p.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Et(e){let{callback:t,disabled:n}=e;const r=bn(t),o=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(r)},[n]);return p.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function ji(e){return new xn(Oe(e),e)}function Bn(e,t,n){t===void 0&&(t=ji);const[r,o]=p.useState(null);function l(){o(u=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=u??n)!=null?d:null}const c=t(e);return JSON.stringify(u)===JSON.stringify(c)?u:c})}const i=zi({callback(u){if(e)for(const d of u){const{type:c,target:f}=d;if(c==="childList"&&f instanceof HTMLElement&&f.contains(e)){l();break}}}}),a=Et({callback:l});return oe(()=>{l(),e?(a==null||a.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),i==null||i.disconnect())},[e]),r}function Oi(e){const t=Dr(e);return hr(e,t)}const qn=[];function Ti(e){const t=p.useRef(e),n=ot(r=>e?r&&r!==qn&&e&&t.current&&e.parentNode===t.current.parentNode?r:wn(e):qn,[e]);return p.useEffect(()=>{t.current=e},[e]),n}function ki(e){const[t,n]=p.useState(null),r=p.useRef(e),o=p.useCallback(l=>{const i=Wt(l.target);i&&n(a=>a?(a.set(i,ln(i)),new Map(a)):null)},[]);return p.useEffect(()=>{const l=r.current;if(e!==l){i(l);const a=e.map(u=>{const d=Wt(u);return d?(d.addEventListener("scroll",o,{passive:!0}),[d,ln(d)]):null}).filter(u=>u!=null);n(a.length?new Map(a):null),r.current=e}return()=>{i(e),i(l)};function i(a){a.forEach(u=>{const d=Wt(u);d==null||d.removeEventListener("scroll",o)})}},[o,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,i)=>$e(l,i),ee):Sr(e):ee,[e,t])}function Un(e,t){t===void 0&&(t=[]);const n=p.useRef(null);return p.useEffect(()=>{n.current=null},t),p.useEffect(()=>{const r=e!==ee;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Ct(e,n.current):ee}function _i(e){p.useEffect(()=>{if(!Ft)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Li(e,t){return p.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:l}=r;return n[o]=i=>{l(i,t)},n},{}),[e,t])}function Fr(e){return p.useMemo(()=>e?gi(e):null,[e])}const Wn=[];function Ai(e,t){t===void 0&&(t=Oe);const[n]=e,r=Fr(n?G(n):null),[o,l]=p.useState(Wn);function i(){l(()=>e.length?e.map(u=>xr(u)?r:new xn(t(u),u)):Wn)}const a=Et({callback:i});return oe(()=>{a==null||a.disconnect(),i(),e.forEach(u=>a==null?void 0:a.observe(u))},[e]),o}function Hi(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return rt(t)?t:e}function Gi(e){let{measure:t}=e;const[n,r]=p.useState(null),o=p.useCallback(d=>{for(const{target:c}of d)if(rt(c)){r(f=>{const g=t(c);return f?{...f,width:g.width,height:g.height}:g});break}},[t]),l=Et({callback:o}),i=p.useCallback(d=>{const c=Hi(d);l==null||l.disconnect(),c&&(l==null||l.observe(c)),r(c?t(c):null)},[t,l]),[a,u]=xt(i);return p.useMemo(()=>({nodeRef:a,rect:n,setRef:u}),[n,a,u])}const Bi=[{sensor:yr,options:{}},{sensor:Cn,options:{}}],qi={current:{}},ht={draggable:{measure:_n},droppable:{measure:_n,strategy:nt.WhileDragging,frequency:sn.Optimized},dragOverlay:{measure:Oe}};class Je extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Ui={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Je,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:St},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ht,measureDroppableContainers:St,windowRect:null,measuringScheduled:!1},Wi={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:St,draggableNodes:new Map,over:null,measureDroppableContainers:St},Pt=p.createContext(Wi),Er=p.createContext(Ui);function Xi(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Je}}}function Ki(e,t){switch(t.type){case T.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case T.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case T.DragEnd:case T.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case T.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Je(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case T.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;const i=new Je(e.droppable.containers);return i.set(n,{...l,disabled:o}),{...e,droppable:{...e.droppable,containers:i}}}case T.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const l=new Je(e.droppable.containers);return l.delete(n),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function Yi(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=p.useContext(Pt),l=rn(r),i=rn(n==null?void 0:n.id);return p.useEffect(()=>{if(!t&&!r&&l&&i!=null){if(!vn(l)||document.activeElement===l.target)return;const a=o.get(i);if(!a)return;const{activatorNode:u,node:d}=a;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const c of[u.current,d.current]){if(!c)continue;const f=Hl(c);if(f){f.focus();break}}})}},[r,t,o,i,l]),null}function Ji(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,l)=>l({transform:o,...r}),n):n}function Qi(e){return p.useMemo(()=>({draggable:{...ht.draggable,...e==null?void 0:e.draggable},droppable:{...ht.droppable,...e==null?void 0:e.droppable},dragOverlay:{...ht.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Zi(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const l=p.useRef(!1),{x:i,y:a}=typeof o=="boolean"?{x:o,y:o}:o;oe(()=>{if(!i&&!a||!t){l.current=!1;return}if(l.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),c=hr(d,r);if(i||(c.x=0),a||(c.y=0),l.current=!0,Math.abs(c.x)>0||Math.abs(c.y)>0){const f=br(u);f&&f.scrollBy({top:c.y,left:c.x})}},[t,i,a,r,n])}const Pr=p.createContext({...ee,scaleX:1,scaleY:1});var we;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(we||(we={}));const ea=p.memo(function(e){var t,n,r,o;let{id:l,accessibility:i,autoScroll:a=!0,children:u,sensors:d=Bi,collisionDetection:c=li,measuring:f,modifiers:g,...s}=e;const m=p.useReducer(Ki,void 0,Xi),[b,v]=m,[w,S]=Xl(),[x,M]=p.useState(we.Uninitialized),C=x===we.Initialized,{draggable:{active:y,nodes:R,translate:P},droppable:{containers:I}}=b,D=y!=null?R.get(y):null,$=p.useRef({initial:null,translated:null}),j=p.useMemo(()=>{var A;return y!=null?{id:y,data:(A=D==null?void 0:D.data)!=null?A:qi,rect:$}:null},[y,D]),te=p.useRef(null),[Te,ke]=p.useState(null),[Q,Ie]=p.useState(null),le=tt(s,Object.values(s)),_e=lt("DndDescribedBy",l),it=p.useMemo(()=>I.getEnabled(),[I]),ie=Qi(f),{droppableRects:B,measureDroppableContainers:ye,measuringScheduled:Le}=Ni(it,{dragging:C,dependencies:[P.x,P.y],config:ie.droppable}),q=Pi(R,y),at=p.useMemo(()=>Q?on(Q):null,[Q]),pe=to(),ae=Vi(q,ie.draggable.measure);Zi({activeNode:y!=null?R.get(y):null,config:pe.layoutShiftCompensation,initialRect:ae,measure:ie.draggable.measure});const V=Bn(q,ie.draggable.measure,ae),Ae=Bn(q?q.parentElement:null),ne=p.useRef({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:B,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),st=I.getNodeFor((t=ne.current.over)==null?void 0:t.id),se=Gi({measure:ie.dragOverlay.measure}),De=(n=se.nodeRef.current)!=null?n:q,Fe=C?(r=se.rect)!=null?r:V:null,Mn=!!(se.nodeRef.current&&se.rect),In=Oi(Mn?null:V),zt=Fr(De?G(De):null),me=Ti(C?st??q:null),ut=Ai(me),dt=Ji(g,{transform:{x:P.x-In.x,y:P.y-In.y,scaleX:1,scaleY:1},activatorEvent:Q,active:j,activeNodeRect:V,containerNodeRect:Ae,draggingNodeRect:Fe,over:ne.current.over,overlayNodeRect:se.rect,scrollableAncestors:me,scrollableAncestorRects:ut,windowRect:zt}),Dn=at?$e(at,P):null,Fn=ki(me),Xr=Un(Fn),Kr=Un(Fn,[V]),Ee=$e(dt,Xr),Pe=Fe?si(Fe,dt):null,He=j&&Pe?c({active:j,collisionRect:Pe,droppableRects:B,droppableContainers:it,pointerCoordinates:Dn}):null,En=ni(He,"id"),[ue,Pn]=p.useState(null),Yr=Mn?dt:$e(dt,Kr),Jr=ii(Yr,(o=ue==null?void 0:ue.rect)!=null?o:null,V),jt=p.useRef(null),$n=p.useCallback((A,U)=>{let{sensor:W,options:he}=U;if(te.current==null)return;const Y=R.get(te.current);if(!Y)return;const H=A.nativeEvent,re=new W({active:te.current,activeNode:Y,event:H,options:he,context:ne,onAbort(_){if(!R.get(_))return;const{onDragAbort:X}=le.current,de={id:_};X==null||X(de),w({type:"onDragAbort",event:de})},onPending(_,X,de,Me){if(!R.get(_))return;const{onDragPending:ce}=le.current,be={id:_,constraint:X,initialCoordinates:de,offset:Me};ce==null||ce(be),w({type:"onDragPending",event:be})},onStart(_){const X=te.current;if(X==null)return;const de=R.get(X);if(!de)return;const{onDragStart:Me}=le.current,ce={activatorEvent:H,active:{id:X,data:de.data,rect:$}};We.unstable_batchedUpdates(()=>{Me==null||Me(ce),M(we.Initializing),v({type:T.DragStart,initialCoordinates:_,active:X}),w({type:"onDragStart",event:ce}),ke(jt.current),Ie(H)})},onMove(_){v({type:T.DragMove,coordinates:_})},onEnd:Ge(T.DragEnd),onCancel:Ge(T.DragCancel)});jt.current=re;function Ge(_){return async function(){const{active:X,collisions:de,over:Me,scrollAdjustedTranslate:ce}=ne.current;let be=null;if(X&&ce){const{cancelDrop:Be}=le.current;be={activatorEvent:H,active:X,collisions:de,delta:ce,over:Me},_===T.DragEnd&&typeof Be=="function"&&await Promise.resolve(Be(be))&&(_=T.DragCancel)}te.current=null,We.unstable_batchedUpdates(()=>{v({type:_}),M(we.Uninitialized),Pn(null),ke(null),Ie(null),jt.current=null;const Be=_===T.DragEnd?"onDragEnd":"onDragCancel";if(be){const Ot=le.current[Be];Ot==null||Ot(be),w({type:Be,event:be})}})}}},[R]),Qr=p.useCallback((A,U)=>(W,he)=>{const Y=W.nativeEvent,H=R.get(he);if(te.current!==null||!H||Y.dndKit||Y.defaultPrevented)return;const re={active:H};A(W,U.options,re)===!0&&(Y.dndKit={capturedBy:U.sensor},te.current=he,$n(W,U))},[R,$n]),Nn=$i(d,Qr);_i(d),oe(()=>{V&&x===we.Initializing&&M(we.Initialized)},[V,x]),p.useEffect(()=>{const{onDragMove:A}=le.current,{active:U,activatorEvent:W,collisions:he,over:Y}=ne.current;if(!U||!W)return;const H={active:U,activatorEvent:W,collisions:he,delta:{x:Ee.x,y:Ee.y},over:Y};We.unstable_batchedUpdates(()=>{A==null||A(H),w({type:"onDragMove",event:H})})},[Ee.x,Ee.y]),p.useEffect(()=>{const{active:A,activatorEvent:U,collisions:W,droppableContainers:he,scrollAdjustedTranslate:Y}=ne.current;if(!A||te.current==null||!U||!Y)return;const{onDragOver:H}=le.current,re=he.get(En),Ge=re&&re.rect.current?{id:re.id,rect:re.rect.current,data:re.data,disabled:re.disabled}:null,_={active:A,activatorEvent:U,collisions:W,delta:{x:Y.x,y:Y.y},over:Ge};We.unstable_batchedUpdates(()=>{Pn(Ge),H==null||H(_),w({type:"onDragOver",event:_})})},[En]),oe(()=>{ne.current={activatorEvent:Q,active:j,activeNode:q,collisionRect:Pe,collisions:He,droppableRects:B,draggableNodes:R,draggingNode:De,draggingNodeRect:Fe,droppableContainers:I,over:ue,scrollableAncestors:me,scrollAdjustedTranslate:Ee},$.current={initial:Fe,translated:Pe}},[j,q,He,Pe,R,De,Fe,B,I,ue,me,Ee]),Di({...pe,delta:P,draggingRect:Pe,pointerCoordinates:Dn,scrollableAncestors:me,scrollableAncestorRects:ut});const Zr=p.useMemo(()=>({active:j,activeNode:q,activeNodeRect:V,activatorEvent:Q,collisions:He,containerNodeRect:Ae,dragOverlay:se,draggableNodes:R,droppableContainers:I,droppableRects:B,over:ue,measureDroppableContainers:ye,scrollableAncestors:me,scrollableAncestorRects:ut,measuringConfiguration:ie,measuringScheduled:Le,windowRect:zt}),[j,q,V,Q,He,Ae,se,R,I,B,ue,ye,me,ut,ie,Le,zt]),eo=p.useMemo(()=>({activatorEvent:Q,activators:Nn,active:j,activeNodeRect:V,ariaDescribedById:{draggable:_e},dispatch:v,draggableNodes:R,over:ue,measureDroppableContainers:ye}),[Q,Nn,j,V,v,_e,R,ue,ye]);return O.createElement(mr.Provider,{value:S},O.createElement(Pt.Provider,{value:eo},O.createElement(Er.Provider,{value:Zr},O.createElement(Pr.Provider,{value:Jr},u)),O.createElement(Yi,{disabled:(i==null?void 0:i.restoreFocus)===!1})),O.createElement(Jl,{...i,hiddenTextDescribedById:_e}));function to(){const A=(Te==null?void 0:Te.autoScrollEnabled)===!1,U=typeof a=="object"?a.enabled===!1:a===!1,W=C&&!A&&!U;return typeof a=="object"?{...a,enabled:W}:{enabled:W}}}),ta=p.createContext(null),Xn="button",na="Draggable";function ra(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const l=lt(na),{activators:i,activatorEvent:a,active:u,activeNodeRect:d,ariaDescribedById:c,draggableNodes:f,over:g}=p.useContext(Pt),{role:s=Xn,roleDescription:m="draggable",tabIndex:b=0}=o??{},v=(u==null?void 0:u.id)===t,w=p.useContext(v?Pr:ta),[S,x]=xt(),[M,C]=xt(),y=Li(i,t),R=tt(n);oe(()=>(f.set(t,{id:t,key:l,node:S,activatorNode:M,data:R}),()=>{const I=f.get(t);I&&I.key===l&&f.delete(t)}),[f,t]);const P=p.useMemo(()=>({role:s,tabIndex:b,"aria-disabled":r,"aria-pressed":v&&s===Xn?!0:void 0,"aria-roledescription":m,"aria-describedby":c.draggable}),[r,s,b,v,m,c.draggable]);return{active:u,activatorEvent:a,activeNodeRect:d,attributes:P,isDragging:v,listeners:r?void 0:y,node:S,over:g,setNodeRef:x,setActivatorNodeRef:C,transform:w}}function oa(){return p.useContext(Er)}const la="Droppable",ia={timeout:25};function aa(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const l=lt(la),{active:i,dispatch:a,over:u,measureDroppableContainers:d}=p.useContext(Pt),c=p.useRef({disabled:n}),f=p.useRef(!1),g=p.useRef(null),s=p.useRef(null),{disabled:m,updateMeasurementsFor:b,timeout:v}={...ia,...o},w=tt(b??r),S=p.useCallback(()=>{if(!f.current){f.current=!0;return}s.current!=null&&clearTimeout(s.current),s.current=setTimeout(()=>{d(Array.isArray(w.current)?w.current:[w.current]),s.current=null},v)},[v]),x=Et({callback:S,disabled:m||!i}),M=p.useCallback((P,I)=>{x&&(I&&(x.unobserve(I),f.current=!1),P&&x.observe(P))},[x]),[C,y]=xt(M),R=tt(t);return p.useEffect(()=>{!x||!C.current||(x.disconnect(),f.current=!1,x.observe(C.current))},[C,x]),p.useEffect(()=>(a({type:T.RegisterDroppable,element:{id:r,key:l,disabled:n,node:C,rect:g,data:R}}),()=>a({type:T.UnregisterDroppable,key:l,id:r})),[r]),p.useEffect(()=>{n!==c.current.disabled&&(a({type:T.SetDroppableDisabled,id:r,key:l,disabled:n}),c.current.disabled=n)},[r,l,n,a]),{active:i,rect:g,isOver:(u==null?void 0:u.id)===r,node:C,over:u,setNodeRef:y}}const sa=e=>{let{transform:t}=e;return{...t,y:0}};function Rn(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function ua(e,t){return e.reduce((n,r,o)=>{const l=t.get(r);return l&&(n[o]=l),n},Array(e.length))}function pt(e){return e!==null&&e>=0}function da(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ca(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const mt={scaleX:1,scaleY:1},$r=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:l,index:i}=e;const a=(t=n[o])!=null?t:r;if(!a)return null;const u=ga(n,i,o);if(i===o){const d=n[l];return d?{x:o<l?d.left+d.width-(a.left+a.width):d.left-a.left,y:0,...mt}:null}return i>o&&i<=l?{x:-a.width-u,y:0,...mt}:i<o&&i>=l?{x:a.width+u,y:0,...mt}:{x:0,y:0,...mt}};function ga(e,t,n){const r=e[t],o=e[t-1],l=e[t+1];return!r||!o&&!l?0:n<t?o?r.left-(o.left+o.width):l.left-(r.left+r.width):l?l.left-(r.left+r.width):r.left-(o.left+o.width)}const Nr=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const l=Rn(t,r,n),i=t[o],a=l[o];return!a||!i?null:{x:a.left-i.left,y:a.top-i.top,scaleX:a.width/i.width,scaleY:a.height/i.height}},Vr="Sortable",zr=O.createContext({activeIndex:-1,containerId:Vr,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Nr,disabled:{draggable:!1,droppable:!1}});function jr(e){let{children:t,id:n,items:r,strategy:o=Nr,disabled:l=!1}=e;const{active:i,dragOverlay:a,droppableRects:u,over:d,measureDroppableContainers:c}=oa(),f=lt(Vr,n),g=a.rect!==null,s=p.useMemo(()=>r.map(y=>typeof y=="object"&&"id"in y?y.id:y),[r]),m=i!=null,b=i?s.indexOf(i.id):-1,v=d?s.indexOf(d.id):-1,w=p.useRef(s),S=!da(s,w.current),x=v!==-1&&b===-1||S,M=ca(l);oe(()=>{S&&m&&c(s)},[S,s,m,c]),p.useEffect(()=>{w.current=s},[s]);const C=p.useMemo(()=>({activeIndex:b,containerId:f,disabled:M,disableTransforms:x,items:s,overIndex:v,useDragOverlay:g,sortedRects:ua(s,u),strategy:o}),[b,f,M.draggable,M.droppable,x,s,v,u,g,o]);return O.createElement(zr.Provider,{value:C},t)}const fa=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Rn(n,r,o).indexOf(t)},pa=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:l,newIndex:i,previousItems:a,previousContainerId:u,transition:d}=e;return!d||!r||a!==l&&o===i?!1:n?!0:i!==o&&t===u},ma={duration:200,easing:"ease"},Or="transform",ha=Ne.Transition.toString({property:Or,duration:0,easing:"linear"}),ba={roleDescription:"sortable"};function va(e){let{disabled:t,index:n,node:r,rect:o}=e;const[l,i]=p.useState(null),a=p.useRef(n);return oe(()=>{if(!t&&n!==a.current&&r.current){const u=o.current;if(u){const d=Oe(r.current,{ignoreTransform:!0}),c={x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height};(c.x||c.y)&&i(c)}}n!==a.current&&(a.current=n)},[t,n,r,o]),p.useEffect(()=>{l&&i(null)},[l]),l}function Tr(e){let{animateLayoutChanges:t=pa,attributes:n,disabled:r,data:o,getNewIndex:l=fa,id:i,strategy:a,resizeObserverConfig:u,transition:d=ma}=e;const{items:c,containerId:f,activeIndex:g,disabled:s,disableTransforms:m,sortedRects:b,overIndex:v,useDragOverlay:w,strategy:S}=p.useContext(zr),x=wa(r,s),M=c.indexOf(i),C=p.useMemo(()=>({sortable:{containerId:f,index:M,items:c},...o}),[f,o,M,c]),y=p.useMemo(()=>c.slice(c.indexOf(i)),[c,i]),{rect:R,node:P,isOver:I,setNodeRef:D}=aa({id:i,data:C,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:y,...u}}),{active:$,activatorEvent:j,activeNodeRect:te,attributes:Te,setNodeRef:ke,listeners:Q,isDragging:Ie,over:le,setActivatorNodeRef:_e,transform:it}=ra({id:i,data:C,attributes:{...ba,...n},disabled:x.draggable}),ie=kl(D,ke),B=!!$,ye=B&&!m&&pt(g)&&pt(v),Le=!w&&Ie,q=Le&&ye?it:null,at=ye?q??(a??S)({rects:b,activeNodeRect:te,activeIndex:g,overIndex:v,index:M}):null,pe=pt(g)&&pt(v)?l({id:i,items:c,activeIndex:g,overIndex:v}):M,ae=$==null?void 0:$.id,V=p.useRef({activeId:ae,items:c,newIndex:pe,containerId:f}),Ae=c!==V.current.items,ne=t({active:$,containerId:f,isDragging:Ie,isSorting:B,id:i,index:M,items:c,newIndex:V.current.newIndex,previousItems:V.current.items,previousContainerId:V.current.containerId,transition:d,wasDragging:V.current.activeId!=null}),st=va({disabled:!ne,index:M,node:P,rect:R});return p.useEffect(()=>{B&&V.current.newIndex!==pe&&(V.current.newIndex=pe),f!==V.current.containerId&&(V.current.containerId=f),c!==V.current.items&&(V.current.items=c)},[B,pe,f,c]),p.useEffect(()=>{if(ae===V.current.activeId)return;if(ae!=null&&V.current.activeId==null){V.current.activeId=ae;return}const De=setTimeout(()=>{V.current.activeId=ae},50);return()=>clearTimeout(De)},[ae]),{active:$,activeIndex:g,attributes:Te,data:C,rect:R,index:M,newIndex:pe,items:c,isOver:I,isSorting:B,isDragging:Ie,listeners:Q,node:P,overIndex:v,over:le,setNodeRef:ie,setActivatorNodeRef:_e,setDroppableNodeRef:D,setDraggableNodeRef:ke,transform:st??at,transition:se()};function se(){if(st||Ae&&V.current.newIndex===M)return ha;if(!(Le&&!vn(j)||!d)&&(B||ne))return Ne.Transition.toString({...d,property:Or})}}function wa(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}N.Down,N.Right,N.Up,N.Left;const xa=({initialTopMostItemIndex:e,options:t,pageSizes:n,isLoading:r,noDataMessage:o,tableRef:l,insideModal:i,additinalFooterElement:a,hideFooter:u})=>{var v,w;const{scrollMode:d,rowHeight:c}=nn(Se(S=>({scrollMode:S.scrollMode,rowHeight:S.rowHeight}))),f=p.useRef(null),g=El({enableColumnResizing:!0,columnResizeMode:"onChange",getCoreRowModel:vl(),getPaginationRowModel:yl(),getSortedRowModel:Ml(),getFilteredRowModel:Rl(),...t});l&&(l.current=g);const s=p.useMemo(()=>{var S,x,M;return(S=t.state)!=null&&S.columnOrder&&t.state.columnOrder.filter(C=>C).length>0?(x=t.state)==null?void 0:x.columnOrder:((M=t.initialState)==null?void 0:M.columnOrder)||[]},[(v=t.initialState)==null?void 0:v.columnOrder,(w=t.state)==null?void 0:w.columnOrder]);function m(S){const{active:x,over:M}=S;x&&M&&x.id!==M.id&&g.setColumnOrder(C=>{let y=C;s.length!==C.length&&(y=s);let R=y.indexOf(x.id),P=y.indexOf(M.id);return(R===-1||P===-1)&&(y=s,R=y.indexOf(x.id),P=y.indexOf(M.id),R===-1||P===-1)?s:Rn(y,R,P)})}const b=Ql(Ut(Mr,{activationConstraint:{delay:200,tolerance:50}}),Ut(Ir,{activationConstraint:{delay:200,tolerance:50}}),Ut(Cn,{}));return h.jsxs("div",{className:"w-full",children:[h.jsx(ea,{collisionDetection:ri,modifiers:[sa],onDragEnd:m,sensors:b,accessibility:i&&typeof document<"u"?{container:document==null?void 0:document.body}:void 0,children:h.jsx(Ra,{scrollMode:d,rowHeight:c,virtuosoRef:f,initialTopMostItemIndex:e,table:g,columnOrder:s,isLoading:r,noDataMessage:o})}),!u&&h.jsx(Ol,{table:g,pageSizes:n,beginElement:a,enableHotkeyNavigation:!0,scrollMode:d,virtuosoRef:f})]})},Ca=({header:e,className:t})=>{const{attributes:n,isDragging:r,listeners:o,setNodeRef:l,transform:i}=Tr({id:e.column.id}),a=e.column.columnDef.meta,u={width:`calc(var(--header-${e==null?void 0:e.id}-size) * 1px)`,opacity:r?.8:1,transform:Ne.Translate.toString(i),transition:"width transform 0.2s ease-in-out",whiteSpace:"nowrap",zIndex:r?1:0};return h.jsxs(nr,{style:u,className:z("truncate",!(a!=null&&a.removePadding)&&"px-1.5",a==null?void 0:a.className,t),ref:l,children:[h.jsx("div",{className:"flex items-center cursor-pointer h-full",...n,...o,children:e.isPlaceholder?null:gr(e.column.columnDef.header,e.getContext())}),e.column.getCanResize()&&h.jsx("div",{onDoubleClick:()=>e.column.resetSize(),onMouseDown:e.getResizeHandler(),onTouchStart:e.getResizeHandler(),className:z("absolute right-0 top-0 h-full w-[5px] cursor-col-resize select-none touch-none group-hover:bg-muted",e.column.getIsResizing()&&"bg-muted")})]},e.id)},Sa=({cell:e})=>{const{isDragging:t,setNodeRef:n,transform:r}=Tr({id:e.column.id}),o=e.column.columnDef.meta,l={width:`calc(var(--col-${e.column.id}-size) * 1px)`,opacity:t?.8:1,position:"relative",transform:Ne.Translate.toString(r),transition:"width transform 0.2s ease-in-out",zIndex:t?1:0};return h.jsx(un,{style:l,className:z(o!=null&&o.removePadding?"p-0":"py-[6px] px-[6px]","truncate",o==null?void 0:o.className),ref:n,children:gr(e.column.columnDef.cell,e.getContext())})},Ra=({scrollMode:e,rowHeight:t=45,virtuosoRef:n,initialTopMostItemIndex:r,table:o,columnOrder:l,isLoading:i,noDataMessage:a})=>{const[u]=Qn(s=>({mobile:s.viewport.mobile})),d=e==="none"?o.getRowModel().rows.length:o.getSortedRowModel().rows.length,c=p.useMemo(()=>{if(d===0)return 104+t;const s=(d+1)*t;if(e==="none")return s;const m=(o.getState().pagination.pageSize+1)*t;return Math.min(s,m)},[e,d,o.getState().pagination.pageSize,t]),{columnSizeVars:f,containerRef:g}=Ia(o,e);return h.jsx("div",{ref:g,className:"rounded-none border",children:h.jsx(Co,{style:{minHeight:`${c}px`,minWidth:"640px",...f},useWindowScroll:e==="windowInfinite",ref:n,initialTopMostItemIndex:r??0,fixedItemHeight:t,rangeChanged:s=>{if(e==="none")return;const m=o.getState().pagination.pageSize;let b=Math.floor(s.startIndex/m);s.endIndex===d-1&&(b=o.getPageCount()-1),o.setPageIndex(b)},totalCount:d,context:{isLoading:i,noDataMessage:a,columnOrder:l,table:o,scrollMode:e,mobile:u.mobile},components:{Table:({context:s,...m})=>h.jsx(Zn,{...m}),TableBody:({context:s,...m})=>h.jsx(tr,{...m}),TableRow:({context:s,...m})=>{const b=m["data-index"],v=s==null?void 0:s.table,w=(s==null?void 0:s.scrollMode)==="none"?v==null?void 0:v.getRowModel().rows[b]:v==null?void 0:v.getSortedRowModel().rows[b],S=(s==null?void 0:s.columnOrder)||[];return!v||!w?null:h.jsx(ya,{row:w,table:v,index:b,columnOrder:S},w.id)},EmptyPlaceholder:({context:s})=>{const{t:m}=It();return h.jsx(wt,{className:"w-full justify-center items-center border-none",children:h.jsx(un,{className:"h-[104px] text-center",children:s!=null&&s.isLoading?h.jsxs("div",{className:"flex flex-row justify-center items-center gap-2",children:[m("label.loadingItems"),h.jsx(ro,{className:"w-4 h-4 shrink-0 animate-spin"})]}):h.jsx(h.Fragment,{children:(s==null?void 0:s.noDataMessage)||m("label.noResults")})})})},TableHead:kr},fixedHeaderContent:()=>o.getHeaderGroups().map(s=>h.jsx(wt,{style:{height:t},className:"group items-center",children:h.jsx(jr,{items:l,strategy:$r,children:s.headers.map(m=>h.jsx(Ca,{header:m,className:"h-full"},m.id))})},s.id))})})},kr=p.forwardRef(({context:e,...t},n)=>h.jsx(er,{className:"bg-background",...t,ref:n,style:{...t.style,position:(e==null?void 0:e.scrollMode)==="windowInfinite"?"relative":"sticky"}}));kr.displayName="VirtuosoTableHeader";const ya=({row:e,table:t,index:n,columnOrder:r})=>{const o=p.useMemo(()=>{var l,i;return(i=(l=t.options.meta)==null?void 0:l.isBlinking)==null?void 0:i.call(l,e.id)},[e.id,t.options.meta]);return h.jsx(wt,{id:e.id,className:z(n%2===0&&"bg-muted/15",o&&"animate-blink repeat-[2]"),children:e.getVisibleCells().map(l=>h.jsx(jr,{items:r,strategy:$r,children:h.jsx(Sa,{cell:l})},l.id))},o||e.id)},Ma=()=>{const e=O.useRef(null),[t,n]=O.useState(0);return O.useLayoutEffect(()=>{if(!e.current||e.current instanceof Window)return;const r=new ResizeObserver(([o])=>{n(o.contentRect.width)});return r.observe(e.current),()=>r.disconnect()},[]),{containerRef:e,containerWidth:t}},Ia=(e,t)=>{const{containerWidth:n,containerRef:r}=Ma();return{columnSizeVars:O.useMemo(()=>{const o=e.getFlatHeaders(),l=e.getTotalSize(),i=t==="infinite"?-10:0,a=Math.max(n,640)+i,u={};let d=0,c,f=0,g=0;return o.forEach(s=>{var x;const m=s.column,b=m.columnDef.minSize??20,v=m.columnDef.maxSize??1/0,w=m.getSize();let S=a?w/l*a:w;S=Math.min(v,Math.max(b,S)),u[`--header-${s.id}-size`]=`${S}`,u[`--col-${s.column.id}-size`]=`${S}`,(x=m.columnDef.meta)!=null&&x.fillRemainingSize&&!c&&(c=s,f=S),g+=S}),c&&(d=a-g,d>0&&(u[`--header-${c.id}-size`]=`${f+d}`,u[`--col-${c.column.id}-size`]=`${f+d}`)),u},[t,e.getState().columnSizingInfo,e.getState().columnSizing,e.getTotalSize(),e.getFlatHeaders(),n]),containerRef:r}},as=p.memo(xa),Da=(e,t,n,r)=>{const o=p.useMemo(()=>({pageSize:e,pageIndex:n}),[e,n]),l=p.useCallback(i=>{if(typeof i=="function"){const a=i(o);t(a.pageSize),r(a.pageIndex)}else t(o.pageSize),r(o.pageIndex)},[o,r,t]);return{pagination:o,setPagination:l,tablePageSize:e,setTablePageSize:t,tablePageIndex:n,setTablePageIndex:r}},ss=e=>Ve(e,Se(t=>[t.pageSize,t.setPageSize])),Fa=e=>{const[t,n]=Ve(e,Se(l=>[l.pageSize,l.setPageSize])),[r,o]=p.useState(0);return Da(t,n,r,o)},_r=e=>Ve(e,Se(t=>[t.columnOrder,t.setColumnOrder])),Lr=e=>Ve(e,Se(t=>[t.columnVisiblity,t.setColumnVisibility])),Ea=e=>Ve(e,Se(t=>[t.columnSizing,t.setColumnSizing])),Pa=e=>{const[t,n]=Ea(e),[r,o]=p.useState(t);return p.useEffect(()=>{const l=setTimeout(()=>{n(r)},250);return()=>{clearTimeout(l)}},[r,n]),p.useEffect(()=>{o(t)},[t]),[r,o]},us=()=>{const e=p.useRef(),t=p.useCallback(()=>{var n,r,o,l;(n=e.current)==null||n.resetColumnOrder(),(r=e.current)==null||r.resetColumnVisibility(),(o=e.current)==null||o.resetColumnSizing(),(l=e.current)==null||l.resetPagination()},[]);return{tableRef:e,handleTableReset:t}},ds=e=>{const[t,n]=Lr(e),[r,o]=_r(e),{pagination:l,setPagination:i,setTablePageIndex:a}=Fa(e),[u,d]=Pa(e);return{tableState:p.useMemo(()=>({state:{columnVisibility:t,columnOrder:r,columnSizing:u,pagination:l},setState:{onColumnVisibilityChange:n,onColumnOrderChange:o,onColumnSizingChange:d,onPaginationChange:i}}),[r,u,t,l,o,d,n,i]),setTablePageIndex:a}};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]],Kn=fe("table-properties",$a);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=[["path",{d:"M21 6H3",key:"1jwq7v"}],["path",{d:"M7 12H3",key:"13ou7f"}],["path",{d:"M7 18H3",key:"1sijw9"}],["path",{d:"M12 18a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L11 14",key:"qth677"}],["path",{d:"M11 10v4h4",key:"172dkj"}]],Va=fe("list-restart",Na);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ja=fe("chevron-up",za);function Oa({columns:e,enableColumnOrdering:t,iconOnly:n,modal:r,resetTable:o}){const{t:l}=It(),[i,a]=p.useState(!1),u=Tl(),[d,c]=Lr(u),[f,g]=_r(u),[s,m]=nn(Se(C=>[C.infiniteScrollUnsupported,C.windowScrollUnsupported])),[b,v]=nn(Se(C=>[C.scrollMode,C.setScrollMode])),w=p.useMemo(()=>e.every(C=>C.id),[e]),S=p.useMemo(()=>{if(f.length>0){const C=[...e],y=f.map(R=>{const P=C.findIndex(I=>I.id===R);if(P>-1)return C.splice(P,1)[0]});return y.push(...C),y.every(R=>R)?y:e}return e},[f,e]),x=p.useMemo(()=>!s&&!m?[{value:"infinite",label:"Infinite Scroll"},{value:"windowInfinite",label:"Window Infinite Scroll"}]:s?[]:[{value:"infinite",label:"Infinite Scroll"}],[s,m]);if(!w)return null;const M=(C,y)=>{const R=f.length>0?[...f]:e.map($=>$.id);if(R.length<2)return;const P=R.indexOf(C);if(P===-1)return;const I=y?P+1:P-1;if(!R[I])return;const D=R[I];R[I]=R[P],R[P]=D,g(R)};return h.jsxs(So,{open:i,onOpenChange:a,modal:r??!1,children:[h.jsx(Ro,{asChild:!0,children:h.jsx(xe,{variant:"outline",size:"icon",className:"flex gap-2 shrink-0",children:n?h.jsx(Kn,{className:"h-4 w-4 shrink-0"}):h.jsx(h.Fragment,{children:h.jsx(Kn,{className:"h-4 w-4 shrink-0"})})})}),h.jsxs(yo,{children:[!s&&h.jsxs(h.Fragment,{children:[h.jsx(Vn,{children:h.jsx("span",{className:"uppercase font-title font-bold text-blue-1",children:"Table Settings"})}),h.jsx(Tt,{}),x.map(C=>h.jsx(zn,{className:"flex justify-between capitalize gap-2 pr-0 focus:bg-accent/50",checked:b===C.value,onCheckedChange:y=>{v(y?C.value:"none")},children:h.jsx("span",{className:"truncate",children:C.label})},C.value)),h.jsx(Tt,{})]}),h.jsxs(Vn,{className:"flex justify-between items-center py-0 pr-0 gap-2",children:[h.jsx("span",{className:"uppercase font-title font-bold text-blue-1",children:l("label.columnSettings")}),h.jsx(bt,{children:h.jsxs(Qe,{children:[h.jsx(Ze,{asChild:!0,children:h.jsx(xe,{variant:"ghost",size:"icon",onClick:()=>{o(),a(!1)},children:h.jsx(Va,{className:"w-4 h-4"})})}),h.jsx(et,{children:l("label.columnSettingsResetTT")})]})})]}),h.jsx(Tt,{}),S.map((C,y)=>{var R;return h.jsxs(zn,{className:z("flex justify-between capitalize gap-2 pr-0 focus:bg-accent/50",t&&"py-0"),checked:d[C.id]??!0,onCheckedChange:P=>{c(I=>({...I,[C.id]:!!P}))},children:[h.jsx("span",{className:"truncate",children:l(`columnTitle.${(R=C.meta)==null?void 0:R.headerWording}`)}),t&&h.jsxs("div",{className:"flex flex-row gap-1 shrink-0",children:[h.jsx(xe,{variant:"ghost",size:"icon",disabled:y===0,onClick:P=>{P.preventDefault(),M(C.id,!1)},children:h.jsx(ja,{className:"w-4 h-4"})}),h.jsx(xe,{variant:"ghost",size:"icon",disabled:S.length-1===y,onClick:P=>{P.preventDefault(),M(C.id,!0)},children:h.jsx(Mo,{className:"w-4 h-4"})})]})]},C.id)})]})]})}const cs=p.memo(Oa),Ue=(e,t)=>typeof t=="function"?t(e):t,gs=(e,t)=>oo()(lo(n=>({...e,setColumnSizing:r=>n(o=>({columnSizing:Ue(o.columnSizing,r)})),setColumnOrder:r=>n(o=>({columnOrder:Ue(o.columnOrder,r)})),setColumnVisibility:r=>n(o=>({columnVisiblity:Ue(o.columnVisiblity,r),columnSizing:{}})),setPageSize:r=>n(o=>({pageSize:Ue(o.pageSize,r)})),setScrollMode:r=>n(o=>({scrollMode:Ue(o.scrollMode,r)}))}),{name:`poexchange-${t.persistPrefix}-table-state-store`,storage:io(()=>localStorage),partialize:n=>({columnSizing:n.columnSizing,pageSize:n.pageSize,columnOrder:n.columnOrder,columnVisiblity:n.columnVisiblity,scrollMode:n.scrollMode}),version:t.version||1,migrate:t.migrate}));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],ka=fe("arrow-down",Ta);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],La=fe("arrow-up",_a);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Ha=fe("chevrons-up-down",Aa);function fs({column:e,title:t,align:n,className:r}){const{t:o}=It(),l=p.useRef(null),i=n==="left"?"":n==="right"?"ml-auto":"mx-auto";return e.getCanSort()?h.jsx(bt,{delayDuration:700,children:h.jsxs(Qe,{children:[h.jsx(Ze,{asChild:!0,children:h.jsxs("div",{className:z("flex items-center h-full w-full [&_svg]:size-4 group/item select-none",r),onClick:()=>e.toggleSorting(void 0,!0),ref:l,children:[h.jsx("span",{className:z("truncate",i),children:o(`columnTitle.${t}`)}),e.getIsSorted()==="desc"?h.jsx(ka,{className:"shrink-0"}):e.getIsSorted()==="asc"?h.jsx(La,{className:"shrink-0"}):h.jsx(Ha,{className:"shrink-0 hidden group-hover/item:block"})]})}),h.jsx(et,{children:h.jsx(vt,{children:o(`columnTitle.${t}`)})})]})}):h.jsx(bt,{delayDuration:700,children:h.jsxs(Qe,{children:[h.jsx(Ze,{asChild:!0,children:h.jsx("div",{className:z("flex items-center h-full select-none",r),children:h.jsx("span",{className:z("truncate",i),children:t?o(`columnTitle.${t}`):null})})}),h.jsx(et,{children:h.jsx(vt,{children:o(`columnTitle.${t}`)})})]})})}var Yt,$t="HoverCard",[Ar,ps]=ao($t,[Yn]),Nt=Yn(),[Ga,Vt]=Ar($t),Hr=e=>{const{__scopeHoverCard:t,children:n,open:r,defaultOpen:o,onOpenChange:l,openDelay:i=700,closeDelay:a=300}=e,u=Nt(t),d=p.useRef(0),c=p.useRef(0),f=p.useRef(!1),g=p.useRef(!1),[s,m]=ho({prop:r,defaultProp:o??!1,onChange:l,caller:$t}),b=p.useCallback(()=>{clearTimeout(c.current),d.current=window.setTimeout(()=>m(!0),i)},[i,m]),v=p.useCallback(()=>{clearTimeout(d.current),!f.current&&!g.current&&(c.current=window.setTimeout(()=>m(!1),a))},[a,m]),w=p.useCallback(()=>m(!1),[m]);return p.useEffect(()=>()=>{clearTimeout(d.current),clearTimeout(c.current)},[]),h.jsx(Ga,{scope:t,open:s,onOpenChange:m,onOpen:b,onClose:v,onDismiss:w,hasSelectionRef:f,isPointerDownOnContentRef:g,children:h.jsx(bo,{...u,children:n})})};Hr.displayName=$t;var Gr="HoverCardTrigger",Br=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,o=Vt(Gr,n),l=Nt(n);return h.jsx(so,{asChild:!0,...l,children:h.jsx(uo.a,{"data-state":o.open?"open":"closed",...r,ref:t,onPointerEnter:ge(e.onPointerEnter,Mt(o.onOpen)),onPointerLeave:ge(e.onPointerLeave,Mt(o.onClose)),onFocus:ge(e.onFocus,o.onOpen),onBlur:ge(e.onBlur,o.onClose),onTouchStart:ge(e.onTouchStart,i=>i.preventDefault())})})});Br.displayName=Gr;var yn="HoverCardPortal",[Ba,qa]=Ar(yn,{forceMount:void 0}),qr=e=>{const{__scopeHoverCard:t,forceMount:n,children:r,container:o}=e,l=Vt(yn,t);return h.jsx(Ba,{scope:t,forceMount:n,children:h.jsx(Jn,{present:n||l.open,children:h.jsx(mo,{asChild:!0,container:o,children:r})})})};qr.displayName=yn;var yt="HoverCardContent",Ur=p.forwardRef((e,t)=>{const n=qa(yt,e.__scopeHoverCard),{forceMount:r=n.forceMount,...o}=e,l=Vt(yt,e.__scopeHoverCard);return h.jsx(Jn,{present:r||l.open,children:h.jsx(Ua,{"data-state":l.open?"open":"closed",...o,onPointerEnter:ge(e.onPointerEnter,Mt(l.onOpen)),onPointerLeave:ge(e.onPointerLeave,Mt(l.onClose)),ref:t})})});Ur.displayName=yt;var Ua=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:i,...a}=e,u=Vt(yt,n),d=Nt(n),c=p.useRef(null),f=co(t,c),[g,s]=p.useState(!1);return p.useEffect(()=>{if(g){const m=document.body;return Yt=m.style.userSelect||m.style.webkitUserSelect,m.style.userSelect="none",m.style.webkitUserSelect="none",()=>{m.style.userSelect=Yt,m.style.webkitUserSelect=Yt}}},[g]),p.useEffect(()=>{if(c.current){const m=()=>{s(!1),u.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var b;((b=document.getSelection())==null?void 0:b.toString())!==""&&(u.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",m),()=>{document.removeEventListener("pointerup",m),u.hasSelectionRef.current=!1,u.isPointerDownOnContentRef.current=!1}}},[u.isPointerDownOnContentRef,u.hasSelectionRef]),p.useEffect(()=>{c.current&&Ka(c.current).forEach(m=>m.setAttribute("tabindex","-1"))}),h.jsx(go,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:i,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:ge(l,m=>{m.preventDefault()}),onDismiss:u.onDismiss,children:h.jsx(fo,{...d,...a,onPointerDown:ge(a.onPointerDown,m=>{m.currentTarget.contains(m.target)&&s(!0),u.hasSelectionRef.current=!1,u.isPointerDownOnContentRef.current=!0}),ref:f,style:{...a.style,userSelect:g?"text":void 0,WebkitUserSelect:g?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Wa="HoverCardArrow",Xa=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,o=Nt(n);return h.jsx(po,{...o,...r,ref:t})});Xa.displayName=Wa;function Mt(e){return t=>t.pointerType==="touch"?void 0:e()}function Ka(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var Ya=Hr,Ja=Br,Qa=qr,Wr=Ur;const ms=Ya,hs=Ja,Za=p.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},o)=>h.jsx(Qa,{container:document==null?void 0:document.getElementById("poex"),children:h.jsx(Wr,{ref:o,align:t,sideOffset:n,collisionPadding:{bottom:60,left:10,right:10,top:10},className:z("z-[110] w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]",e),...r})}));Za.displayName=Wr.displayName;export{Po as $,us as E,ds as I,Lr as O,as as P,ve as a,Pa as b,Tl as c,_r as d,Da as e,Za as f,cs as g,ms as h,ls as i,Do as n,gs as s,nn as u,hs as v,ss as w,fs as y};
