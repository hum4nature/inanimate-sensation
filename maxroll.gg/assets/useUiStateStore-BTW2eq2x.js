var US=Object.defineProperty;var ch=e=>{throw TypeError(e)};var VS=(e,t,n)=>t in e?US(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ve=(e,t,n)=>VS(e,typeof t!="symbol"?t+"":t,n),Sl=(e,t,n)=>t.has(e)||ch("Cannot "+n);var D=(e,t,n)=>(Sl(e,t,"read from private field"),n?n.call(e):t.get(e)),ue=(e,t,n)=>t.has(e)?ch("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),oe=(e,t,n,r)=>(Sl(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),me=(e,t,n)=>(Sl(e,t,"access private method"),n);var ao=(e,t,n,r)=>({set _(s){oe(e,t,s,n)},get _(){return D(e,t,r)}});import{r as x,j as P,a as bn,o as vy}from"./jsx-runtime-BmCkTyBI.js";import{b as BS,g as zS,ay as zi,cp as HS,w as qS}from"./index-0f3ee958-DZWNGZaJ.js";import{u as QS,b as wy,w as XS}from"./index-DQDlNFz_.js";import{r as td,a as GS}from"./index-B7uSRlxY.js";import{L as JS}from"./index-DaXM-EJC.js";const YS="https://assets-ng.maxroll.gg",$l="https://assets-ng.maxroll.gg/poexchange",KS={baseAssetUrl:YS,assetUrl:$l,assets:{animatedPoexchange:`${$l}/assets/animated_poexchange.gif`,stashTabsBgBar:`${$l}/assets/stash_tabs_bg_bar.png`}};var xy=x.createContext(void 0),on=e=>{const t=x.useContext(xy);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ZS=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),P.jsx(xy.Provider,{value:e,children:t}));const $e={webapi:{url:"https://api.poexchange.maxroll.gg",gggUrl:void 0},r2:{public_url:"https://poexchange-insights.maxroll.gg"},ggg:{oAuthUrl:"https://www.pathofexile.com/oauth/authorize",clientId:"maxrollpoeplanner",redirectUri:"https://poexchange.maxroll.gg/ggg/connect"},discord:{oAuthUrl:"https://discord.com/api/oauth2/authorize",clientId:"1226960482423017643",redirectUri:"https://poexchange.maxroll.gg/discord/connect"},maxroll:{url:"https://maxroll.gg"},isClient:typeof window<"u",isMaintenance:!1},be=e=>typeof e=="string",ei=()=>{let e,t;const n=new Promise((r,s)=>{e=r,t=s});return n.resolve=e,n.reject=t,n},uh=e=>e==null?"":""+e,e$=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},t$=/###/g,dh=e=>e&&e.indexOf("###")>-1?e.replace(t$,"."):e,fh=e=>!e||be(e),hi=(e,t,n)=>{const r=be(t)?t.split("."):t;let s=0;for(;s<r.length-1;){if(fh(e))return{};const i=dh(r[s]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++s}return fh(e)?{}:{obj:e,k:dh(r[s])}},hh=(e,t,n)=>{const{obj:r,k:s}=hi(e,t,Object);if(r!==void 0||t.length===1){r[s]=n;return}let i=t[t.length-1],o=t.slice(0,t.length-1),l=hi(e,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=hi(e,o,Object),l&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=n},n$=(e,t,n,r)=>{const{obj:s,k:i}=hi(e,t,Object);s[i]=s[i]||[],s[i].push(n)},Zo=(e,t)=>{const{obj:n,k:r}=hi(e,t);if(n)return n[r]},r$=(e,t,n)=>{const r=Zo(e,n);return r!==void 0?r:Zo(t,n)},Sy=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?be(e[r])||e[r]instanceof String||be(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):Sy(e[r],t[r],n):e[r]=t[r]);return e},zr=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var s$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const i$=e=>be(e)?e.replace(/[&<>"'\/]/g,t=>s$[t]):e;let o$=class{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}};const a$=[" ",",","?","!",";"],l$=new o$(20),c$=(e,t,n)=>{t=t||"",n=n||"";const r=a$.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=l$.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(e);if(!i){const o=e.indexOf(n);o>0&&!s.test(e.substring(0,o))&&(i=!0)}return i},xc=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let s=e;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let o,l="";for(let c=i;c<r.length;++c)if(c!==i&&(l+=n),l+=r[c],o=s[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<r.length-1)continue;i+=c-i+1;break}s=o}return s},ea=e=>e&&e.replace("_","-"),u$={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};let d$=class Sc{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||u$,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,s){return s&&!this.debug?null:(be(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Sc(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Sc(this.logger,t)}};var Kt=new d$;let Ma=class{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(i=>{let[o,l]=i;for(let c=0;c<l;c++)o(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(i=>{let[o,l]=i;for(let c=0;c<l;c++)o.apply(o,[t,...r])})}},ph=class extends Ma{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],r&&(Array.isArray(r)?l.push(...r):be(r)&&i?l.push(...r.split(i)):l.push(r)));const c=Zo(this.data,l);return!c&&!n&&!r&&t.indexOf(".")>-1&&(t=l[0],n=l[1],r=l.slice(2).join(".")),c||!o||!be(r)?c:xc(this.data&&this.data[t]&&this.data[t][n],r,i)}addResource(t,n,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[t,n];r&&(l=l.concat(o?r.split(o):r)),t.indexOf(".")>-1&&(l=t.split("."),s=n,n=l[1]),this.addNamespaces(n),hh(this.data,l,s),i.silent||this.emit("added",t,n,r,s)}addResources(t,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(be(r[i])||Array.isArray(r[i]))&&this.addResource(t,n,i,r[i],{silent:!0});s.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),s=r,r=n,n=l[1]),this.addNamespaces(n);let c=Zo(this.data,l)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?Sy(c,r,i):c={...c,...r},hh(this.data,l,c),o.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(r=>n[r]&&Object.keys(n[r]).length>0)}toJSON(){return this.data}};var $y={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,s){return e.forEach(i=>{this.processors[i]&&(t=this.processors[i].process(t,n,r,s))}),t}};const mh={};let gh=class My extends Ma{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),e$(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Kt.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=r&&t.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!c$(t,r,s);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:be(i)?[i]:i};const u=t.split(r);(r!==s||r===s&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),t=u.join(s)}return{key:t,namespaces:be(i)?[i]:i}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const s=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(t[t.length-1],n),c=l[l.length-1],u=n.lng||this.language,f=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(f){const _=n.nsSeparator||this.options.nsSeparator;return s?{res:`${c}${_}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:`${c}${_}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:o}const a=this.resolve(t,n);let d=a&&a.res;const h=a&&a.usedKey||o,p=a&&a.exactUsedKey||o,m=Object.prototype.toString.apply(d),g=["[object Number]","[object Function]","[object RegExp]"],y=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,I=!be(d)&&typeof d!="boolean"&&typeof d!="number";if(v&&d&&I&&g.indexOf(m)<0&&!(be(y)&&Array.isArray(d))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const _=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...n,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(a.res=_,a.usedParams=this.getUsedParamsDetails(n),a):_}if(i){const _=Array.isArray(d),S=_?[]:{},k=_?p:h;for(const $ in d)if(Object.prototype.hasOwnProperty.call(d,$)){const b=`${k}${i}${$}`;S[$]=this.translate(b,{...n,joinArrays:!1,ns:l}),S[$]===b&&(S[$]=d[$])}d=S}}else if(v&&be(y)&&Array.isArray(d))d=d.join(y),d&&(d=this.extendTranslation(d,t,n,r));else{let _=!1,S=!1;const k=n.count!==void 0&&!be(n.count),$=My.hasDefaultValue(n),b=k?this.pluralResolver.getSuffix(u,n.count,n):"",M=n.ordinal&&k?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",w=k&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),E=w&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${b}`]||n[`defaultValue${M}`]||n.defaultValue;!this.isValidLookup(d)&&$&&(_=!0,d=E),this.isValidLookup(d)||(S=!0,d=o);const L=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:d,Q=$&&E!==d&&this.options.updateMissing;if(S||_||Q){if(this.logger.log(Q?"updateKey":"missingKey",u,c,o,Q?E:d),i){const H=this.resolve(o,{...n,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let H=0;H<U.length;H++)W.push(U[H]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(n.lng||this.language):W.push(n.lng||this.language);const N=(H,F,Z)=>{const te=$&&Z!==d?Z:L;this.options.missingKeyHandler?this.options.missingKeyHandler(H,c,F,te,Q,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(H,c,F,te,Q,n),this.emit("missingKey",H,c,F,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?W.forEach(H=>{const F=this.pluralResolver.getSuffixes(H,n);w&&n[`defaultValue${this.options.pluralSeparator}zero`]&&F.indexOf(`${this.options.pluralSeparator}zero`)<0&&F.push(`${this.options.pluralSeparator}zero`),F.forEach(Z=>{N([H],o+Z,n[`defaultValue${Z}`]||E)})}):N(W,o,E))}d=this.extendTranslation(d,t,n,a,r),S&&d===o&&this.options.appendNamespaceToMissingKey&&(d=`${c}:${o}`),(S||_)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,_?d:void 0):d=this.options.parseMissingKeyHandler(d))}return s?(a.res=d,a.usedParams=this.getUsedParamsDetails(n),a):d}extendTranslation(t,n,r,s,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=be(t)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(u){const d=t.match(this.interpolator.nestingRegexp);f=d&&d.length}let a=r.replace&&!be(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),t=this.interpolator.interpolate(t,a,r.lng||this.language||s.usedLng,r),u){const d=t.match(this.interpolator.nestingRegexp),h=d&&d.length;f<h&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return i&&i[0]===h[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):o.translate(...h,n)},r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=be(l)?[l]:l;return t!=null&&c&&c.length&&r.applyPostProcessor!==!1&&(t=$y.handle(c,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,i,o,l;return be(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(c,n),f=u.key;s=f;let a=u.namespaces;this.options.fallbackNS&&(a=a.concat(this.options.fallbackNS));const d=n.count!==void 0&&!be(n.count),h=d&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),p=n.context!==void 0&&(be(n.context)||typeof n.context=="number")&&n.context!=="",m=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);a.forEach(g=>{this.isValidLookup(r)||(l=g,!mh[`${m[0]}-${g}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(mh[`${m[0]}-${g}`]=!0,this.logger.warn(`key "${s}" for languages "${m.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(y=>{if(this.isValidLookup(r))return;o=y;const v=[f];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(v,f,y,g,n);else{let _;d&&(_=this.pluralResolver.getSuffix(y,n.count,n));const S=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(v.push(f+_),n.ordinal&&_.indexOf(k)===0&&v.push(f+_.replace(k,this.options.pluralSeparator)),h&&v.push(f+S)),p){const $=`${f}${this.options.contextSeparator}${n.context}`;v.push($),d&&(v.push($+_),n.ordinal&&_.indexOf(k)===0&&v.push($+_.replace(k,this.options.pluralSeparator)),h&&v.push($+S))}}let I;for(;I=v.pop();)this.isValidLookup(r)||(i=I,r=this.getResource(y,g,I,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,s):this.resourceStore.getResource(t,n,r,s)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!be(t.replace);let s=r?t.replace:t;if(r&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}};const Ml=e=>e.charAt(0).toUpperCase()+e.slice(1);let yh=class{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Kt.create("languageUtils")}getScriptPartFromCode(t){if(t=ea(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=ea(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(be(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(t)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(s=>s.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Ml(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Ml(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Ml(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(i=>{if(i===s||!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),be(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return be(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):be(t)&&i(this.formatLanguageCode(t)),r.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}},f$=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],h$={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const p$=["v1","v2","v3"],m$=["v4"],bh={zero:0,one:1,two:2,few:3,many:4,other:5},g$=()=>{const e={};return f$.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:h$[t.fc]}})}),e};let y$=class{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=Kt.create("pluralResolver"),(!this.options.compatibilityJSON||m$.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=g$(),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=ea(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!t.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(l,n)}return this.pluralRulesCache[i]=o,o}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(s=>`${n}${s}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((s,i)=>bh[s]-bh[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):r.numbers.map(s=>this.getSuffix(t,s,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(t,r);return s?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:this.getSuffixRetroCompatible(s,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let s=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!p$.includes(this.options.compatibilityJSON)}};const vh=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=r$(e,t,n);return!i&&s&&be(n)&&(i=xc(e,n,r),i===void 0&&(i=xc(t,n,r))),i},kl=e=>e.replace(/\$/g,"$$$$");let b$=class{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Kt.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:f,unescapePrefix:a,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:m,nestingOptionsSeparator:g,maxReplaces:y,alwaysFormat:v}=t.interpolation;this.escape=n!==void 0?n:i$,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?zr(i):o||"{{",this.suffix=l?zr(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=f?"":a||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=d?zr(d):h||zr("$t("),this.nestingSuffix=p?zr(p):m||zr(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=y||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,s){let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=d=>{if(d.indexOf(this.formatSeparator)<0){const g=vh(n,c,d,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(g,void 0,r,{...s,...n,interpolationkey:d}):g}const h=d.split(this.formatSeparator),p=h.shift().trim(),m=h.join(this.formatSeparator).trim();return this.format(vh(n,c,p,this.options.keySeparator,this.options.ignoreJSONStructure),m,r,{...s,...n,interpolationkey:p})};this.resetRegExp();const f=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,a=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:d=>kl(d)},{regex:this.regexp,safeValue:d=>this.escapeValue?kl(this.escape(d)):kl(d)}].forEach(d=>{for(l=0;i=d.regex.exec(t);){const h=i[1].trim();if(o=u(h),o===void 0)if(typeof f=="function"){const m=f(t,i,s);o=be(m)?m:""}else if(s&&Object.prototype.hasOwnProperty.call(s,h))o="";else if(a){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${h} for interpolating ${t}`),o="";else!be(o)&&!this.useRawValueToEscape&&(o=uh(o));const p=d.safeValue(o);if(t=t.replace(i[0],p),a?(d.regex.lastIndex+=o.length,d.regex.lastIndex-=i[0].length):d.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,o;const l=(c,u)=>{const f=this.nestingOptionsSeparator;if(c.indexOf(f)<0)return c;const a=c.split(new RegExp(`${f}[ ]*{`));let d=`{${a[1]}`;c=a[0],d=this.interpolate(d,o);const h=d.match(/'/g),p=d.match(/"/g);(h&&h.length%2===0&&!p||p.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),u&&(o={...u,...o})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,m),`${c}${f}${d}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;s=this.nestingRegexp.exec(t);){let c=[];o={...r},o=o.replace&&!be(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const f=s[1].split(this.formatSeparator).map(a=>a.trim());s[1]=f.shift(),c=f,u=!0}if(i=n(l.call(this,s[1].trim(),o),o),i&&s[0]===t&&!be(i))return i;be(i)||(i=uh(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),i=""),u&&(i=c.reduce((f,a)=>this.format(f,a,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),t=t.replace(s[0],i),this.regexp.lastIndex=0}return t}};const v$=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(i=>{if(i){const[o,...l]=i.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:t,formatOptions:n}},Hr=e=>{const t={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=r+JSON.stringify(i);let l=t[o];return l||(l=e(ea(r),s),t[o]=l),l(n)}};let w$=class{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Kt.create("formatter"),this.options=t,this.formats={number:Hr((n,r)=>{const s=new Intl.NumberFormat(n,{...r});return i=>s.format(i)}),currency:Hr((n,r)=>{const s=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>s.format(i)}),datetime:Hr((n,r)=>{const s=new Intl.DateTimeFormat(n,{...r});return i=>s.format(i)}),relativetime:Hr((n,r)=>{const s=new Intl.RelativeTimeFormat(n,{...r});return i=>s.format(i,r.range||"day")}),list:Hr((n,r)=>{const s=new Intl.ListFormat(n,{...r});return i=>s.format(i)})},this.init(t)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Hr(n)}format(t,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,l)=>{const{formatName:c,formatOptions:u}=v$(l);if(this.formats[c]){let f=o;try{const a=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},d=a.locale||a.lng||s.locale||s.lng||r;f=this.formats[c](o,d,{...u,...s,...a})}catch(a){this.logger.warn(a)}return f}else this.logger.warn(`there was no format function for ${c}`);return o},t)}};const x$=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};let S$=class extends Ma{constructor(t,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Kt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,s.backend,s)}queueLoad(t,n,r,s){const i={},o={},l={},c={};return t.forEach(u=>{let f=!0;n.forEach(a=>{const d=`${u}|${a}`;!r.reload&&this.store.hasResourceBundle(u,a)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,f=!1,o[d]===void 0&&(o[d]=!0),i[d]===void 0&&(i[d]=!0),c[a]===void 0&&(c[a]=!0)))}),f||(l[u]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,n,r){const s=t.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&r&&this.store.addResourceBundle(i,o,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const l={};this.queue.forEach(c=>{n$(c.loaded,[i],o),x$(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const f=c.loaded[u];f.length&&f.forEach(a=>{l[u][a]===void 0&&(l[u][a]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:s,wait:i,callback:o});return}this.readingCalls++;const l=(u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const a=this.waitingReads.shift();this.read(a.lng,a.ns,a.fcName,a.tried,a.wait,a.callback)}if(u&&f&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,s+1,i*2,o)},i);return}o(u,f)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const u=c(t,n);u&&typeof u.then=="function"?u.then(f=>l(null,f)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,n,l)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();be(t)&&(t=this.languageUtils.toResolveHierarchy(t)),be(n)&&(n=[n]);const i=this.queueLoad(t,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,l),this.loaded(t,o,l)})}saveMissing(t,n,r,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let f;u.length===5?f=u(t,n,r,s,c):f=u(t,n,r,s),f&&typeof f.then=="function"?f.then(a=>l(null,a)).catch(l):l(null,f)}catch(f){l(f)}else u(t,n,r,s,l,c)}!t||!t[0]||this.store.addResource(t[0],n,r,s)}}};const wh=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),be(e[1])&&(t.defaultValue=e[1]),be(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),xh=e=>(be(e.ns)&&(e.ns=[e.ns]),be(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),be(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),lo=()=>{},$$=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{typeof e[t]=="function"&&(e[t]=e[t].bind(e))})};let ky=class $c extends Ma{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=xh(t),this.services={},this.logger=Kt,this.modules={external:[]},$$(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(be(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const s=wh();this.options={...s,...this.options,...xh(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Kt.init(i(this.modules.logger),this.options):Kt.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=w$);const u=new yh(this.options);this.store=new ph(this.options.resources,this.options);const f=this.services;f.logger=Kt,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new y$(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=i(c),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new b$(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new S$(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(a){for(var d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];t.emit(a,...h)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new gh(this.services,this.options),this.translator.on("*",function(a){for(var d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];t.emit(a,...h)}),this.modules.external.forEach(a=>{a.init&&a.init(this)})}if(this.format=this.options.interpolation.format,r||(r=lo),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return t.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return t.store[c](...arguments),t}});const o=ei(),l=()=>{const c=(u,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(f),r(u,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),o}loadResources(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lo;const r=be(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const s=[],i=o=>{!o||o==="cimode"||this.services.languageUtils.toResolveHierarchy(o).forEach(l=>{l!=="cimode"&&s.indexOf(l)<0&&s.push(l)})};r?i(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(o=>i(o)),this.options.preload&&this.options.preload.forEach(o=>i(o)),this.services.backendConnector.load(s,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(o)})}else n(null)}reloadResources(t,n,r){const s=ei();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=lo),this.services.backendConnector.reload(t,n,i=>{s.resolve(),r(i)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&$y.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const s=ei();this.emit("languageChanging",t);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),n&&n(c,function(){return r.t(...arguments)})},l=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const u=be(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,f=>{o(f,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),s}getFixedT(t,n,r){var s=this;const i=function(o,l){let c;if(typeof l!="object"){for(var u=arguments.length,f=new Array(u>2?u-2:0),a=2;a<u;a++)f[a-2]=arguments[a];c=s.options.overloadTranslationOptionHandler([o,l].concat(f))}else c={...l};c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||i.keyPrefix);const d=s.options.keySeparator||".";let h;return c.keyPrefix&&Array.isArray(o)?h=o.map(p=>`${c.keyPrefix}${d}${p}`):h=c.keyPrefix?`${c.keyPrefix}${d}${o}`:o,s.t(h,c)};return be(t)?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,t)&&(!s||o(i,t)))}loadNamespaces(t,n){const r=ei();return this.options.ns?(be(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=ei();be(t)&&(t=[t]);const s=this.options.preload||[],i=t.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new yh(wh());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new $c(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lo;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},i=new $c(s);return(t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new ph(this.store.data,s),i.services.resourceStore=i.store),i.translator=new gh(i.services,s),i.translator.on("*",function(o){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];i.emit(o,...c)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}};const mt=ky.createInstance();mt.createInstance=ky.createInstance;const Iy=mt.createInstance;mt.dir;mt.init;mt.loadResources;mt.reloadResources;mt.use;mt.changeLanguage;mt.getFixedT;mt.t;mt.exists;mt.setDefaultNamespace;mt.hasLoadedNamespace;mt.loadNamespaces;mt.loadLanguages;const M$=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,k$={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},I$=e=>k$[e],_$=e=>e.replace(M$,I$);let Mc={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:_$};const T$=(e={})=>{Mc={...Mc,...e}},E$=()=>Mc;let _y;const C$=e=>{_y=e},A$=()=>_y,P$={type:"3rdParty",init(e){T$(e.options.react),C$(e)}};var yn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $7(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Co={exports:{}},L$=Co.exports,Sh;function O$(){return Sh||(Sh=1,function(e,t){(function(n,r){e.exports=r()})(L$,function(){var n=1e3,r=6e4,s=36e5,i="millisecond",o="second",l="minute",c="hour",u="day",f="week",a="month",d="quarter",h="year",p="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(W){var U=["th","st","nd","rd"],N=W%100;return"["+W+(U[(N-20)%10]||U[N]||U[0])+"]"}},I=function(W,U,N){var H=String(W);return!H||H.length>=U?W:""+Array(U+1-H.length).join(N)+W},_={s:I,z:function(W){var U=-W.utcOffset(),N=Math.abs(U),H=Math.floor(N/60),F=N%60;return(U<=0?"+":"-")+I(H,2,"0")+":"+I(F,2,"0")},m:function W(U,N){if(U.date()<N.date())return-W(N,U);var H=12*(N.year()-U.year())+(N.month()-U.month()),F=U.clone().add(H,a),Z=N-F<0,te=U.clone().add(H+(Z?-1:1),a);return+(-(H+(N-F)/(Z?F-te:te-F))||0)},a:function(W){return W<0?Math.ceil(W)||0:Math.floor(W)},p:function(W){return{M:a,y:h,w:f,d:u,D:p,h:c,m:l,s:o,ms:i,Q:d}[W]||String(W||"").toLowerCase().replace(/s$/,"")},u:function(W){return W===void 0}},S="en",k={};k[S]=v;var $="$isDayjsObject",b=function(W){return W instanceof L||!(!W||!W[$])},M=function W(U,N,H){var F;if(!U)return S;if(typeof U=="string"){var Z=U.toLowerCase();k[Z]&&(F=Z),N&&(k[Z]=N,F=Z);var te=U.split("-");if(!F&&te.length>1)return W(te[0])}else{var ae=U.name;k[ae]=U,F=ae}return!H&&F&&(S=F),F||!H&&S},w=function(W,U){if(b(W))return W.clone();var N=typeof U=="object"?U:{};return N.date=W,N.args=arguments,new L(N)},E=_;E.l=M,E.i=b,E.w=function(W,U){return w(W,{locale:U.$L,utc:U.$u,x:U.$x,$offset:U.$offset})};var L=function(){function W(N){this.$L=M(N.locale,null,!0),this.parse(N),this.$x=this.$x||N.x||{},this[$]=!0}var U=W.prototype;return U.parse=function(N){this.$d=function(H){var F=H.date,Z=H.utc;if(F===null)return new Date(NaN);if(E.u(F))return new Date;if(F instanceof Date)return new Date(F);if(typeof F=="string"&&!/Z$/i.test(F)){var te=F.match(g);if(te){var ae=te[2]-1||0,Me=(te[7]||"0").substring(0,3);return Z?new Date(Date.UTC(te[1],ae,te[3]||1,te[4]||0,te[5]||0,te[6]||0,Me)):new Date(te[1],ae,te[3]||1,te[4]||0,te[5]||0,te[6]||0,Me)}}return new Date(F)}(N),this.init()},U.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},U.$utils=function(){return E},U.isValid=function(){return this.$d.toString()!==m},U.isSame=function(N,H){var F=w(N);return this.startOf(H)<=F&&F<=this.endOf(H)},U.isAfter=function(N,H){return w(N)<this.startOf(H)},U.isBefore=function(N,H){return this.endOf(H)<w(N)},U.$g=function(N,H,F){return E.u(N)?this[H]:this.set(F,N)},U.unix=function(){return Math.floor(this.valueOf()/1e3)},U.valueOf=function(){return this.$d.getTime()},U.startOf=function(N,H){var F=this,Z=!!E.u(H)||H,te=E.p(N),ae=function(T,A){var O=E.w(F.$u?Date.UTC(F.$y,A,T):new Date(F.$y,A,T),F);return Z?O:O.endOf(u)},Me=function(T,A){return E.w(F.toDate()[T].apply(F.toDate("s"),(Z?[0,0,0,0]:[23,59,59,999]).slice(A)),F)},fe=this.$W,ye=this.$M,Le=this.$D,Je="set"+(this.$u?"UTC":"");switch(te){case h:return Z?ae(1,0):ae(31,11);case a:return Z?ae(1,ye):ae(0,ye+1);case f:var G=this.$locale().weekStart||0,Y=(fe<G?fe+7:fe)-G;return ae(Z?Le-Y:Le+(6-Y),ye);case u:case p:return Me(Je+"Hours",0);case c:return Me(Je+"Minutes",1);case l:return Me(Je+"Seconds",2);case o:return Me(Je+"Milliseconds",3);default:return this.clone()}},U.endOf=function(N){return this.startOf(N,!1)},U.$set=function(N,H){var F,Z=E.p(N),te="set"+(this.$u?"UTC":""),ae=(F={},F[u]=te+"Date",F[p]=te+"Date",F[a]=te+"Month",F[h]=te+"FullYear",F[c]=te+"Hours",F[l]=te+"Minutes",F[o]=te+"Seconds",F[i]=te+"Milliseconds",F)[Z],Me=Z===u?this.$D+(H-this.$W):H;if(Z===a||Z===h){var fe=this.clone().set(p,1);fe.$d[ae](Me),fe.init(),this.$d=fe.set(p,Math.min(this.$D,fe.daysInMonth())).$d}else ae&&this.$d[ae](Me);return this.init(),this},U.set=function(N,H){return this.clone().$set(N,H)},U.get=function(N){return this[E.p(N)]()},U.add=function(N,H){var F,Z=this;N=Number(N);var te=E.p(H),ae=function(ye){var Le=w(Z);return E.w(Le.date(Le.date()+Math.round(ye*N)),Z)};if(te===a)return this.set(a,this.$M+N);if(te===h)return this.set(h,this.$y+N);if(te===u)return ae(1);if(te===f)return ae(7);var Me=(F={},F[l]=r,F[c]=s,F[o]=n,F)[te]||1,fe=this.$d.getTime()+N*Me;return E.w(fe,this)},U.subtract=function(N,H){return this.add(-1*N,H)},U.format=function(N){var H=this,F=this.$locale();if(!this.isValid())return F.invalidDate||m;var Z=N||"YYYY-MM-DDTHH:mm:ssZ",te=E.z(this),ae=this.$H,Me=this.$m,fe=this.$M,ye=F.weekdays,Le=F.months,Je=F.meridiem,G=function(A,O,q,J){return A&&(A[O]||A(H,Z))||q[O].slice(0,J)},Y=function(A){return E.s(ae%12||12,A,"0")},T=Je||function(A,O,q){var J=A<12?"AM":"PM";return q?J.toLowerCase():J};return Z.replace(y,function(A,O){return O||function(q){switch(q){case"YY":return String(H.$y).slice(-2);case"YYYY":return E.s(H.$y,4,"0");case"M":return fe+1;case"MM":return E.s(fe+1,2,"0");case"MMM":return G(F.monthsShort,fe,Le,3);case"MMMM":return G(Le,fe);case"D":return H.$D;case"DD":return E.s(H.$D,2,"0");case"d":return String(H.$W);case"dd":return G(F.weekdaysMin,H.$W,ye,2);case"ddd":return G(F.weekdaysShort,H.$W,ye,3);case"dddd":return ye[H.$W];case"H":return String(ae);case"HH":return E.s(ae,2,"0");case"h":return Y(1);case"hh":return Y(2);case"a":return T(ae,Me,!0);case"A":return T(ae,Me,!1);case"m":return String(Me);case"mm":return E.s(Me,2,"0");case"s":return String(H.$s);case"ss":return E.s(H.$s,2,"0");case"SSS":return E.s(H.$ms,3,"0");case"Z":return te}return null}(A)||te.replace(":","")})},U.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},U.diff=function(N,H,F){var Z,te=this,ae=E.p(H),Me=w(N),fe=(Me.utcOffset()-this.utcOffset())*r,ye=this-Me,Le=function(){return E.m(te,Me)};switch(ae){case h:Z=Le()/12;break;case a:Z=Le();break;case d:Z=Le()/3;break;case f:Z=(ye-fe)/6048e5;break;case u:Z=(ye-fe)/864e5;break;case c:Z=ye/s;break;case l:Z=ye/r;break;case o:Z=ye/n;break;default:Z=ye}return F?Z:E.a(Z)},U.daysInMonth=function(){return this.endOf(a).$D},U.$locale=function(){return k[this.$L]},U.locale=function(N,H){if(!N)return this.$L;var F=this.clone(),Z=M(N,H,!0);return Z&&(F.$L=Z),F},U.clone=function(){return E.w(this.$d,this)},U.toDate=function(){return new Date(this.valueOf())},U.toJSON=function(){return this.isValid()?this.toISOString():null},U.toISOString=function(){return this.$d.toISOString()},U.toString=function(){return this.$d.toUTCString()},W}(),Q=L.prototype;return w.prototype=Q,[["$ms",i],["$s",o],["$m",l],["$H",c],["$W",u],["$M",a],["$y",h],["$D",p]].forEach(function(W){Q[W[1]]=function(U){return this.$g(U,W[0],W[1])}}),w.extend=function(W,U){return W.$i||(W(U,L,w),W.$i=!0),w},w.locale=M,w.isDayjs=b,w.unix=function(W){return w(1e3*W)},w.en=k[S],w.Ls=k,w.p={},w})}(Co)),Co.exports}var j$=O$();const de=Fs(j$),$h={locales:["en","de","fr","ja","ko","pt","ru","zh","es"],defaultLocale:"en"};var Ao={exports:{}},R$=Ao.exports,Mh;function D$(){return Mh||(Mh=1,function(e,t){(function(n,r){e.exports=r()})(R$,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(n){var r=["th","st","nd","rd"],s=n%100;return"["+n+(r[(s-20)%10]||r[s]||r[0])+"]"}}})}(Ao)),Ao.exports}D$();const N$=["common","notification"],kh="common";async function F$(e,t,n){t=t||Iy(),t.use(P$),await t.init({lng:e,resources:n,fallbackLng:$h.defaultLocale,supportedLngs:$h.locales,defaultNS:kh,fallbackNS:kh,ns:N$,preload:[]});const r=t.t;return t.language!=="en"&&BS(()=>import(`dayjs/locale/${t.language}.js`),[]).then(()=>{de.locale(t.language)}),{i18n:t,resources:t.services.resourceStore.data,t:r}}const W$=()=>{const e=x.useRef(!1);x.useEffect(()=>{if(e.current||!$e.isClient)return;e.current=!0;const t="poexchange-version";window.localStorage.getItem(t)||(window.localStorage.getItem("REACT_QUERY_OFFLINE_CACHE")&&window.localStorage.removeItem("REACT_QUERY_OFFLINE_CACHE"),window.localStorage.setItem(t,"1"))},[])},M7=()=>{const e=QS();return x.useCallback((t,n)=>{var r;if(typeof t=="number")e(t);else{let s=t;typeof t=="string"?s=t.replaceAll("poe1","poe"):s={...t,pathname:(r=t.pathname)==null?void 0:r.replaceAll("poe1","poe")},e(s,n)}},[e])},ka=()=>{const e=wy().pathname;return x.useMemo(()=>/\/poe2?\/poexchange/.test(e),[e])},U$={save:"Save",confirm:"Confirm",cancel:"Cancel",close:"Close",discard:"Discard",addGroup:"Add Group",view:"View",hardReset:"Reset Data",softReset:"Reset Data",logout:"Sign out",login:"Connect PoE Account",linkDiscord:"Link Discord",poexchangeDiscord:"PoExchange Discord",postOffering:"Post Listing",loadTabs:"Load {{selected}} Tabs",refreshStashTabs:"Refresh Stash Tabs",unselectStashTabs:"Unselect Stash Tabs",navBack:"Back",homePage:"Home",networthPage:"Net Worth",bulkTradePage:"Bulk Trade",networthTrackingPage:"Net Worth",bulkTradeListingsPage:"Bulk Listings",bulkTradeOfferingsPage:"My Bulk Listings",bulkTradeTradeNotificationPage:"Trade Notification",servicePage:"Services",serviceListingsPage:"Service Listings",serviceOfferingsPage:"My Service Listings",serviceOfferingSelectionPage:"Service Selection",tradeNotificationPage:"Trade Notification",economyPage:"Economy",showUnreadNotificationsOnly:"Show unread only",clearAllNotifications:"Clear All",markAllNotifications:"Mark all as read",copyWhisper:"Copy whisper",copyRegexWhisper:"Copy regex-whisper ",copyWhisperAgain:"Copy again?",whisperCopied:"Whisper copied!",abort:"Abort",removeActiveOffering:"Move to inactive",removeInactiveOffering:"Delete finally",loginMaxroll:"Maxroll Sign in",toggleTabNotifications:"Activate Tab Notifications",filterByMinTradeValue:"Filter by Min Trade Value",updateOffering:"Update My Listing",removeOffering:"Remove My Listing",openPagePreview:"Open Page",postServiceListings:"Post Services",manageServices:"Manage Services",manageServicesShort:"Services",joinQueue:"Join Queue",inviteUsers:"Invite Users",updateService:"Update",deactivateService:"Deactivate Service",setListingActive:"Activate",deleteProfile:"Delete",saveProfile:"Save",createProfile:"Create Profile"},V$={appTitle:"PoExchange",appTitleMain:"PoExchange - PoE Trading Platform",appTitleBulkTradeListingsPage:"PoExchange - Bulk Listings",appTitleBulkTradeOfferingsPage:"PoExchange - My Bulk Listings",appTitleServiceListingsPage:"PoExchange - Service Listings",appTitleServiceOfferingsPage:"PoExchange - My Service Listings",bulkTradePage:"Bulk Trade",servicePage:"Services",welcome:"PoExchange",alertDialogQuesting:"Are you absolutely sure?",myOfferings:"My Listings",bulkListing:"Bulk Listing",actions:"Actions",notifications:"Notifications",notificationSettings:"Notification Settings",itemFilter:"Advanced Filter",settings:"Settings",props:"Properties",priceProps:"Price properties",extendedProps:"Additional category properties",customProps:"Custom properties",updateMyOffering:"Update My Listing",errorBoundaryTitle:"Oops ... Something went wrong",stashView:"Stash",customGroupHeader8ModNormalMapLabel:"8-Mod Maps",customGroupHeaderNormalMapLabel:"Normal Maps",openUserInvitations:"Open Invitations",editProfile:"Edit Snapshot Profile",addProfile:"Add Snapshot Profile"},B$={searchPh:"Search ...",searchOptionPh:"Search {{keyword}} ...",searchRegexPh:"Search regex ...",searchModsPh:"Search mods ...",searchServiceName:"Search service ...",selectCategoryPh:"Select category",selectSubCategoryPh:"Select subcategory",selectLeaguePh:"Select league",selectPh:"Select ...",selectOptionPh:"Select {{keyword}} ...",selectModsPh:"Select mods for custom prices",selectPagePh:"Select page",yourRegionSelect:"Select your region ...",yourRegionPrefix:"Your Region:",locationSelect:"Select location ...",rulesKw:"rule",regionKw:"region",noResults:"No results.",noItemResults:"No item found.",noOfferingResults:"No listings found.",noInactiveOfferingResults:"No inactive listings found.",noNotificationResults:"You have no notifications ",otherCalculations:"CURRENCY CALCULATIONS",wholeListingShort:"Bulk only",individualListingShort:"Individual items",wholeOfferingShort:"Bulk only",individualOfferingShort:"Individual",wholeOffering:"Sell bulk only",individualOffering:"Sell individual items",individualOfferingTT:"Bulk only: Sell the whole listing at once",wholeOfferingTT:"Individual: Sell individual priced items",multiplier:"Multiplier: {{multiplier}}%",multiplierRange:"Multiplier: {{multiplierFrom}}% - {{multiplierTo}}%",total:"Total:",totalPrice:"Total Price:",minTradeValue:"Min Trade:",minTradeValueExt:"Minimum Trade:",priceFree:"N/A",columnSettings:"Column settings",hardReset:"Hard Reset",columnSettingsResetTT:"Reset settings",discordTT:"Discord",account:"My Account",ign:"Ign",selectIgn:"Click to set IGN",league:"League",priceLeague:"Pricing League",loading:"Loading ...",loadingItems:"Loading items ...",offeringPreviewTT:`This selects the stash tabs, category and subcategory.

All other settings are taken from Your latest changes:`,offeringPreviewLi1TT:"Multiplier per (sub-)category",offeringPreviewLi2TT:"Overrides",offeringPreviewLi3TT:"Unselected items",offeringPreviewLi4TT:"Minimum trade value",notLoadedTT:"Not loaded",updatedTT:"Updated",maxNotification:"Maximum displayed notifications",tradeInNewWindow:"Open trade requests in new window:",showDetailsTT:"Show Details",rowsSelectedOf:"{{current}} of {{total}} row(s) selected.",pageOf:"Page {{current}} of {{total}}",rowsPerPage:"Rows per page",firstPage:"Go to first page",prevPage:"Go to previous page",nextPage:"Go to next page",lastPage:"Go to last page",min:"MIN",multiplierLabel:"Multiplier:",askingPrice:"Asking Price:",sellMode:"Sell Mode:",seller:"Seller:",category:"Category:",regexSearchEnabledLabel:"Regex enabled:",regexSearchAllowedTT:"You are allowed to search the stash tab using a regular expression (in-game regex support).",regexSearchDisallowedTT:"Just random maps. You are not allowed to search the stash tab using a regular expression.",poeregexRecommandation1:"Please use",poeregexRecommandation2:"to create a regex (max. 250 characters)",regexExtraPriceLabel:"Regex extra price per item:",regexFilterAsSelectionLabel:"Use regex filter to whisper:",regexFilterAsSelectionTT:`If checked, the regex filter will select the asking quantity and the regex will be sent with the whisper message and with the notification.
Otherwise, the seller will select random items. Based on your selection`,allowRegexSearch:"Allow regex search",regexExtraPrice:"Extra price for regex search:",language:"Language",stashesPolicy:"Stash Tabs",stashPolicy:"Stash Tab",charactersPolicy:"Characters",leaguesPolicy:"Leagues",accountLeaguesPolicy:"Leagues",refreshStashTabs:"Refresh Stash Tabs",noStashesLoaded:"No Stash Tabs loaded",notAllStashesLoaded:"Not all Stash Tabs loaded",noStashesSelected:"No Stash Tabs selected",stashesNotUpdated:"One of your Stash Tabs was updated {{fetchedAgo}}",lowConfidenceWarning:"<0>Warning:</0> Low confidence. Price is based on a relatively low number of listings. Listed ~{{count}}",lowConfidenceWarningShort:"<0>Warning:</0> Low confidence. Price is based on a relatively low number of listings.",connecting:"Connecting ...",activeOfferings:`Active listings

These listings are active for two hours.
After that, they will be moved to the list of inactive listings.
This will also happen if you set them inactive.

Use the Move button to list them again.`,inactiveOfferings:`Inactive listings

These inactive listings in this list last for 6 days.
You can finally delete them here.

Use the Move button to list them again.`,selectCategoryToFilter:"Please select a category to filter listings by item",loadStashTabsTT:"This will load your selected Stash tab items.",loadStashTabsNote1TT:`

Note: If you select Stash tabs, the Stash will automatically load when`,loadStashTabsNote1Li1TT:"no data is loaded into the cache",loadStashTabsNote1Li2TT:"the data that is older than 30 minutes",loadStashTabsTextTT:`
Note: If you change zones or wait a certain amount of time, your items in your stash will be updated in the GGG API so they can be loaded.`,minTradeValueWarning:"The filtered price is below the minimum trade value. Please select more items to enable whispering!",itemToTextFilterTT:"Turn this filter into a raw text filter",serachToTextFilterTT:"Use your search value as raw text filter",freeTextModeAndTT:"The listing must contain all matching items",freeTextModeOrTT:"The listing must contain at least one of the matching items",toggleTabNotificationsTT:"Enable tab notifications to get the listings with your filter in the background and receive sound notifications for new listings for the tab during playback.",characterSelectTT:"The character selection is to get the IGN for the listings. An attempt is made to automatically select your last played character.",general:"General",customGroups:"Custom Groups",advanced:"Advanced",showTableTT:`Show table
If the stash is active, you can click items or tabs to show the linked items in the stash`,showStashViewTT:`Show stash
If the table view is active, you can click items to show the linked item in the table.`,resetBulkToolPage:"This option will reset your Bulk Listings settings",mapMods:"Map Mods",select8ModsDescription:"Selecting mods will customize and split your map grouping, allowing you to create custom prices for those specific mods.",modsSelected:"{{count}} mod{{plural}} selected",optionsSelected:"{{count}} {{keyword}}{{plural}} selected","8modBasePrice":"Base price for 8-mod maps",basePrice:"Base price:",arrowRightHotkeyTT:"Hotkey: Arrow Right () to navigate",arrowLeftHotkeyTT:"Hotkey: Arrow Left () to navigate",updateQuantities:"Update Quantities",updateQuantitiesDescription:"This reduces the original listing by this trade items with quantities. Unselected items are removed.",updatePrices:"Update Prices",updatePricesDescription:"This updates the prices of the listing based on the current market prices. Your item overrides are preserved.",tableView:"Table",stashTabView:"Stash View",requiresLogin:"A logged in account is required for the page you are currently viewing in order to be able to offer you all features.",connectPathOfExileAccount:"Connect your Path of Exile account to get started.",partneredWebsite1:"The website is partnered with maxroll media group. Please see ",partneredWebsite2:" for more information.",partneredWebsite3:"Here is a quick tutorial for the core features created by Crouching_Tuna:",embedLink:"here",activeServices:"Active Services",inactiveServices:"Inactive Services",noInvitationResults:"No invitations found.",all:"All",inactive:"Inactive",active:"Active",statusOnlineInfo:"Every action takes you online. Including mouse movement.",statusIdleInfo:"After 30 minutes of inactivity, you are considered idle/away.",statusOfflineInfo:"After 2 hours of inactivity or closing all tabs (except reloading), you will be considered offline. Your services will be removed when you are offline.",regexItemsWarning:"The trade contains items that have been actively deselected. Please check the Stash view and do not select items with the red X!",normalMapsUnsupported:"Normal maps are not supported for map stash tabs. Please use normal/quad stash tabs.",tabNotificationSound:"Tab notification sound",tradeNotificationSound:"Trade notification sound",defaultTradeNotificationSoundToUse:"Default trade notification sound",serviceNotificationSound:"Service notification sound",defaultServiceNotificationSoundToUse:"Default service notification sound",selectAudioFile:"Please select an audio file",noFileSelected:"No file selected",defaultSoundUsed:"Default sound used",rulesToFollow:"Rules to follow",allRegions:"All regions",onlineStatus:"Active on PoExchange",idleStatus:"Idle on PoExchange (30 minutes)",offlineStatus:"Offline on PoExchange (2 hours)",setAllListingsActiveInfo:"Activate all your services",setAllListingsInactiveInfo:"Deactivate all your services",sellersBossLoot:"Bosskiller provides the map and receive all loot.",buyersBossLoot:"Buyer provides the map and receives all loot.",extraPriceQuant:`Extra Price for a regex with quantity filter inside the regex. This <0>ADDS UP</0> with the general extra price for regex search!
This is an example for a match with >= 120% Quantity: "m q.*1[2-9].%"`,vouchUserTT:"Vouch for this user",myVouchUserTT:"Your vouch count",volume:"Volume",selectProfile:"Select profile",addProfile:"Add Profile",profileName:"Profile Name",selectProfilePlaceholder:"Name your profile",selectLeaguePlaceholder:"Select a league",selectPriceLeaguePlaceholder:"Select a pricing league",stashTabs:"Stash Tabs",autoSnapshot:"Auto Snapshotting"},z$={appDescriptionMain:"PoExchange is a platform that allows you to bulk trade items, services and more in Path of Exile.",appDescriptionBulkTradeOfferingsPage:"List poe bulk items easily. Listings are split into categories and subcategories with 8-mod maps with regex and stashviews as highlights and over 60 categories in total, all bulk items that you want to sell should be covered.",appDescriptionBulkTradeListingsPage:"Buy poe bulk items easily. Listings are split into categories and subcategories with 8-mod maps with regex and stashviews as highlights and over 60 categories in total, all bulk items that you want to sell should be covered.",appDescriptionServiceOfferingsPage:"List your services easily. List your services and let buyer whisper you or use this tool to manage and invite buyers.",appDescriptionServiceListingsPage:"Buy service listings easily. Whisper service sellers or let them invite you to their service.",bulkTradePage:"Buy or sell bulk items with categories, subcategories, regex support, stash views and more...",bulkTradeOfferingsPage:"List bulk or individual items. Get notifications etc.",bulkTradeListingsPage:"Buy bulk or individual items with advanced filters etc.",bulkTradeTradeNotificationPage:"View details of the trade notification and update your listing.",servicePage:"Buy or sell services with direct wispers or service rooms...",serviceOfferingsPage:"List your services and use the tool to manage them etc.",serviceListingsPage:"Whisper service sellers or let them invite you...",fallbackRenderInfo:"If you confirm, all data will be reset. To fix the bug, it would help to report it. Thanks!",hardReset:"If you confirm, all data will be reset. This can help with bugs. To fix the bug, it would help to report it. Thanks!",characterInfo:"Level {{level}} {{class}}",wtbAll:" WTB All {{count}} '{{category}}'",wtbPartial:" WTB {{count}} '{{category}}'",wtsServiceNotification:" WTS service '{{serviceName}}'",wtbServiceNotification:" WTB service '{{serviceName}}' on '{{location}}'",wtbDivPattern:"{{div}}d",wtbChaosPattern:"{{chaos}}c",wtbRegalPattern:"{{regal}}r",wtbExaltedPattern:"{{ex}}ex",wtbMixedPattern:"{{div}}d {{chaos}}c",wtbRegexPattern:" with regex: '{{regex}}'",wtbRegex:"Copy Regex: ",wtbAllWhisperDiv:"@{{ign}} WTB {{mode}} '{{category}}' listing for {{price}}",wtbAllWhisperChaos:"@{{ign}} WTB {{mode}} '{{category}}' listing for {{price}}",wtbAllWhisperMixed:"@{{ign}} WTB {{mode}} '{{category}}' listing for {{price}}",wtbAllMode:"ALL {{count}}",wtbWhisperDiv:"@{{ign}} WTB {{items}}. Total {{price}}{{regex}}",wtbWhisperChaos:"@{{ign}} WTB {{items}}. Total {{price}}{{regex}}",wtbWhisperMixed:"@{{ign}} WTB {{items}}. Total {{price}}{{regex}}",wtbSingleItem:"{{props}} {{name}} {{price}}",wtbFreeService:"@{{ign}} WTS {{name}} listed for free ({{location}})",wtbService:"@{{ign}} WTS {{name}} for {{price}} ({{location}})",locationSellerMap:"Seller's Map",locationBuyersMap:"Buyer's Map",useNotificationView:"Please see your notification detail view",softReset:`This action cannot be undone.

 If you confirm, the following data will be reset:`,softResetLi1:"Multiplier per (sub-)category",softResetLi2:"Sell mode per (sub-)category",softResetLi3:"Minimum trade value per (sub-)category",softResetLi4:"Overrides",softResetLi5:"Unselected items",maxNotification:"Notifications are queued to appear when the maximum number is reached.",tradeInNewWindow:"Trade requests notifications appear when someone clicks Copy Whisper for one of your offers.",tabNotificationSound:"You will hear this sound when you activated the tab notification switch.",tradeNotificationSound:"You will hear this sound when you receive a new trade notification.",serviceNotificationSound:"You will hear this sound when you receive a new service notification.",ratelimitPromise:"{{key}} Ratelimiter active",countdown:"Waiting: {{time}}"},H$={welcome:{title:"User-friendly trading and service platform for Path of Exile",description:"Simplify bulk trades, manage listings, and access boss kill services effortlessly."},bulkTrade:{title:"Bulk Trade",description:"Buy or sell bulk items in Path of Exile. With categories, subcategories, regex support, and stash views, you can easily sell and buy items in bulk.",listings:{title:"Bulk Listings",description:{1:"Search for bulk items or individual items.",2:"Select a category and a subcategory to filter the listings, with a total of over 60 categories/subcategories to choose from.",3:"Apply further filters with a powerful PoE trade-like advanced filter. This will preselect the items and calculate the new total price.",4:"Copy the whisper message to clipboard with a single click and whisper the seller in-game to buy the items.",5:"Alternatively, you can view the details of the listing and copy the whisper message from there.",6:"View the stash view of the seller to see the items in the stash tab and verify the items you want to buy.",7:"Use the regex filter for map-based categories to search for items with specific mods or a combination of mods."}},myListings:{title:"My Bulk Listings",description:{1:"Select stash tabs to list items from. You can select multiple stash tabs to list items from.",2:"Verify the items you want to list with the stash view.",3:"Select a category and a subcategory to create your listing for the items you want to sell.",4:"Unselect items you don't want to list.",5:"Override item prices if you want to sell items for a different price than the default price.",6:"Allow regex search for map items and create custom groups to split items into multiple rows to apply even more custom prices.",7:"Post your listing and wait for buyers to whisper you in-game to buy your items.",8:"Receive notifications for the items the buyer wants to buy and update your listing accordingly.",9:"Copy the regex search string and paste it into the in-game search bar to select the items."}}},services:{title:"Services",description:"Buy or sell services in Path of Exile. We are supporting boss killing and leveling for now. Other services and features will be added soon.",listings:{title:"Service Listings",description:{1:"Start by selecting a service category.",2:"Whisper the seller in-game to buy the service.",3:"Alternatively, you can join a global room to get invited if a seller is interested and ready to sell the service to you. (Coming soon)"}},myListings:{title:"My Services",description:{1:"Select the services you want to sell and set the price for the service.",2:"Define different prices for boss killing for your map or the buyer's map.",3:"Let the buyer whisper you or use this tool to manage and invite buyers."}}}},q$={AND:"AND",NOT:"NOT",COUNT:"COUNT",OR:"OR",showAll:"Show all",showSelected:"Show selected",showUnselected:"Show unselected",showAllModes:"Show all listings",showWholeListings:"Show whole listings",showIndividualListings:"Show individual listings"},Q$={message:"Message",serviceCategory:"Service Type",rules:"Rules",overwriteRules:"Overwrite rules",contactDirection:"Contact direction",rewards:"Rewards",serviceName:"Service",ign:"Character",location:"Location",region:"Region",prefferedRegions:"Regions",vouchCount:"Vouches",selection:"Selection","2_day_history":"Price last 2 days","7_day_history":"Price last 7 days",multiplier:"Multiplier",name:"Name",selectedPrice:"Override",props:"Props",quantity:"Quantity",selectedQuantity:"Asking quantity",stashTabs:"Tab",tag:"Tag",price:"Price",combinedExtraPrice:"Extra prices",totalPrice:"Total price",commulativePrice:"Cumulative",category:"Category",listingMode:"Sell Mode",seller:"Seller",buyer:"Buyer",supportRegex:"Regex",combinedRegexExtraPrice:"Regex extra prices",created:"Created",actions:"Actions",minTradeValue:"Min trade"},X$={allflameEmber:"Allflame Ember",contract:"Contract",contractVeryLow:"Contracts Campaign",contractLow:"Contracts Low",contractMid:"Contracts Mid",contractHigh:"Contracts High",contractTopTier:"Contracts Top Tier",blueprint:"Blueprints",blueprintVeryLow:"Blueprints Campaign",blueprintLow:"Blueprints Low",blueprintMid:"Blueprints Mid",blueprintHigh:"Blueprints High",blueprintTopTier:"Blueprints Top Tier",forbiddenTome:"Forbidden Tome",forbiddenTomeVeryLow:"Forbidden Tomes Campaign",forbiddenTomeLow:"Forbidden Tomes Low",forbiddenTomeMid:"Forbidden Tomes Mid",forbiddenTomeHigh:"Forbidden Tomes High",forbiddenTomeTopTier:"Forbidden Tomes Top Tier",runegraft:"Runegraft",alvaTemple:"Alva Temples",inscribedUltimatum:"Inscribed Ultimatiums","8modNormalMap":"8 Mod Maps",normalMap:"Normal Maps","8modOriginatorMap":"8 Mod Originator's Maps",originatorMap:"Originator's Maps",blightedMap:"Blighted Maps",blightedRavagedMap:"Blight-Ravaged Maps",uniqueMap:"Unique Maps",t17Map:"Tier 17 Maps",uniqueJewels:"Unique Jewels",timelessJewel:"Timeless Jewels",compass:"Compasses",essence:"Essences",essenceLow:"Essences Low",essenceHigh:"Essences High",currency:"Currency",stackedDeck:"Stacked Decks",lifeforce:"Lifeforce",otherCurrency:"Other Currency",beast:"Beasts",delve:"Delve",fossil:"Fossils",resonator:"Resonators",catalyst:"Catalysts",sanctum:"Sanctum",uniqueRelic:"Unique Relics",fragment:"Fragments",scarab:"Scarabs",breach:"Breach",legion:"Legion",invitation:"Invitation",mortalSet:"Mortal Set",sacrificeSet:"Sacrifice Set",shaperSet:"Shaper Set",elderSet:"Elder Set",conquererSet:"Conquerer Set",uberElderSet:"Uber Elder Set",uberFragments:"Uber Fragments",simulacrum:"Simulacrum",otherFragments:"Other Fragments",card:"Cards",deliriumOrb:"Delirium Orbs",expedition:"Expedition",logbook:"Logbooks",artifact:"Artifacts",oil:"Oils",memory:"Memory",incubator:"Incubators",map:"Maps",shaperMap:"Shaper Maps",elderMap:"Elder Maps",conquerorMap:"Conqueror Maps",omen:"Omens",tattoo:"Tattoos"},G$={WTB_all:"All",WTB_requiredCampaignBosses:"Campaign Bosses",WTB_optionalCampaignBosses:"Optional Campaign Bosses",WTB_ascendancy:"Ascendancy Trials",WTB_endgameBosses:"Endgame Bosses",WTB_pinnacleBosses:"Pinnacle Bosses",WTB_bossKilling:"Boss Killing",WTB_crafting:"Crafting",WTB_leveling:"Leveling",WTB_other:"Other",WTS_campaignBosses:"Campaign",WTS_requiredCampaignBosses:"Campaign Bosses",WTS_optionalCampaignBosses:"Optional Campaign Bosses",WTS_ascendancy:"Ascendancy Trials",WTS_endgameBosses:"Endgame Bosses",WTS_pinnacleBosses:"Pinnacle Bosses",WTS_bossKilling:"Boss Killing",WTS_crafting:"Crafting",WTS_leveling:"Leveling",WTS_other:"Other"},J$={groupedService:"{{group}} - {{service}}",all:"All",customServices:"Custom Services",act1:"Act 1",act2:"Act 2",act3:"Act 3",act1Cruel:"Act 1 Cruel",act2Cruel:"Act 2 Cruel",act3Cruel:"Act 3 Cruel","ascendancy1&2":"Ascendancy Points 1 & 2","ascendancy3&4":"Ascendancy Points 1, 2 .. 3 & 4","ascendancy5&6":"Ascendancy Points 1, 2 .. 5 & 6","ascendancy7&8":"Ascendancy Points 1, 2 .. 7 & 8",theRustKing:"The Rust King",dravenTheEternalPraetor:"Draven, the Eternal Praetor",lachlannOfEndlessLament:"Lachlann of Endless Lament",theExecutioner:"The Executioner",countGeonor:"Count Geonor",asiniaPraetorConsort:"Asinia, Praetor Consort",theBloatedMiller:"The Bloated Miller",jamanraTheRisenKing:"Jamanra, the Risen King",jamanraTheAbomination:"Jamanra, the Abomination",azarianTheForsakenSon:"Azarian, the Forsaken Son",ekbabAncientSteed:"Ekbab, Ancient Steed",torGulTheDefiler:"Tor Gul, the Defiler",zalmarathTheColossus:"Zalmarath, the Colossus",rathbreaker:"Rathbreaker",rudjaDreadEngineer:"Rudja, Dread Engineer",zicoatlWardenOfTheCore:"Zicoatl, Warden of the Core",blackjawTheRemnant:"Blackjaw, the Remnant",xyclucianTheChimera:"Xyclucian, the Chimera",queenOfFilth:"Queen of Filth",ketzuliHighPriestOfTheSun:"Ketzuli, High Priest of the Sun",viperNapuatzi:"Viper Napuatzi",doryani:"Doryani",theDevourer:"The Devourer",vargirTheFeralMutt:"Vargir the Feral Mutt",areagneForgottenWitch:"Areagne, Forgotten Witch",theRottenDruid:"The Rotten Druid",candlemassTheLivingRite:"Candlemass, the Living Rite",theKingInTheMists:"The King in the Mists",theCrowbell:"The Crowbell",theBrambleghast:"The Brambleghast",beiraOfTheRottenPack:"Beira of the Rotten Pack",balbalaTheTraitor:"Balbala, The Traitor",limTheImpaler:"L'im the Impaler",kabalaConstrictorQueen:"Kabala, Constrictor Queen",rattlecageTheEarthbreaker:"Rattlecage, the Earthbreaker",theNinthTreasureOfKeth:"The Ninth Treasure of Keth",watchfulTwins:"Watchful Twins",rootdredge:"Rootdredge",mightySilverfist:"Mighty Silverfist",ignagdukTheBogWitch:"Ignagduk, the Bog Witch",mektulTheForgemaster:"Mektul, the Forgemaster",lab1:"Lab 1 (Level 33)",lab2:"Lab 2 (Level 55)",lab3:"Lab 3 (Level 68)",lab4:"Lab 4 (Level 75)","5way":"Legion 5-Way",leveling:"Leveling",goldService:"Gold Service",campaign:"Campaign",benchCraft:"Bench Craft",anyT17:"Any T17",searchingExarch:"The Searching Exarch",eaterOfWorlds:"The Eater of Worlds",maven:"The Maven",uberElder:"Uber Elder",invitationAtlas:"Invitation: The Atlas",invitationFormed:"Invitation: The Formed",invitationTwisted:"Invitation: The Twisted",invitationForgotten:"Invitation: The Forgotten",invitationHidden:"Invitation: The Hidden",inivitationElderslayers:"Invitation: The Elderslayers",invitationFeared:"Invitation: The Feared",anyElderGuardian:"Any Elder Guardian",anyShaperGuardian:"Any Shaper Guardian",anyConqueror:"Any Conqueror",sirus:"Sirus, Awakener of Worlds",cortex:"Cortex",shaper:"The Shaper",infiniteHunger:"The Infinite Hunger",blackStar:"The Black Star",elder:"The Elder",aul:"Aul, the Crystal King",atziri:"Atziri",uberAtziri:"Uber Atziri",uberCortex:"Uber Cortex",uberShaper:"Uber Shaper",uberUberElder:"Uber Uber Elder",uberSirus:"Uber Sirus",uberMaven:"Uber Maven",uberExarch:"Uber Exarch",uberEater:"Uber Eater",chayula:"Chayula, the Breachlord",catarina:"Catarina",theTrialmaster:"The Trialmaster",olroth:"Olroth",t17Fortress:"Nightmare of the Unbreakable (T17 Fortress)",t17Citadel:"Nightmare of Uhtred (T17 Citadel)",t17Sanctuary:"Nightmare of Lycia (T17 Sanctuary)",t17Ziggurat:"Nightmare of Catarina (T17 Ziggurat)",t17Abomination:"Nightmare of the Depraved Trinity (T17 Abomination)",sekhemasTrial1:"Sekhemas Trial (Floor 1)",sekhemasTrial2:"Sekhemas Trial (Floor 2)",sekhemasTrial3:"Sekhemas Trial (Floor 3)",sekhemasTrial4:"Sekhemas Trial (Floor 4)",chaosTrial1:"Chaos Trial (4)",chaosTrial2:"Chaos Trial (7)",chaosTrial3:"Chaos Trial (10)",xesht:"Xesht: We That Are One",king_in_the_mists:"King in the Mists",simulacrum:"Simulacrum",olrothPoe2:"Olroth: Undead Commander",theArbiter:"The Arbiter of Ash"},Y$={atlasPassivePoint:"Atlas Passive Point","5thOr6thMapSlot":"5th or 6th map slot",favoriteMapSlot:"Favorite Map Slot",voidstone:"Voidstone",challenge:"Challenge",noRewards:"Other","2ascendancyPassivePoint":"2 Ascendancy Passive Points",leveling:"Leveling",difficulty1:"Difficulty 1",difficulty2:"Difficulty 2",difficulty3:"Difficulty 3",difficulty4:"Difficulty 4"},K$={general:"General",influence:"Exotic",breach:"Breach",scarab:"Scarab",eldritch:"Eldritch"},Z$={de:"Deutsch ",en:"English",es:"Espaol",fr:"Franais",ja:"",ko:"",pt:"Portugus",ru:"",zh:""},eM={de:"DE",en:"EN",es:"ES",fr:"FR",ja:"",ko:"",pt:"PT",ru:"RU",zh:""},tM={de:"Beta",en:"Beta",es:"Beta",fr:"Bta",ja:"",ko:"",pt:"Beta",ru:"",zh:""},nM={action:U$,title:V$,label:B$,body:z$,homePage:H$,option:q$,columnTitle:Q$,categories:X$,serviceCategory:G$,services:J$,serviceRewards:Y$,stashTab:K$,locales:Z$,localesShort:eM,beta:tM},rM={title:{discordConnection:"Your Discord account has been successfully linked to your GGG account!"},description:{}},sM={unknown_error:"Error: {{message}}",title:{discordConnection:"An error occurred while connecting your Discord account to your GGG account!",connectToGGG:"An error occurred while sign in to GGG",tradeListingNotFound:"Trade listing not found",postListing:"Failed to post the listing",postServiceListings:"Failed to post the service listings",deleteServiceListing:"Failed to delete the service listing",gggApiDown:"GGG API is down. Please try again later!",gggApiError:"GGG API returned {{statusCode}}. You can try to refresh the page, logging out and back in, or contact the support.",gggApiErrorWithMsg:"GGG API returned {{statusCode}}. You can try to refresh the page, logging out and back in, or contact the support. Error message: {{message}}",relistServices:"Relisting failed for {{count}} service(s).",unmarkAutoInactive:"Failed to unmark the service(s) as inactive"},description:{}},iM={title:{},description:{tradeRequestNotValid:"Be careful {{ign}} wants to buy items which are not offered ..."}},oM={title:{sessionExpired:"Your session has expired. Please connect your poe account again.",loginToUsePage:"This is only a preview. Please connect your poe account to use this page.",connectToDiscord:"Do you want to connect your GGG account to Discord? This overall makes the trading experience safer as it provides another layer of security",banned:"You have been banned from PoExchange. Please contact the support for more information.",servicesRelisted:"Your {{count}} services have been relisted automatically!",relistServices:"Welcome back! We've relisted {{poe1}} poe1 and {{poe2}} poe2 from your inactive services on PoExchange."},description:{}},aM={success:rM,error:sM,warning:iM,info:oM};let oi=class extends Error{};oi.prototype.name="InvalidTokenError";function lM(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function cM(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return lM(t)}catch{return atob(t)}}function uM(e,t){if(typeof e!="string")throw new oi("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new oi(`Invalid token specified: missing part #${n+1}`);let s;try{s=cM(r)}catch(i){throw new oi(`Invalid token specified: invalid base64 for part #${n+1} (${i.message})`)}try{return JSON.parse(s)}catch(i){throw new oi(`Invalid token specified: invalid json for part #${n+1} (${i.message})`)}}const rn=Object.create(null);rn.open="0";rn.close="1";rn.ping="2";rn.pong="3";rn.message="4";rn.upgrade="5";rn.noop="6";const Po=Object.create(null);Object.keys(rn).forEach(e=>{Po[rn[e]]=e});const kc={type:"error",data:"parser error"},Ty=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ey=typeof ArrayBuffer=="function",Cy=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,nd=({type:e,data:t},n,r)=>Ty&&t instanceof Blob?n?r(t):Ih(t,r):Ey&&(t instanceof ArrayBuffer||Cy(t))?n?r(t):Ih(new Blob([t]),r):r(rn[e]+(t||"")),Ih=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function _h(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Il;function dM(e,t){if(Ty&&e.data instanceof Blob)return e.data.arrayBuffer().then(_h).then(t);if(Ey&&(e.data instanceof ArrayBuffer||Cy(e.data)))return t(_h(e.data));nd(e,!1,n=>{Il||(Il=new TextEncoder),t(Il.encode(n))})}const Th="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ai=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Th.length;e++)ai[Th.charCodeAt(e)]=e;const fM=e=>{let t=e.length*.75,n=e.length,r,s=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),f=new Uint8Array(u);for(r=0;r<n;r+=4)i=ai[e.charCodeAt(r)],o=ai[e.charCodeAt(r+1)],l=ai[e.charCodeAt(r+2)],c=ai[e.charCodeAt(r+3)],f[s++]=i<<2|o>>4,f[s++]=(o&15)<<4|l>>2,f[s++]=(l&3)<<6|c&63;return u},hM=typeof ArrayBuffer=="function",rd=(e,t)=>{if(typeof e!="string")return{type:"message",data:Ay(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:pM(e.substring(1),t)}:Po[n]?e.length>1?{type:Po[n],data:e.substring(1)}:{type:Po[n]}:kc},pM=(e,t)=>{if(hM){const n=fM(e);return Ay(n,t)}else return{base64:!0,data:e}},Ay=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}};function et(e){if(e)return mM(e)}function mM(e){for(var t in et.prototype)e[t]=et.prototype[t];return e}et.prototype.on=et.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};et.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};et.prototype.off=et.prototype.removeListener=et.prototype.removeAllListeners=et.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};et.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};et.prototype.emitReserved=et.prototype.emit;et.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};et.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ia=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),jt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),gM="arraybuffer";function Py(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const yM=jt.setTimeout,bM=jt.clearTimeout;function _a(e,t){t.useNativeTimers?(e.setTimeoutFn=yM.bind(jt),e.clearTimeoutFn=bM.bind(jt)):(e.setTimeoutFn=jt.setTimeout.bind(jt),e.clearTimeoutFn=jt.clearTimeout.bind(jt))}const vM=1.33;function wM(e){return typeof e=="string"?xM(e):Math.ceil((e.byteLength||e.size)*vM)}function xM(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Ly(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function SM(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function $M(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}let MM=class extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}},sd=class extends et{constructor(t){super(),this.writable=!1,_a(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new MM(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=rd(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=SM(t);return n.length?"?"+n:""}};const Oy="",kM=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,o)=>{nd(i,!1,l=>{r[o]=l,++s===n&&t(r.join(Oy))})})},IM=(e,t)=>{const n=e.split(Oy),r=[];for(let s=0;s<n.length;s++){const i=rd(n[s],t);if(r.push(i),i.type==="error")break}return r};function _M(){return new TransformStream({transform(e,t){dM(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let _l;function co(e){return e.reduce((t,n)=>t+n.length,0)}function uo(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function TM(e,t){_l||(_l=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(r===0){if(co(n)<1)break;const c=uo(n,1);i=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(co(n)<2)break;const c=uo(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(co(n)<8)break;const c=uo(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),f=u.getUint32(0);if(f>Math.pow(2,21)-1){l.enqueue(kc);break}s=f*Math.pow(2,32)+u.getUint32(4),r=3}else{if(co(n)<s)break;const c=uo(n,s);l.enqueue(rd(i?c:_l.decode(c),t)),r=0}if(s===0||s>e){l.enqueue(kc);break}}}})}const jy=4;let EM=class extends sd{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};IM(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,kM(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Ly()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}},Ry=!1;try{Ry=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const CM=Ry;function AM(){}let PM=class extends EM{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}},rs=class Lo extends et{constructor(t,n,r){super(),this.createRequest=t,_a(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=Py(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Lo.requestsCount++,Lo.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=AM,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Lo.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};rs.requestsCount=0;rs.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Eh);else if(typeof addEventListener=="function"){const e="onpagehide"in jt?"pagehide":"unload";addEventListener(e,Eh,!1)}}function Eh(){for(let e in rs.requests)rs.requests.hasOwnProperty(e)&&rs.requests[e].abort()}const LM=function(){const e=Dy({xdomain:!1});return e&&e.responseType!==null}();let OM=class extends PM{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=LM&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new rs(Dy,this.uri(),t)}};function Dy(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||CM))return new XMLHttpRequest}catch{}if(!t)try{return new jt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Ny=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";let jM=class extends sd{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Ny?{}:Py(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;nd(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&Ia(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Ly()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}};const Tl=jt.WebSocket||jt.MozWebSocket;let RM=class extends jM{createSocket(t,n,r){return Ny?new Tl(t,n,r):n?new Tl(t,n):new Tl(t)}doWrite(t,n){this.ws.send(n)}},DM=class extends sd{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=TM(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=_M();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:l,value:c})=>{l||(this.onPacket(c),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&Ia(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}};const NM={websocket:RM,webtransport:DM,polling:OM},FM=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,WM=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ic(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=FM.exec(e||""),i={},o=14;for(;o--;)i[WM[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=UM(i,i.path),i.queryKey=VM(i,i.query),i}function UM(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function VM(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const _c=typeof addEventListener=="function"&&typeof removeEventListener=="function",Oo=[];_c&&addEventListener("offline",()=>{Oo.forEach(e=>e())},!1);let jo=class Ro extends et{constructor(t,n){if(super(),this.binaryType=gM,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=Ic(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Ic(n.host).host);_a(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=$M(this.opts.query)),_c&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Oo.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=jy,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Ro.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ro.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(t+=wM(r)),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Ia(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Ro.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),_c&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Oo.indexOf(this._offlineEventListener);r!==-1&&Oo.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}};jo.protocol=jy;let BM=class extends jo{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;jo.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",a=>{if(!r)if(a.type==="pong"&&a.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;jo.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=n.name,this.emitReserved("upgradeError",d)}}))};function i(){r||(r=!0,f(),n.close(),n=null)}const o=a=>{const d=new Error("probe error: "+a);d.transport=n.name,i(),this.emitReserved("upgradeError",d)};function l(){o("transport closed")}function c(){o("socket closed")}function u(a){n&&a.name!==n.name&&i()}const f=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};n.once("open",s),n.once("error",o),n.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}},zM=class extends BM{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>NM[s]).filter(s=>!!s)),super(t,r)}};function HM(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Ic(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const qM=typeof ArrayBuffer=="function",QM=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Fy=Object.prototype.toString,XM=typeof Blob=="function"||typeof Blob<"u"&&Fy.call(Blob)==="[object BlobConstructor]",GM=typeof File=="function"||typeof File<"u"&&Fy.call(File)==="[object FileConstructor]";function id(e){return qM&&(e instanceof ArrayBuffer||QM(e))||XM&&e instanceof Blob||GM&&e instanceof File}function Do(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Do(e[n]))return!0;return!1}if(id(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Do(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Do(e[n]))return!0;return!1}function JM(e){const t=[],n=e.data,r=e;return r.data=Tc(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Tc(e,t){if(!e)return e;if(id(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Tc(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Tc(e[r],t));return n}return e}function YM(e,t){return e.data=Ec(e.data,t),delete e.attachments,e}function Ec(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Ec(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Ec(e[n],t));return e}const KM=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ZM=5;var Ie;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ie||(Ie={}));let ek=class{constructor(t){this.replacer=t}encode(t){return(t.type===Ie.EVENT||t.type===Ie.ACK)&&Do(t)?this.encodeAsBinary({type:t.type===Ie.EVENT?Ie.BINARY_EVENT:Ie.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ie.BINARY_EVENT||t.type===Ie.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=JM(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}};function Ch(e){return Object.prototype.toString.call(e)==="[object Object]"}let tk=class Wy extends et{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Ie.BINARY_EVENT;r||n.type===Ie.BINARY_ACK?(n.type=r?Ie.EVENT:Ie.ACK,this.reconstructor=new nk(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(id(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Ie[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ie.BINARY_EVENT||r.type===Ie.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(Wy.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Ie.CONNECT:return Ch(n);case Ie.DISCONNECT:return n===void 0;case Ie.CONNECT_ERROR:return typeof n=="string"||Ch(n);case Ie.EVENT:case Ie.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&KM.indexOf(n[0])===-1);case Ie.ACK:case Ie.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},nk=class{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=YM(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};const rk=Object.freeze(Object.defineProperty({__proto__:null,Decoder:tk,Encoder:ek,get PacketType(){return Ie},protocol:ZM},Symbol.toStringTag,{value:"Module"}));function Wt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const sk=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});let Uy=class extends et{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Wt(t,"open",this.onopen.bind(this)),Wt(t,"packet",this.onpacket.bind(this)),Wt(t,"error",this.onerror.bind(this)),Wt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,i;if(sk.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Ie.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const u=this.ids++,f=n.pop();this._registerAckCallback(u,f),o.id=u}const l=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},s),o=(...l)=>{this.io.clearTimeoutFn(i),n.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const i=(o,l)=>o?s(o):r(l);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ie.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ie.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ie.EVENT:case Ie.BINARY_EVENT:this.onevent(t);break;case Ie.ACK:case Ie.BINARY_ACK:this.onack(t);break;case Ie.DISCONNECT:this.ondisconnect();break;case Ie.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:Ie.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ie.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}};function Ws(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ws.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Ws.prototype.reset=function(){this.attempts=0};Ws.prototype.setMin=function(e){this.ms=e};Ws.prototype.setMax=function(e){this.max=e};Ws.prototype.setJitter=function(e){this.jitter=e};let Cc=class extends et{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,_a(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ws({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||rk;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new zM(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Wt(n,"open",function(){r.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Wt(n,"error",i);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Wt(t,"ping",this.onping.bind(this)),Wt(t,"data",this.ondata.bind(this)),Wt(t,"error",this.onerror.bind(this)),Wt(t,"close",this.onclose.bind(this)),Wt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Ia(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Uy(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}};const ti={};function No(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=HM(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=ti[s]&&i in ti[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new Cc(r,t):(ti[s]||(ti[s]=new Cc(r,t)),c=ti[s]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(No,{Manager:Cc,Socket:Uy,io:No,connect:No});const Vy=e=>{const{customNotify:t}=zS();return x.useCallback((n,r,s)=>{const i=(s==null?void 0:s.game)??e,o={...s,app:"poexchange",game:i==="poe1"?"poe":"poe2",notificationCenter:{...s==null?void 0:s.notificationCenter},type:r};return t(n,o)},[t,e])},ik=e=>Vy(e),Ta=()=>{const e=cn(t=>t.poe);return Vy(e)};function W7(e){return e}var Ah;(function(e){e[e.NameShouldBeFollowedByValues=0]="NameShouldBeFollowedByValues",e[e.ValuesShouldBeFollowedByName=1]="ValuesShouldBeFollowedByName",e[e.ProgressBar=2]="ProgressBar",e[e.ValuesShouldBeInsertedIntoStringByIndex=3]="ValuesShouldBeInsertedIntoStringByIndex",e[e.Separator=4]="Separator"})(Ah||(Ah={}));function By(e){var t,n,r,s,i,o,l,c,u,f,a,d,h;return{r:e.realm,v:e.verified,w:e.w,h:e.h,i:e.icon,s:e.support,ss:e.stackSize,mss:e.maxStackSize,sst:e.stackSizeText,l:e.league,id:e.id,gs:e.gemSockets,inf:e.influences?{n:e.influences.name}:void 0,e:e.elder,sh:e.shaper,se:e.searing,t:e.tangled,mi:e.memoryItem,aj:e.abyssJewel,d:e.delve,f:e.fractured,sy:e.synthesised,so:(t=e.sockets)==null?void 0:t.map(ok),si:(n=e.socketedItems)==null?void 0:n.map(By),n:e.name,tl:e.typeLine,bt:e.baseType,ra:e.rarity,idf:e.identified,il:e.itemLevel,uit:e.unidentifiedTier,ilv:e.ilvl,no:e.note,fn:e.forum_note,ltc:e.lockedToCharacter,lta:e.lockedToAccount,du:e.duplicated,sp:e.split,co:e.corrupted,um:e.unmodifiable,cr:e.cisRaceReward,sr:e.seaRaceReward,thr:e.thRaceReward,p:(r=e.properties)==null?void 0:r.map(fn),np:(s=e.notableProperties)==null?void 0:s.map(fn),rq:(i=e.requirements)==null?void 0:i.map(fn),wr:(o=e.weaponRequirements)==null?void 0:o.map(fn),sgr:(l=e.supportGemRequirements)==null?void 0:l.map(fn),ap:(c=e.additionalProperties)==null?void 0:c.map(fn),nlr:(u=e.nextLevelRequirements)==null?void 0:u.map(fn),gs2:(f=e.grantedSkills)==null?void 0:f.map(fn),tt:e.talismanTier,rw:(a=e.rewards)==null?void 0:a.map(Mk),sdt:e.secDescrText,umd:e.utilityMods,lbm:(d=e.logbookMods)==null?void 0:d.map(lk),em:e.enchantMods,rm:e.runeMods,scm:e.scourgeMods,im:e.implicitMods,umm:(h=e.ultimatumMods)==null?void 0:h.map(fk),exm:e.explicitMods,cm:e.craftedMods,fm:e.fracturedMods,crm:e.crucibleMods,csm:e.cosmeticMods,vm:e.veiledMods,ve:e.veiled,gt:e.gemTabs,gb:e.gemBackground,gsk:e.gemSkill,dt:e.descrText,ft:e.flavourText,ftp:e.flavourTextParsed,ftn:e.flavourTextNote,pt:e.prophecyText,ir:e.isRelic,fv:e.foilVariation,rp:e.replica,fo:e.foreseeing,ii:e.incubatedItem?pk(e.incubatedItem):void 0,sc:e.scourged?gk(e.scourged):void 0,cu:e.crucible?bk(e.crucible):void 0,ru:e.ruthless,ft_:e.frameType,af:e.artFilename,hy:e.hybrid?wk(e.hybrid):void 0,ex:e.extended?Sk(e.extended):void 0,x:e.x,y:e.y,iid:e.inventoryId,sox:e.socket,c:e.colour,stId:e.stashTabId,catIds:e.categoryIds}}function zy(e){var t,n,r,s,i,o,l,c,u,f,a,d,h;return{realm:e.r,verified:e.v,w:e.w,h:e.h,icon:e.i,support:e.s,stackSize:e.ss,maxStackSize:e.mss,stackSizeText:e.sst,league:e.l,id:e.id,gemSockets:e.gs,influences:e.inf?{name:e.inf.n}:void 0,elder:e.e,shaper:e.sh,searing:e.se,tangled:e.t,memoryItem:e.mi,abyssJewel:e.aj,delve:e.d,fractured:e.f,synthesised:e.sy,sockets:(t=e.so)==null?void 0:t.map(ak),socketedItems:(n=e.si)==null?void 0:n.map(zy),name:e.n,typeLine:e.tl,baseType:e.bt,rarity:e.ra,identified:e.idf,itemLevel:e.il,unidentifiedTier:e.uit,ilvl:e.ilv,note:e.no,forum_note:e.fn,lockedToCharacter:e.ltc,lockedToAccount:e.lta,duplicated:e.du,split:e.sp,corrupted:e.co,unmodifiable:e.um,cisRaceReward:e.cr,seaRaceReward:e.sr,thRaceReward:e.thr,properties:(r=e.p)==null?void 0:r.map(hn),notableProperties:(s=e.np)==null?void 0:s.map(hn),requirements:(i=e.rq)==null?void 0:i.map(hn),weaponRequirements:(o=e.wr)==null?void 0:o.map(hn),supportGemRequirements:(l=e.sgr)==null?void 0:l.map(hn),additionalProperties:(c=e.ap)==null?void 0:c.map(hn),nextLevelRequirements:(u=e.nlr)==null?void 0:u.map(hn),grantedSkills:(f=e.gs2)==null?void 0:f.map(hn),talismanTier:e.tt,rewards:(a=e.rw)==null?void 0:a.map(kk),secDescrText:e.sdt,utilityMods:e.umd,logbookMods:(d=e.lbm)==null?void 0:d.map(ck),enchantMods:e.em,runeMods:e.rm,scourgeMods:e.scm,implicitMods:e.im,ultimatumMods:(h=e.umm)==null?void 0:h.map(hk),explicitMods:e.exm,craftedMods:e.cm,fracturedMods:e.fm,crucibleMods:e.crm,cosmeticMods:e.csm,veiledMods:e.vm,veiled:e.ve,gemTabs:e.gt,gemBackground:e.gb,gemSkill:e.gsk,descrText:e.dt,flavourText:e.ft,flavourTextParsed:e.ftp,flavourTextNote:e.ftn,prophecyText:e.pt,isRelic:e.ir,foilVariation:e.fv,replica:e.rp,foreseeing:e.fo,incubatedItem:e.ii?mk(e.ii):void 0,scourged:e.sc?yk(e.sc):void 0,crucible:e.cu?vk(e.cu):void 0,ruthless:e.ru,frameType:e.ft_,artFilename:e.af,hybrid:e.hy?xk(e.hy):void 0,extended:e.ex?$k(e.ex):void 0,x:e.x,y:e.y,inventoryId:e.iid,socket:e.sox,colour:e.c,stashTabId:e.stId,categoryIds:e.catIds}}function fn(e){return{n:e.name,v:e.values,dm:e.displayMode,p:e.progress,t:e.type,s:e.suffix,i:e.icon}}function hn(e){return{name:e.n,values:e.v,displayMode:e.dm,progress:e.p,type:e.t,suffix:e.s,icon:e.i}}function ok(e){return{g:e.group,a:e.attr,sc:e.sColour,t:e.type,it:e.item}}function ak(e){return{group:e.g,attr:e.a,sColour:e.sc,type:e.t,item:e.it}}function lk(e){return{n:e.name,f:uk(e.faction),m:e.mods}}function ck(e){return{name:e.n,faction:dk(e.f),mods:e.m}}function uk(e){return{id:e.id,n:e.name}}function dk(e){return{id:e.id,name:e.n}}function fk(e){return{t:e.type,tr:e.tier}}function hk(e){return{type:e.t,tier:e.tr}}function pk(e){return{n:e.name,l:e.level,p:e.progress,tt:e.total}}function mk(e){return{name:e.n,level:e.l,progress:e.p,total:e.tt}}function gk(e){return{tr:e.tier,l:e.level,p:e.progress,tt:e.total}}function yk(e){return{tier:e.tr,level:e.l,progress:e.p,total:e.tt}}function bk(e){return{l:e.layout,n:e.nodes}}function vk(e){return{layout:e.l,nodes:e.n}}function wk(e){var t;return{ivg:e.isVaalGem,btn:e.baseTypeName,p:(t=e.properties)==null?void 0:t.map(fn),em:e.explicitMods,sdt:e.secDescrText}}function xk(e){var t;return{isVaalGem:e.ivg,baseTypeName:e.btn,properties:(t=e.p)==null?void 0:t.map(hn),explicitMods:e.em,secDescrText:e.sdt}}function Sk(e){return{c:e.category,p:e.prefixes,sc:e.subcategories,s:e.suffixes}}function $k(e){return{category:e.c,prefixes:e.p,subcategories:e.sc,suffixes:e.s}}function Mk(e){return{l:e.label,r:e.rewards}}function kk(e){return{label:e.l,rewards:e.r}}var _s;(function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"})(_s||(_s={}));const Hy=7,Ik=["keepers","hardcore keepers","hardcore","standard"],_k=["the third edict","standard"],El=e=>e==="poe1"?Ik:_k,U7="poe1",V7=["poe1","poe2"],B7={CurrencyStash:"https://web.poecdn.com/protected/image/layout/stash/currency-tab-icon.png?v=1680235310710&key=c4JmwvlEdlm1iitgRJ-LtQ",QuadStash:"https://web.poecdn.com/protected/image/layout/stash/quad-tab-icon.png?v=1680235310966&key=SO7Jf8d6g68rhHKJVt1Itw",MapStash:"https://web.poecdn.com/protected/image/layout/stash/map-tab-icon.png?v=1680235310894&key=jLp8L5BgKpzzyf8Jdu51Zg",EssenceStash:"https://web.poecdn.com/protected/image/layout/stash/essence-tab-icon.png?v=1680235310746&key=3sC1L24_-V0QEze0P8r_Dg",DivinationCardStash:"https://web.poecdn.com/protected/image/layout/stash/divination-tab-icon.png?v=1680235310746&key=FaLsxYtmuqBXkJebdF62_w",DelveStash:"https://web.poecdn.com/protected/image/layout/stash/delve-tab-icon.png?v=1680235310746&key=1eC3WO6hAEtNVN7wtLT6jA",FragmentStash:"https://web.poecdn.com/protected/image/layout/stash/fragment-tab-icon.png?v=1680235310830&key=NIXjytgKBeGX-0ed5uJWeA",PremiumStash:"https://web.poecdn.com/protected/image/layout/stash/premium-tab-icon.png?v=1749513979553&key=eFcoMl6FRQpBrNgSIvNgYQ",FlaskStash:"https://web.poecdn.com/protected/image/layout/stash/flask-tab-icon.png?v=1680235310814&key=-UDcfP_cV6F7uvzOxyD3rw",GemStash:"https://web.poecdn.com/protected/image/layout/stash/gem-tab-icon.png?v=1680235310878&key=KE0pPt-_F4uZcdNWL6ff4Q",UniqueStash:"https://web.poecdn.com/protected/image/layout/stash/unique-tab-icon.png?v=1680235310978&key=KfyehDD_rcdiAiNnCw7Qew",BlightStash:"https://web.poecdn.com/protected/image/layout/stash/blight-tab-icon.png?v=1680235310698&key=PL1k11by4nAQDMPTAnPZdA",DeliriumStash:"https://web.poecdn.com/protected/image/layout/stash/delirium-tab-icon.png?v=1680235310730&key=sIX1JMexEbOTIezUWYJqvg",UltimatumStash:"https://web.poecdn.com/protected/image/layout/stash/ultimatum-tab-icon.png?v=1704855249477&key=FX2cpC4HmHxbMS3bQvXi-A"},z7="https://web.poecdn.com/gen/image",H7=[["#7c5436",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyODYzMzgxMDJ9XQ/e4f4722145/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyODYzMzgxMDJ9XQ/0beaf4cf09/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyODYzMzgxMDJ9XQ/078f335f09/Stash_TabL.png"}],["#590000",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyODQwMjI3ODR9XQ/d25400a4a5/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyODQwMjI3ODR9XQ/6956bfef33/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyODQwMjI3ODR9XQ/2f12e87c70/Stash_TabL.png"}],["#730055",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyODU3MjY4MDV9XQ/0ec121cac3/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyODU3MjY4MDV9XQ/daac496a44/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyODU3MjY4MDV9XQ/b9bd304e56/Stash_TabL.png"}],["#2c0059",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyODEwNzM3NTN9XQ/3cde455f88/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyODEwNzM3NTN9XQ/07cd399531/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyODEwNzM3NTN9XQ/e4c0f67087/Stash_TabL.png"}],["#000080",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyNzgxOTAyMDh9XQ/5703a2e5c6/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyNzgxOTAyMDh9XQ/d11688d156/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyNzgxOTAyMDh9XQ/df9c818de3/Stash_TabL.png"}],["#004d00",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyNzgyMDk3OTJ9XQ/c63b91e3ca/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyNzgyMDk3OTJ9XQ/9d0be5414c/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyNzgyMDk3OTJ9XQ/19ade1076c/Stash_TabL.png"}],["#638000",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyODQ3MTA5MTJ9XQ/afc438988a/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyODQ3MTA5MTJ9XQ/f4ec5f2c9a/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyODQ3MTA5MTJ9XQ/c6c7573a9f/Stash_TabL.png"}],["#ffaa00",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyOTQ5NDUyODB9XQ/c8d3d4fac3/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyOTQ5NDUyODB9XQ/622014eea6/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyOTQ5NDUyODB9XQ/8f22be66ee/Stash_TabL.png",blackColor:!0}],["#323232",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyODE0Nzk3MzB9XQ/c5c780f9b1/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyODE0Nzk3MzB9XQ/0bf3924612/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyODE0Nzk3MzB9XQ/dae1ee0a68/Stash_TabL.png"}],["#bf5e00",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyOTA3MzE1MjB9XQ/28fa6069ed/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyOTA3MzE1MjB9XQ/c938c1816e/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyOTA3MzE1MjB9XQ/4d643b737f/Stash_TabL.png"}],["#bf0000",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyOTA3MDc0NTZ9XQ/45a805a3f0/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyOTA3MDc0NTZ9XQ/cde970a7b4/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyOTA3MDc0NTZ9XQ/8b6c076674/Stash_TabL.png"}],["#cc009a",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyOTE1NTk1Nzh9XQ/f32175bfbf/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyOTE1NTk1Nzh9XQ/1b17e116e8/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyOTE1NTk1Nzh9XQ/3baad26b79/Stash_TabL.png"}],["#5a00b3",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyODQwODg0OTl9XQ/9cd4405aca/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyODQwODg0OTl9XQ/32af7e9fa9/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyODQwODg0OTl9XQ/4db461f2f9/Stash_TabL.png"}],["#0000ff",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyNzgxOTAzMzV9XQ/c4f309b039/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyNzgxOTAzMzV9XQ/9a6fe37719/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyNzgxOTAzMzV9XQ/2efbe6c15d/Stash_TabL.png"}],["#00bf00",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyNzgyMzg5NzZ9XQ/f2082714f1/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyNzgyMzg5NzZ9XQ/199d0d6f44/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyNzgyMzg5NzZ9XQ/ed8b73eceb/Stash_TabL.png",blackColor:!0}],["#bff500",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyOTA3NzAxNzZ9XQ/01bf14ee06/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyOTA3NzAxNzZ9XQ/6765ac3892/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyOTA3NzAxNzZ9XQ/08d3770d05/Stash_TabL.png",blackColor:!0}],["#ffd500",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyOTQ5NTYyODh9XQ/002f296e34/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyOTQ5NTYyODh9XQ/b771c7dd16/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyOTQ5NTYyODh9XQ/5c11137e20/Stash_TabL.png",blackColor:!0}],["#888888",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyODcxMzc5Mjh9XQ/d4af401eaa/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyODcxMzc5Mjh9XQ/28ad7b9659/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyODcxMzc5Mjh9XQ/264762fcdd/Stash_TabL.png",blackColor:!0}],["#ffbf80",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyOTQ5NTA3ODR9XQ/14259eddf2/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyOTQ5NTA3ODR9XQ/ba71209ee6/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyOTQ5NTA3ODR9XQ/f2ce553134/Stash_TabL.png",blackColor:!0}],["#ff8080",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyOTQ5MzQ2NTZ9XQ/bbad4fc4d3/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyOTQ5MzQ2NTZ9XQ/20024fe333/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyOTQ5MzQ2NTZ9XQ/968a96d3b3/Stash_TabL.png",blackColor:!0}],["#ff80df",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyOTQ5MzQ3NTF9XQ/8e3191682c/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyOTQ5MzQ3NTF9XQ/d708cffb88/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyOTQ5MzQ3NTF9XQ/0a2bb0cf49/Stash_TabL.png",blackColor:!0}],["#c080ff",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyOTA4MDYwMTV9XQ/910b2757e0/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyOTA4MDYwMTV9XQ/0dd40fbe0d/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyOTA4MDYwMTV9XQ/c31b4e6dd8/Stash_TabL.png",blackColor:!0}],["#80b3ff",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyODY2MjQ3Njd9XQ/1e3985d7b2/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyODY2MjQ3Njd9XQ/884b5ed3ca/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyODY2MjQ3Njd9XQ/6926db44c0/Stash_TabL.png",blackColor:!0}],["#80ff80",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyODY2NDQwOTZ9XQ/a984cc6673/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyODY2NDQwOTZ9XQ/f14e52410a/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyODY2NDQwOTZ9XQ/28e5931d6b/Stash_TabL.png",blackColor:!0}],["#f0ff80",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyOTM5ODQxMjh9XQ/57b0a0b975/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyOTM5ODQxMjh9XQ/629a06b39b/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyOTM5ODQxMjh9XQ/0d3307f98b/Stash_TabL.png",blackColor:!0}],["#ffff99",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyOTQ5NjcxOTN9XQ/855cca6a75/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyOTQ5NjcxOTN9XQ/f904142ea5/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyOTQ5NjcxOTN9XQ/6382788ae2/Stash_TabL.png",blackColor:!0}],["#dddddd",{l:"/WzIzLDEseyJ0IjoibCIsImMiOjQyOTI3MzAzMzN9XQ/92e97210e2/Stash_TabL.png",m:"/WzIzLDEseyJ0IjoibSIsImMiOjQyOTI3MzAzMzN9XQ/d866011a88/Stash_TabL.png",r:"/WzIzLDEseyJ0IjoiciIsImMiOjQyOTI3MzAzMzN9XQ/b3bc614f86/Stash_TabL.png",blackColor:!0}]],Tk={"map_item_drop_quantity_+%":"Item Quantity","map_item_drop_rarity_+%":"Item Rarity","map_pack_size_+%":"Monster Pack Size"},Ek={"map_item_drop_quantity_+%":"Item Quantity","map_item_drop_rarity_+%":"Item Rarity","map_pack_size_+%":"Monster Pack Size","map_currency_drop_chance_+%_final_from_uber_mod":"More Currency","map_scarab_drop_chance_+%_final_from_uber_mod":"More Scarabs","map_map_item_drop_chance_+%_final_from_uber_mod":"More Maps"},q7={"map_item_drop_quantity_+%":"IQ","map_item_drop_rarity_+%":"IR","map_pack_size_+%":"MPS","map_currency_drop_chance_+%_final_from_uber_mod":"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQ3VycmVuY3lNb2RWYWx1ZXMiLCJzY2FsZSI6MX1d/ec48896769/CurrencyModValues.png","map_scarab_drop_chance_+%_final_from_uber_mod":"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvU2NhcmFicy9UaWVyNFNjYXJhYkhhcmJpbmdlcnMiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MX1d/81caefbf3f/Tier4ScarabHarbingers.png","map_map_item_drop_chance_+%_final_from_uber_mod":"https://web.poecdn.com/image/Art/2DItems/Maps/AtlasMaps/Gorge3.png?scale=1&w=1&h=1","map_quality_+%":"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQ3VycmVuY3lNYXBRdWFsaXR5Iiwic2NhbGUiOjF9XQ/0246313b99/CurrencyMapQuality.png"},Ln=e=>(t,n)=>{if(!t.explicitMods)return;const r=e==="normal"?Tk:Ek,s=[...n.meta.tieredPrices||[]].filter(i=>Object.values(i.quantities||{}).filter(o=>o).length>0).reverse();for(const i of s){const o={};if(Object.entries(i.quantities).filter(([l,c])=>c).every(([l,c])=>{var f,a,d,h;const u=r[l];if(u){if(!c)return;const p=(h=(d=(a=(f=t.properties)==null?void 0:f.find(m=>m.name===u))==null?void 0:a.values)==null?void 0:d[0])==null?void 0:h[0];if(!p)return;if(parseFloat(p.replace(/(\d+)%/,"$1"))>=c){const m=`+${c}% ${u}`;return o[m]=!0,!0}}}))return[i.price,o]}},Us=[{id:"0061764a-6f7d-4394-a166-2dda5ec89c09",name:"essence",tags:["essence"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvRXNzZW5jZS9Db250ZW1wdDYiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MX1d/332e9b32e9/Contempt6.png",subCategories:[{id:"eb1589a5-4c25-4b0e-984d-08c52611185c",name:"essenceLow",tags:["essence"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvRXNzZW5jZS9Db250ZW1wdDMiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MX1d/7347bf5d1c/Contempt3.png",filter:e=>!["shrieking","deafening","essence of horror","essence of delirium","essence of hysteria","essence of insanity"].some(t=>{var n;return(n=e.primaryGroup)==null?void 0:n.key.startsWith(t)})},{id:"962cd240-b0c9-4c9f-8ca1-741c5ac50deb",name:"essenceHigh",tags:["essence"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvRXNzZW5jZS9Ib3Jyb3IxIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/748d594bde/Horror1.png",filter:e=>["shrieking","deafening","essence of horror","essence of delirium","essence of hysteria","essence of insanity"].some(t=>{var n;return(n=e.primaryGroup)==null?void 0:n.key.startsWith(t)})}]},{id:"dac1ab03-8a9e-45ea-ac39-c2ffd602a957",name:"contract",tags:["contract"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvSGVpc3QvQ29udHJhY3RJdGVtIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/8262f2ca0e/ContractItem.png",subCategories:[{id:"12472dff-b541-4673-8a04-65e86666b798",name:"contractVeryLow",tags:["contract"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvSGVpc3QvQ29udHJhY3RJdGVtIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/8262f2ca0e/ContractItem.png",filter:e=>{var t,n;return((n=(t=e==null?void 0:e.primaryGroup)==null?void 0:t.unsafeHashProperties)==null?void 0:n.ilvl)==="<68"}},{id:"0ff57a57-965b-41ab-937b-e57a2cf7fc40",name:"contractLow",tags:["contract"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvSGVpc3QvQ29udHJhY3RJdGVtIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/8262f2ca0e/ContractItem.png",filter:e=>{var t,n;return((n=(t=e==null?void 0:e.primaryGroup)==null?void 0:t.unsafeHashProperties)==null?void 0:n.ilvl)==="68-72"}},{id:"1a5cfc8c-81d7-43f3-b36c-0b1ca2765492",name:"contractMid",tags:["contract"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvSGVpc3QvQ29udHJhY3RJdGVtIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/8262f2ca0e/ContractItem.png",filter:e=>{var t,n;return((n=(t=e==null?void 0:e.primaryGroup)==null?void 0:t.unsafeHashProperties)==null?void 0:n.ilvl)==="73-77"}},{id:"040b8a8c-a1ea-4582-8105-5a73826711c6",name:"contractHigh",tags:["contract"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvSGVpc3QvQ29udHJhY3RJdGVtIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/8262f2ca0e/ContractItem.png",filter:e=>{var t,n;return((n=(t=e==null?void 0:e.primaryGroup)==null?void 0:t.unsafeHashProperties)==null?void 0:n.ilvl)==="78-82"}},{id:"e625be49-a031-48a2-9975-2a8d17f0b334",name:"contractTopTier",tags:["contract"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvSGVpc3QvQ29udHJhY3RJdGVtIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/8262f2ca0e/ContractItem.png",filter:e=>{var t,n;return((n=(t=e==null?void 0:e.primaryGroup)==null?void 0:t.unsafeHashProperties)==null?void 0:n.ilvl)==="83+"}}]},{id:"d5130eef-33a9-4730-8d21-4cf4f0979b2f",name:"blueprint",tags:["blueprint"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvSGVpc3QvQmx1ZXByaW50Tm90QXBwcm92ZWQ4IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/cc90ce9113/BlueprintNotApproved8.png",subCategories:[{id:"301121c9-7875-4a12-a2de-b77d90ff1df2",name:"blueprintVeryLow",tags:["blueprint"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvSGVpc3QvQmx1ZXByaW50Tm90QXBwcm92ZWQ4IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/cc90ce9113/BlueprintNotApproved8.png",filter:e=>{var t,n;return((n=(t=e==null?void 0:e.primaryGroup)==null?void 0:t.unsafeHashProperties)==null?void 0:n.ilvl)==="<68"}},{id:"b8c20e92-680a-42d1-8760-5780f83ac75c",name:"blueprintLow",tags:["blueprint"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvSGVpc3QvQmx1ZXByaW50Tm90QXBwcm92ZWQ4IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/cc90ce9113/BlueprintNotApproved8.png",filter:e=>{var t,n;return((n=(t=e==null?void 0:e.primaryGroup)==null?void 0:t.unsafeHashProperties)==null?void 0:n.ilvl)==="68-72"}},{id:"301ef0b8-ae80-4eb0-8fb5-1b9a597ed141",name:"blueprintMid",tags:["blueprint"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvSGVpc3QvQmx1ZXByaW50Tm90QXBwcm92ZWQ4IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/cc90ce9113/BlueprintNotApproved8.png",filter:e=>{var t,n;return((n=(t=e==null?void 0:e.primaryGroup)==null?void 0:t.unsafeHashProperties)==null?void 0:n.ilvl)==="73-77"}},{id:"e28be962-30d1-4abd-9847-6f11905f80d8",name:"blueprintHigh",tags:["blueprint"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvSGVpc3QvQmx1ZXByaW50Tm90QXBwcm92ZWQ4IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/cc90ce9113/BlueprintNotApproved8.png",filter:e=>{var t,n;return((n=(t=e==null?void 0:e.primaryGroup)==null?void 0:t.unsafeHashProperties)==null?void 0:n.ilvl)==="78-82"}},{id:"4c853f32-52b9-4657-8272-f1f1db0fe53d",name:"blueprintTopTier",tags:["blueprint"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvSGVpc3QvQmx1ZXByaW50Tm90QXBwcm92ZWQ4IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/cc90ce9113/BlueprintNotApproved8.png",filter:e=>{var t,n;return((n=(t=e==null?void 0:e.primaryGroup)==null?void 0:t.unsafeHashProperties)==null?void 0:n.ilvl)==="83+"}}]},{id:"f87de56f-0252-4f05-9f65-cc450205396f",name:"currency",tags:["currency"],icon:"https://web.poecdn.com/image/Art/2DItems/Currency/CurrencyRerollRare.png",subCategories:[{id:"4cd24ce8-242b-4068-a4f5-acad8668d4ae",name:"stackedDeck",tags:["currency"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvRGl2aW5hdGlvbi9EZWNrIiwic2NhbGUiOjF9XQ/8e83aea79a/Deck.png",filter:e=>["stacked deck"].some(t=>{var n;return(n=e.primaryGroup)==null?void 0:n.key.startsWith(t)})},{id:"52305e5e-f609-4139-b7e4-3c026f0af1bc",name:"lifeforce",tags:["currency"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvSGFydmVzdC9XaWxkTGlmZWZvcmNlIiwic2NhbGUiOjF9XQ/e3d0b372b0/WildLifeforce.png",filter:e=>["vivid crystallised lifeforce","wild crystallised lifeforce","primal crystallised lifeforce"].some(t=>{var n;return(n=e.primaryGroup)==null?void 0:n.key.startsWith(t)})}]},{id:"0041636c-7ae1-4206-a2e7-99b3975f804d",name:"runegraft",tags:["runegraft"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvU2V0dGxlcnMvVmlsbGFnZVJ1bmUxMCIsInNjYWxlIjoxfV0/7a75e42c42/VillageRune10.png",subCategories:[]},{id:"bd5939a4-6c00-439c-9bb4-0abdef4123b1",name:"inscribedUltimatum",tags:["inscribed_ultimatum"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9VbHRpbWF0dW1UcmlhbEJhc2UiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MX1d/b65f1edffb/UltimatumTrialBase.png",subCategories:[]},{id:"38226638-6da8-4c5a-8da7-ca20bc039e84",name:"allflameEmber",tags:["allflame_ember"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvTmVjcm9wb2xpcy9BbGxmbGFtZUVtYmVyc0Jhc2VBem1lcmkiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MX1d/8960cc9f5b/AllflameEmbersBaseAzmeri.png",subCategories:[]},{id:"ff43c3a0-008e-4b15-8e26-b25d88dac195",name:"tattoo",tags:["tattoo"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQW5jZXN0b3JzL0NvbW1vbkRleFRhdHR0b29FcXVpcG1lbnQiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MX1d/b80711f45f/CommonDexTatttooEquipment.png",subCategories:[]},{id:"b194d670-bb5c-4e00-b9b9-78636cda5eff",name:"omen",tags:["omen"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQW5jZXN0b3JzL0FuY2VzdG9yT21lbjNCbHVlIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/90021e045b/AncestorOmen3Blue.png",subCategories:[]},{id:"362eb542-ec33-4a0e-b02e-2ca188160cf5",name:"beast",tags:["beast"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQmVzdGlhcnlPcmJGdWxsIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/3214b44360/BestiaryOrbFull.png",subCategories:[]},{id:"94eaf21e-4236-4c29-9dbb-83884d1e12d8",name:"delve",tags:["fossil","resonator"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvRGVsdmUvRmFjZXRlZEZvc3NpbCIsInNjYWxlIjoxfV0/473889cafb/FacetedFossil.png",subCategories:[{id:"a8e930f2-6a39-47ca-97eb-f6ced6988df7",name:"fossil",tags:["fossil"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvRGVsdmUvR2x5cGhpY0Zvc3NpbCIsInciOjEsImgiOjEsInNjYWxlIjoxfV0/f5b3c6edf7/GlyphicFossil.png"},{id:"a708fe25-0d74-495a-b905-d85a22426c88",name:"resonator",tags:["resonator"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvRGVsdmUvUmVyb2xsMXgxQSIsInciOjEsImgiOjEsInNjYWxlIjoxfV0/eea57ec0df/Reroll1x1A.png"}]},{id:"f09f913e-8097-46a1-8ffe-f0a145e13df9",name:"catalyst",tags:["catalyst"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQ2F0YWx5c3RzL0NoYW9zUGh5c2ljYWxDYXRhbHlzdCIsInciOjEsImgiOjEsInNjYWxlIjoxfV0/bbdf8917e4/ChaosPhysicalCatalyst.png",subCategories:[]},{id:"a97c7d64-d127-4bee-a37f-553e956ca694",name:"alvaTemple",tags:["alva_temple"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9UZW1wbGVNYXAiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MX1d/9be10cc6b3/TempleMap.png",supportsRegex:!0,subCategories:[]},{id:"f09df46a-b481-4707-9dbf-ee20b9e9de30",name:"forbiddenTome",tags:["forbidden_tome"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvU2FuY3R1bS9TYW5jdHVtS2V5IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/d0326cac9a/SanctumKey.png",subCategories:[{id:"3edea650-e875-438e-9ac2-8a9063fee3d4",name:"forbiddenTomeVeryLow",tags:["forbidden_tome"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvU2FuY3R1bS9TYW5jdHVtS2V5IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/d0326cac9a/SanctumKey.png",filter:e=>{var t,n;return((n=(t=e==null?void 0:e.primaryGroup)==null?void 0:t.unsafeHashProperties)==null?void 0:n.ilvl)==="<68"}},{id:"465a0c9f-adb6-4a10-846f-abdfbd5e9438",name:"forbiddenTomeLow",tags:["forbidden_tome"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvU2FuY3R1bS9TYW5jdHVtS2V5IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/d0326cac9a/SanctumKey.png",filter:e=>{var t,n;return((n=(t=e==null?void 0:e.primaryGroup)==null?void 0:t.unsafeHashProperties)==null?void 0:n.ilvl)==="68-72"}},{id:"26229485-2c84-4fa4-abf4-8700c2523b66",name:"forbiddenTomeMid",tags:["forbidden_tome"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvU2FuY3R1bS9TYW5jdHVtS2V5IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/d0326cac9a/SanctumKey.png",filter:e=>{var t,n;return((n=(t=e==null?void 0:e.primaryGroup)==null?void 0:t.unsafeHashProperties)==null?void 0:n.ilvl)==="73-77"}},{id:"01753fc8-235c-454d-b2dc-728880902132",name:"forbiddenTomeHigh",tags:["forbidden_tome"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvU2FuY3R1bS9TYW5jdHVtS2V5IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/d0326cac9a/SanctumKey.png",filter:e=>{var t,n;return((n=(t=e==null?void 0:e.primaryGroup)==null?void 0:t.unsafeHashProperties)==null?void 0:n.ilvl)==="78-82"}},{id:"934991fb-2371-4e9d-bb5c-54609c7113e2",name:"forbiddenTomeTopTier",tags:["forbidden_tome"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvU2FuY3R1bS9TYW5jdHVtS2V5IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/d0326cac9a/SanctumKey.png",filter:e=>{var t,n;return((n=(t=e==null?void 0:e.primaryGroup)==null?void 0:t.unsafeHashProperties)==null?void 0:n.ilvl)==="83+"}}]},{id:"90cea080-9227-45f0-a522-f110324f8879",name:"uniqueRelic",tags:["unique_relic"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvUmVsaWNzL1JlbGljVW5pcXVlMngyIiwidyI6MiwiaCI6Miwic2NhbGUiOjF9XQ/15bd9eec94/RelicUnique2x2.png",subCategories:[]},{id:"c1bfa7a6-e72a-478d-87a9-26832eb976b4",name:"fragment",tags:["fragment","scarab","breach","invitation"],icon:"https://web.poecdn.com/image/Art/2DItems/Maps/AtlasMaps/FragmentPhoenix.png",subCategories:[{id:"67923968-8841-42e1-bcee-c10e416fc8b8",name:"scarab",tags:["scarab"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvU2NhcmFicy9UaWVyNFNjYXJhYkhhcmJpbmdlcnMiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MX1d/81caefbf3f/Tier4ScarabHarbingers.png"},{id:"8b704aae-a78a-44bd-a5de-b3cb513acd58",name:"breach",tags:["breach"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQnJlYWNoL0JyZWFjaEZyYWdtZW50c0NoYW9zIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/04b5c032f4/BreachFragmentsChaos.png"},{id:"07a83bfb-cd24-48b5-9d28-3d3622affb95",name:"legion",tags:["fragment"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9NYXJha2V0aEZyYWdtZW50IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/7c42d58a5e/MarakethFragment.png",filter:e=>["timeless maraketh emblem","timeless templar emblem","timeless vaal emblem","timeless karui emblem","timeless eternal emblem","unrelenting timeless maraketh emblem","unrelenting timeless templar emblem","unrelenting timeless karui emblem","unrelenting timeless vaal emblem","unrelenting timeless eternal emblem","timeless maraketh splinter","timeless templar splinter","timeless karui splinter","timeless vaal splinter","timeless eternal empire splinter"].some(t=>{var n;return(n=e.primaryGroup)==null?void 0:n.key.startsWith(t)})},{id:"360e5373-e9b1-44e9-bf51-ac00fbdf63eb",name:"invitation",tags:["invitation"],icon:"https://web.poecdn.com/image/Art/2DItems/Currency/Atlas/NullVoid5.png?w=1&h=1&scale=1"},{id:"564202f1-ee7f-40a5-a60f-97704c8a0fb0",name:"mortalSet",tags:["fragment"],icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9VYmVyVmFhbENvbXBsZXRlIiwic2NhbGUiOjF9XQ/994d9e2821/UberVaalComplete.png",filter:e=>["mortal ignorance","mortal rage","mortal hope","mortal grief"].some(t=>{var n;return(n=e.primaryGroup)==null?void 0:n.key.startsWith(t)})},{id:"a912fa2b-e08f-4717-8fb8-05fb88c1250a",name:"sacrificeSet",tags:["fragment"],icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9WYWFsQ29tcGxldGUiLCJzY2FsZSI6MX1d/63035d86d7/VaalComplete.png",filter:e=>["sacrifice at midnight","sacrifice at noon","sacrifice at dawn","sacrifice at dusk"].some(t=>{var n;return(n=e.primaryGroup)==null?void 0:n.key.startsWith(t)})},{id:"1def5e5e-3972-4468-a1d0-94c042adb3d0",name:"shaperSet",tags:["fragment"],icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9TaGFwZXJDb21wbGV0ZSIsInNjYWxlIjoxfV0/ace686004d/ShaperComplete.png",filter:e=>["fragment of the phoenix","fragment of the hydra","fragment of the minotaur","fragment of the chimera"].some(t=>{var n;return(n=e.primaryGroup)==null?void 0:n.key.startsWith(t)})},{id:"969fcf9f-37c9-4345-8797-833133690882",name:"elderSet",tags:["fragment"],icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9FbGRlckNvbXBsZXRlIiwic2NhbGUiOjF9XQ/6db44597fe/ElderComplete.png",filter:e=>["fragment of eradication","fragment of enslavement","fragment of constriction","fragment of purification"].some(t=>{var n;return(n=e.primaryGroup)==null?void 0:n.key.startsWith(t)})},{id:"d9dc1c10-7d4b-4226-8439-8901291c4479",name:"conquererSet",tags:["fragment"],icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9TaXJ1c0ZyYWdtZW50Q29tcGxldGUiLCJzY2FsZSI6MX1d/c585a0ae79/SirusFragmentComplete.png",filter:e=>["al-hezmin's crest","baran's crest","drox's crest","veritania's crest"].some(t=>{var n;return(n=e.primaryGroup)==null?void 0:n.key.startsWith(t)})},{id:"cb6b9659-0426-4dd1-9f6d-fa83fa073da1",name:"uberElderSet",tags:["fragment"],icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9VYmVyRWxkZXJDb21wbGV0ZSIsInNjYWxlIjoxfV0/715e041869/UberElderComplete.png",filter:e=>["fragment of terror","fragment of emptiness","fragment of shape","fragment of knowledge"].some(t=>{var n;return(n=e.primaryGroup)==null?void 0:n.key.startsWith(t)})},{id:"d2dead6a-72ea-4cc4-afa1-35d9350940ba",name:"uberFragments",tags:["fragment"],icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9VYmVyQm9zc0tleVNoYXBlciIsInNjYWxlIjoxfV0/719e96a82a/UberBossKeyShaper.png",filter:e=>["cosmic fragment","decaying fragment","awakening fragment","synthesising fragment","reality fragment","devouring fragment","blazing fragment"].some(t=>{var n;return(n=e.primaryGroup)==null?void 0:n.key.startsWith(t)})},{id:"809d5747-5092-46cf-a03c-040722d8ef0c",name:"simulacrum",tags:["fragment"],icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9EZWxpcml1bUZyYWdtZW50Iiwic2NhbGUiOjF9XQ/7f29157183/DeliriumFragment.png",filter:e=>["simulacrum","simulacrum splinter"].some(t=>{var n;return(n=e.primaryGroup)==null?void 0:n.key.startsWith(t)})}]},{id:"1c397931-13e3-48ab-aa79-9302275936fb",name:"card",tags:["card"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvRGl2aW5hdGlvbi9JbnZlbnRvcnlJY29uIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/f34bf8cbb5/InventoryIcon.png",subCategories:[]},{id:"8f5cd5af-b0ab-4bbb-bfc0-85ff08578986",name:"deliriumOrb",tags:["delirium_orb"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvRGVsaXJpdW0vRGVsaXJpdW1PcmJTY2FyYWJzIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/fa4c5160ca/DeliriumOrbScarabs.png",subCategories:[]},{id:"02d7f99b-4af2-4433-9cd2-f3d7f08ad6b9",name:"expedition",tags:["logbook","artifacts"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9FeHBlZGl0aW9uQ2hyb25pY2xlMyIsInciOjEsImgiOjEsInNjYWxlIjoxfV0/2802fe605e/ExpeditionChronicle3.png",filter:e=>{var n,r;if(!e.primaryGroup||e.primaryGroup.tag!=="logbook")return!0;const t=parseInt((r=(n=e==null?void 0:e.primaryGroup)==null?void 0:n.unsafeHashProperties)==null?void 0:r.ilvl);return!isNaN(t)&&t>=83},subCategories:[{id:"0b551b92-15e4-4d76-a81f-cbda65c9bed4",name:"logbook",tags:["logbook"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9FeHBlZGl0aW9uQ2hyb25pY2xlMyIsInciOjEsImgiOjEsInNjYWxlIjoxfV0/2802fe605e/ExpeditionChronicle3.png",filter:e=>{var n,r;const t=parseInt((r=(n=e==null?void 0:e.primaryGroup)==null?void 0:n.unsafeHashProperties)==null?void 0:r.ilvl);return!isNaN(t)&&t>=83}},{id:"844c4742-1df1-4bf6-a216-0bab7fa258d2",name:"artifact",tags:["artifacts"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvRXhwZWRpdGlvbi9CYXJ0ZXJSZWZyZXNoQ3VycmVuY3kiLCJzY2FsZSI6MX1d/0542d74d3c/BarterRefreshCurrency.png"}]},{id:"c5e21ba1-f790-4426-b7f4-ea477b80024b",name:"oil",tags:["oil"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvT2lscy9Hb2xkZW5PaWwiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MX1d/69094a06e9/GoldenOil.png",subCategories:[]},{id:"4fcc3625-b772-4b3d-a0d0-7b9c03934860",name:"memory",tags:["atlas_memory"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvTWVtb3J5TGluZS9OaWtvTWVtb3J5SXRlbSIsInciOjEsImgiOjEsInNjYWxlIjoxfV0/5c560ea8fd/NikoMemoryItem.png",subCategories:[]},{id:"f4938ceb-cd3f-4136-8718-afe8592bd1f4",name:"incubator",tags:["incubator"],icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvSW5jdWJhdGlvbi9JbmN1YmF0aW9uQXJtb3VyIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/637c41a730/IncubationArmour.png",subCategories:[],filter:e=>{var n,r;const t=parseInt((r=(n=e==null?void 0:e.primaryGroup)==null?void 0:n.unsafeHashProperties)==null?void 0:r.ilvl);return!isNaN(t)&&t>=83}},{id:"cc8f3df8-e79c-488f-a467-58737c64eafb",name:"map",tags:["map","t17_map","originator_map","influenced_map","blighted_map","blighted_ravaged_map","unique_map"],summaryTagVariants:[{tag:"map"},{tag:"t17_map"},{tag:"originator_map"},{tag:"influenced_map"},{tag:"blighted_map"},{tag:"blighted_ravaged_map"},{tag:"unique_map"}],getGroup:e=>(e==null?void 0:e.primary.tag)==="blighted_map"||(e==null?void 0:e.primary.tag)==="blighted_ravaged_map"||(e==null?void 0:e.primary.tag)==="influenced_map"||(e==null?void 0:e.primary.tag)==="t17_map"||(e==null?void 0:e.primary.tag)==="originator_map"||(e==null?void 0:e.primary.tag)==="map"?e.extended:e==null?void 0:e.primary,icon:"https://web.poecdn.com/image/Art/2DItems/Maps/AtlasMaps/Gorge3.png?scale=1&w=1&h=1",supportsRegex:!0,filter:e=>{var t,n,r,s,i,o;return((t=e.primaryGroup)==null?void 0:t.tag)==="blighted_map"||((n=e.primaryGroup)==null?void 0:n.tag)==="blighted_ravaged_map"?!((i=(s=(r=e.primaryGroup)==null?void 0:r.unsafeHashProperties)==null?void 0:s.extended)!=null&&i.unmodifiable):!((o=e.primaryGroup)!=null&&o.key.startsWith("scourged "))},subCategories:[{id:"b840f517-9ea1-41aa-8f79-73b43080f691",name:"shaperMap",tags:["map"],icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9QaG9lbml4IiwidyI6MSwiaCI6MSwic2NhbGUiOjEsIm1uIjoxOSwibXQiOjAsIm1pIjoxfV0/3a961684d2/Phoenix.png",supportsRegex:!0,filter:e=>["lair of the hydra map","maze of the minotaur map","forge of the phoenix map","pit of the chimera map"].some(t=>{var n;return(n=e.primaryGroup)==null?void 0:n.key.startsWith(t)}),customProps:Ln("normal"),genericModPool:"normal"},{id:"2085d150-67a1-4b12-8e0e-b6f824c92dfd",name:"elderMap",tags:["influenced_map"],icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9JbmZlc3RhdGlvbiIsInciOjEsImgiOjEsInNjYWxlIjoxLCJtbiI6MTksIm10IjoxNiwibWciOjEsIm1pIjoyfV0/6d86f8c63f/Infestation.png",supportsRegex:!0,filter:e=>["purifier's map","constrictor's map","enslaver's map","eradicator's map"].some(t=>{var n;return(n=e.primaryGroup)==null?void 0:n.key.startsWith(t)}),customProps:Ln("normal"),genericModPool:"normal"},{id:"2a0c596a-1587-4a17-a09f-c596acb57c58",name:"conquerorMap",tags:["influenced_map"],icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9CYXRocyIsInciOjEsImgiOjEsInNjYWxlIjoxLCJtbiI6MTksIm10IjoxNiwibWMiOjJ9XQ/6c27bce263/Baths.png",supportsRegex:!0,filter:e=>["al-hezmin's map","veritania's map","baran's map","drox's map"].some(t=>{var n;return(n=e.primaryGroup)==null?void 0:n.key.startsWith(t)}),customProps:Ln("normal"),genericModPool:"normal"},{id:"a25988b3-8829-45de-9f19-d44dbc303c3b",name:"t17Map",tags:["t17_map"],getGroup:e=>e==null?void 0:e.extended,icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9VYmVyU2lsbyIsInciOjEsImgiOjEsInNjYWxlIjoxLCJtbiI6MjAsIm10IjoxN31d/3de9edd07d/UberSilo.png",supportsRegex:!0,customProps:Ln("t17"),genericModPool:"t17"},{id:"2a3c596a-1588-4a17-a09f-c596acb57c58",name:"originatorMap",tags:["originator_map"],getGroup:e=>e==null?void 0:e.extended,icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9TZXdlciIsInciOjEsImgiOjEsInNjYWxlIjoxLCJtbiI6MjIsIm10IjoxNiwibW0iOnRydWV9XQ/1fa017082c/Sewer.png",supportsRegex:!0,filter:(e,t)=>{var n,r;return!(t!=="preItemFilter"&&((r=(n=e.primaryGroup)==null?void 0:n.unsafeHashProperties)!=null&&r["8 Mod"]))},customProps:Ln("originator"),genericModPool:"originator",hiddenColumnProps:["originator"]},{id:"2a3c596a-1587-4a17-a09f-c596acb57c58",name:"8modOriginatorMap",tags:["originator_map"],getGroup:e=>e==null?void 0:e.extended,icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9WYWFsVGVtcGxlQmFzZSIsInciOjEsImgiOjEsInNjYWxlIjoxLCJtbiI6MjIsIm10IjowLCJtbSI6dHJ1ZX1d/ca3e836ef2/VaalTempleBase.png",supportsRegex:!0,filter:(e,t)=>{var n,r;return!(t!=="preItemFilter"&&!((r=(n=e.primaryGroup)==null?void 0:n.unsafeHashProperties)!=null&&r["8 Mod"]))},customProps:Ln("originator"),genericModPool:"originator",hiddenColumnProps:["8 Mod","originator"]},{id:"2f0fe38b-cf6f-4beb-afe0-3522353a34d5",name:"normalMap",tags:["map"],getGroup:e=>e==null?void 0:e.extended,icon:"https://web.poecdn.com/image/Art/2DItems/Maps/AtlasMaps/Gorge3.png?scale=1&w=1&h=1",supportsRegex:!0,filter:(e,t)=>{var n,r,s,i,o;return((r=(n=e.primaryGroup)==null?void 0:n.unsafeHashProperties)==null?void 0:r.tier)==="17"||(s=e.primaryGroup)!=null&&s.key.startsWith("scourged ")||t!=="preItemFilter"&&((o=(i=e.primaryGroup)==null?void 0:i.unsafeHashProperties)!=null&&o["8 Mod"])?!1:!["lair of the hydra map","maze of the minotaur map","forge of the phoenix map","pit of the chimera map"].some(l=>{var c;return(c=e.primaryGroup)==null?void 0:c.key.startsWith(l)})},customProps:Ln("normal"),genericModPool:"normal"},{id:"48943b3b-0135-4bbc-b827-56a5225c1a98",name:"8modNormalMap",tags:["map"],getGroup:e=>e==null?void 0:e.extended,icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9WYWFsVGVtcGxlQmFzZSIsInciOjEsImgiOjEsInNjYWxlIjoxLCJtbiI6MjAsIm10IjowfV0/f31f7ae2ed/VaalTempleBase.png",supportsRegex:!0,filter:(e,t)=>{var n,r,s,i,o;return((r=(n=e.primaryGroup)==null?void 0:n.unsafeHashProperties)==null?void 0:r.tier)==="17"||(s=e.primaryGroup)!=null&&s.key.startsWith("scourged ")||t!=="preItemFilter"&&!((o=(i=e.primaryGroup)==null?void 0:i.unsafeHashProperties)!=null&&o["8 Mod"])?!1:!["lair of the hydra map","maze of the minotaur map","forge of the phoenix map","pit of the chimera map"].some(l=>{var c;return(c=e.primaryGroup)==null?void 0:c.key.startsWith(l)})},customProps:Ln("normal"),genericModPool:"normal",hiddenColumnProps:["8 Mod"]},{id:"e0815aac-a388-4af0-b313-bab6c9004188",name:"blightedMap",tags:["blighted_map"],getGroup:e=>e==null?void 0:e.extended,icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXNcL01hcHNcL0F0bGFzMk1hcHNcL05ld1wvTHVuYXJpc1RlbXBsZSIsInciOjEsImgiOjEsInNjYWxlIjp0cnVlLCJtbiI6MTAsIm10IjoxNCwibWIiOnRydWV9XQ/038c28d2e1/Item.png",supportsRegex:!0,filter:e=>{var t,n,r;return!((r=(n=(t=e.primaryGroup)==null?void 0:t.unsafeHashProperties)==null?void 0:n.extended)!=null&&r.unmodifiable)}},{id:"bc997af1-146f-485b-9c0b-0abc9619793f",name:"blightedRavagedMap",tags:["blighted_ravaged_map"],getGroup:e=>e==null?void 0:e.extended,icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9GaWVsZHMiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MSwibW4iOjEyLCJtdCI6MTYsIm11YiI6dHJ1ZX1d/a7ab3884c4/Fields.png",supportsRegex:!0,filter:e=>{var t,n,r;return!((r=(n=(t=e.primaryGroup)==null?void 0:t.unsafeHashProperties)==null?void 0:n.extended)!=null&&r.unmodifiable)}},{id:"b7e603d7-bee3-4418-823b-c4d74a71f0dd",name:"uniqueMap",tags:["unique_map"],icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9TeW50aGVzaXNCb3NzR3VhcmRpYW5NYXAiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MX1d/542f2635c7/SynthesisBossGuardianMap.png"}]}],Ac=new Set;Us.forEach(e=>{Ac.add(`${e.name}:`),e.subCategories.forEach(t=>Ac.add(`${e.name}:${t.name}`))});function Yn(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Cl={exports:{}},Ph;function Ck(){return Ph||(Ph=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,i){function o(u,f){if(!s[u]){if(!r[u]){var a=typeof Yn=="function"&&Yn;if(!f&&a)return a(u,!0);if(l)return l(u,!0);throw new Error("Cannot find module '"+u+"'")}f=s[u]={exports:{}},r[u][0].call(f.exports,function(d){var h=r[u][1][d];return o(h||d)},f,f.exports,n,r,s,i)}return s[u].exports}for(var l=typeof Yn=="function"&&Yn,c=0;c<i.length;c++)o(i[c]);return o}({1:[function(n,r,s){(function(i,o,l,c,u,f,a,d,h){var p=n("crypto");function m(k,$){$=v(k,$);var b;return(b=$.algorithm!=="passthrough"?p.createHash($.algorithm):new S).write===void 0&&(b.write=b.update,b.end=b.update),_($,b).dispatch(k),b.update||b.end(""),b.digest?b.digest($.encoding==="buffer"?void 0:$.encoding):(k=b.read(),$.encoding!=="buffer"?k.toString($.encoding):k)}(s=r.exports=m).sha1=function(k){return m(k)},s.keys=function(k){return m(k,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},s.MD5=function(k){return m(k,{algorithm:"md5",encoding:"hex"})},s.keysMD5=function(k){return m(k,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var g=p.getHashes?p.getHashes().slice():["sha1","md5"],y=(g.push("passthrough"),["buffer","hex","binary","base64"]);function v(k,$){var b={};if(b.algorithm=($=$||{}).algorithm||"sha1",b.encoding=$.encoding||"hex",b.excludeValues=!!$.excludeValues,b.algorithm=b.algorithm.toLowerCase(),b.encoding=b.encoding.toLowerCase(),b.ignoreUnknown=$.ignoreUnknown===!0,b.respectType=$.respectType!==!1,b.respectFunctionNames=$.respectFunctionNames!==!1,b.respectFunctionProperties=$.respectFunctionProperties!==!1,b.unorderedArrays=$.unorderedArrays===!0,b.unorderedSets=$.unorderedSets!==!1,b.unorderedObjects=$.unorderedObjects!==!1,b.replacer=$.replacer||void 0,b.excludeKeys=$.excludeKeys||void 0,k===void 0)throw new Error("Object argument required.");for(var M=0;M<g.length;++M)g[M].toLowerCase()===b.algorithm.toLowerCase()&&(b.algorithm=g[M]);if(g.indexOf(b.algorithm)===-1)throw new Error('Algorithm "'+b.algorithm+'"  not supported. supported values: '+g.join(", "));if(y.indexOf(b.encoding)===-1&&b.algorithm!=="passthrough")throw new Error('Encoding "'+b.encoding+'"  not supported. supported values: '+y.join(", "));return b}function I(k){if(typeof k=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(k))!=null}function _(k,$,b){b=b||[];function M(w){return $.update?$.update(w,"utf8"):$.write(w,"utf8")}return{dispatch:function(w){return this["_"+((w=k.replacer?k.replacer(w):w)===null?"null":typeof w)](w)},_object:function(w){var E,L=Object.prototype.toString.call(w),Q=/\[object (.*)\]/i.exec(L);if(Q=(Q=Q?Q[1]:"unknown:["+L+"]").toLowerCase(),0<=(L=b.indexOf(w)))return this.dispatch("[CIRCULAR:"+L+"]");if(b.push(w),l!==void 0&&l.isBuffer&&l.isBuffer(w))return M("buffer:"),M(w);if(Q==="object"||Q==="function"||Q==="asyncfunction")return L=Object.keys(w),k.unorderedObjects&&(L=L.sort()),k.respectType===!1||I(w)||L.splice(0,0,"prototype","__proto__","constructor"),k.excludeKeys&&(L=L.filter(function(W){return!k.excludeKeys(W)})),M("object:"+L.length+":"),E=this,L.forEach(function(W){E.dispatch(W),M(":"),k.excludeValues||E.dispatch(w[W]),M(",")});if(!this["_"+Q]){if(k.ignoreUnknown)return M("["+Q+"]");throw new Error('Unknown object type "'+Q+'"')}this["_"+Q](w)},_array:function(w,W){W=W!==void 0?W:k.unorderedArrays!==!1;var L=this;if(M("array:"+w.length+":"),!W||w.length<=1)return w.forEach(function(U){return L.dispatch(U)});var Q=[],W=w.map(function(U){var N=new S,H=b.slice();return _(k,N,H).dispatch(U),Q=Q.concat(H.slice(b.length)),N.read().toString()});return b=b.concat(Q),W.sort(),this._array(W,!1)},_date:function(w){return M("date:"+w.toJSON())},_symbol:function(w){return M("symbol:"+w.toString())},_error:function(w){return M("error:"+w.toString())},_boolean:function(w){return M("bool:"+w.toString())},_string:function(w){M("string:"+w.length+":"),M(w.toString())},_function:function(w){M("fn:"),I(w)?this.dispatch("[native]"):this.dispatch(w.toString()),k.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(w.name)),k.respectFunctionProperties&&this._object(w)},_number:function(w){return M("number:"+w.toString())},_xml:function(w){return M("xml:"+w.toString())},_null:function(){return M("Null")},_undefined:function(){return M("Undefined")},_regexp:function(w){return M("regex:"+w.toString())},_uint8array:function(w){return M("uint8array:"),this.dispatch(Array.prototype.slice.call(w))},_uint8clampedarray:function(w){return M("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(w))},_int8array:function(w){return M("int8array:"),this.dispatch(Array.prototype.slice.call(w))},_uint16array:function(w){return M("uint16array:"),this.dispatch(Array.prototype.slice.call(w))},_int16array:function(w){return M("int16array:"),this.dispatch(Array.prototype.slice.call(w))},_uint32array:function(w){return M("uint32array:"),this.dispatch(Array.prototype.slice.call(w))},_int32array:function(w){return M("int32array:"),this.dispatch(Array.prototype.slice.call(w))},_float32array:function(w){return M("float32array:"),this.dispatch(Array.prototype.slice.call(w))},_float64array:function(w){return M("float64array:"),this.dispatch(Array.prototype.slice.call(w))},_arraybuffer:function(w){return M("arraybuffer:"),this.dispatch(new Uint8Array(w))},_url:function(w){return M("url:"+w.toString())},_map:function(w){return M("map:"),w=Array.from(w),this._array(w,k.unorderedSets!==!1)},_set:function(w){return M("set:"),w=Array.from(w),this._array(w,k.unorderedSets!==!1)},_file:function(w){return M("file:"),this.dispatch([w.name,w.size,w.type,w.lastModfied])},_blob:function(){if(k.ignoreUnknown)return M("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return M("domwindow")},_bigint:function(w){return M("bigint:"+w.toString())},_process:function(){return M("process")},_timer:function(){return M("timer")},_pipe:function(){return M("pipe")},_tcp:function(){return M("tcp")},_udp:function(){return M("udp")},_tty:function(){return M("tty")},_statwatcher:function(){return M("statwatcher")},_securecontext:function(){return M("securecontext")},_connection:function(){return M("connection")},_zlib:function(){return M("zlib")},_context:function(){return M("context")},_nodescript:function(){return M("nodescript")},_httpparser:function(){return M("httpparser")},_dataview:function(){return M("dataview")},_signal:function(){return M("signal")},_fsevent:function(){return M("fsevent")},_tlswrap:function(){return M("tlswrap")}}}function S(){return{buf:"",write:function(k){this.buf+=k},end:function(k){this.buf+=k},read:function(){return this.buf}}}s.writeToStream=function(k,$,b){return b===void 0&&(b=$,$={}),_($=v(k,$),b).dispatch(k)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(n,r,s){(function(i,o,l,c,u,f,a,d,h){(function(p){var m=typeof Uint8Array<"u"?Uint8Array:Array,g=43,y=47,v=48,I=97,_=65,S=45,k=95;function $(b){return b=b.charCodeAt(0),b===g||b===S?62:b===y||b===k?63:b<v?-1:b<v+10?b-v+26+26:b<_+26?b-_:b<I+26?b-I+26:void 0}p.toByteArray=function(b){var M,w;if(0<b.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var E=b.length,E=b.charAt(E-2)==="="?2:b.charAt(E-1)==="="?1:0,L=new m(3*b.length/4-E),Q=0<E?b.length-4:b.length,W=0;function U(N){L[W++]=N}for(M=0;M<Q;M+=4,0)U((16711680&(w=$(b.charAt(M))<<18|$(b.charAt(M+1))<<12|$(b.charAt(M+2))<<6|$(b.charAt(M+3))))>>16),U((65280&w)>>8),U(255&w);return E==2?U(255&(w=$(b.charAt(M))<<2|$(b.charAt(M+1))>>4)):E==1&&(U((w=$(b.charAt(M))<<10|$(b.charAt(M+1))<<4|$(b.charAt(M+2))>>2)>>8&255),U(255&w)),L},p.fromByteArray=function(b){var M,w,E,L,Q=b.length%3,W="";function U(N){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(N)}for(M=0,E=b.length-Q;M<E;M+=3)w=(b[M]<<16)+(b[M+1]<<8)+b[M+2],W+=U((L=w)>>18&63)+U(L>>12&63)+U(L>>6&63)+U(63&L);switch(Q){case 1:W=(W+=U((w=b[b.length-1])>>2))+U(w<<4&63)+"==";break;case 2:W=(W=(W+=U((w=(b[b.length-2]<<8)+b[b.length-1])>>10))+U(w>>4&63))+U(w<<2&63)+"="}return W}})(s===void 0?this.base64js={}:s)}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(n,r,s){(function(i,o,g,c,u,f,a,d,h){var p=n("base64-js"),m=n("ieee754");function g(T,A,O){if(!(this instanceof g))return new g(T,A,O);var q,J,ie,he,we=typeof T;if(A==="base64"&&we=="string")for(T=(he=T).trim?he.trim():he.replace(/^\s+|\s+$/g,"");T.length%4!=0;)T+="=";if(we=="number")q=F(T);else if(we=="string")q=g.byteLength(T,A);else{if(we!="object")throw new Error("First argument needs to be a number, array or string.");q=F(T.length)}if(g._useTypedArrays?J=g._augment(new Uint8Array(q)):((J=this).length=q,J._isBuffer=!0),g._useTypedArrays&&typeof T.byteLength=="number")J._set(T);else if(Z(he=T)||g.isBuffer(he)||he&&typeof he=="object"&&typeof he.length=="number")for(ie=0;ie<q;ie++)g.isBuffer(T)?J[ie]=T.readUInt8(ie):J[ie]=T[ie];else if(we=="string")J.write(T,0,A);else if(we=="number"&&!g._useTypedArrays&&!O)for(ie=0;ie<q;ie++)J[ie]=0;return J}function y(T,A,O,q){return g._charsWritten=fe(function(J){for(var ie=[],he=0;he<J.length;he++)ie.push(255&J.charCodeAt(he));return ie}(A),T,O,q)}function v(T,A,O,q){return g._charsWritten=fe(function(J){for(var ie,he,we=[],Ce=0;Ce<J.length;Ce++)he=J.charCodeAt(Ce),ie=he>>8,he=he%256,we.push(he),we.push(ie);return we}(A),T,O,q)}function I(T,A,O){var q="";O=Math.min(T.length,O);for(var J=A;J<O;J++)q+=String.fromCharCode(T[J]);return q}function _(T,A,O,ie){ie||(Y(typeof O=="boolean","missing or invalid endian"),Y(A!=null,"missing offset"),Y(A+1<T.length,"Trying to read beyond buffer length"));var J,ie=T.length;if(!(ie<=A))return O?(J=T[A],A+1<ie&&(J|=T[A+1]<<8)):(J=T[A]<<8,A+1<ie&&(J|=T[A+1])),J}function S(T,A,O,ie){ie||(Y(typeof O=="boolean","missing or invalid endian"),Y(A!=null,"missing offset"),Y(A+3<T.length,"Trying to read beyond buffer length"));var J,ie=T.length;if(!(ie<=A))return O?(A+2<ie&&(J=T[A+2]<<16),A+1<ie&&(J|=T[A+1]<<8),J|=T[A],A+3<ie&&(J+=T[A+3]<<24>>>0)):(A+1<ie&&(J=T[A+1]<<16),A+2<ie&&(J|=T[A+2]<<8),A+3<ie&&(J|=T[A+3]),J+=T[A]<<24>>>0),J}function k(T,A,O,q){if(q||(Y(typeof O=="boolean","missing or invalid endian"),Y(A!=null,"missing offset"),Y(A+1<T.length,"Trying to read beyond buffer length")),!(T.length<=A))return q=_(T,A,O,!0),32768&q?-1*(65535-q+1):q}function $(T,A,O,q){if(q||(Y(typeof O=="boolean","missing or invalid endian"),Y(A!=null,"missing offset"),Y(A+3<T.length,"Trying to read beyond buffer length")),!(T.length<=A))return q=S(T,A,O,!0),2147483648&q?-1*(4294967295-q+1):q}function b(T,A,O,q){return q||(Y(typeof O=="boolean","missing or invalid endian"),Y(A+3<T.length,"Trying to read beyond buffer length")),m.read(T,A,O,23,4)}function M(T,A,O,q){return q||(Y(typeof O=="boolean","missing or invalid endian"),Y(A+7<T.length,"Trying to read beyond buffer length")),m.read(T,A,O,52,8)}function w(T,A,O,q,J){if(J||(Y(A!=null,"missing value"),Y(typeof q=="boolean","missing or invalid endian"),Y(O!=null,"missing offset"),Y(O+1<T.length,"trying to write beyond buffer length"),Le(A,65535)),J=T.length,!(J<=O))for(var ie=0,he=Math.min(J-O,2);ie<he;ie++)T[O+ie]=(A&255<<8*(q?ie:1-ie))>>>8*(q?ie:1-ie)}function E(T,A,O,q,J){if(J||(Y(A!=null,"missing value"),Y(typeof q=="boolean","missing or invalid endian"),Y(O!=null,"missing offset"),Y(O+3<T.length,"trying to write beyond buffer length"),Le(A,4294967295)),J=T.length,!(J<=O))for(var ie=0,he=Math.min(J-O,4);ie<he;ie++)T[O+ie]=A>>>8*(q?ie:3-ie)&255}function L(T,A,O,q,J){J||(Y(A!=null,"missing value"),Y(typeof q=="boolean","missing or invalid endian"),Y(O!=null,"missing offset"),Y(O+1<T.length,"Trying to write beyond buffer length"),Je(A,32767,-32768)),T.length<=O||w(T,0<=A?A:65535+A+1,O,q,J)}function Q(T,A,O,q,J){J||(Y(A!=null,"missing value"),Y(typeof q=="boolean","missing or invalid endian"),Y(O!=null,"missing offset"),Y(O+3<T.length,"Trying to write beyond buffer length"),Je(A,2147483647,-2147483648)),T.length<=O||E(T,0<=A?A:4294967295+A+1,O,q,J)}function W(T,A,O,q,J){J||(Y(A!=null,"missing value"),Y(typeof q=="boolean","missing or invalid endian"),Y(O!=null,"missing offset"),Y(O+3<T.length,"Trying to write beyond buffer length"),G(A,34028234663852886e22,-34028234663852886e22)),T.length<=O||m.write(T,A,O,q,23,4)}function U(T,A,O,q,J){J||(Y(A!=null,"missing value"),Y(typeof q=="boolean","missing or invalid endian"),Y(O!=null,"missing offset"),Y(O+7<T.length,"Trying to write beyond buffer length"),G(A,17976931348623157e292,-17976931348623157e292)),T.length<=O||m.write(T,A,O,q,52,8)}s.Buffer=g,s.SlowBuffer=g,s.INSPECT_MAX_BYTES=50,g.poolSize=8192,g._useTypedArrays=function(){try{var T=new ArrayBuffer(0),A=new Uint8Array(T);return A.foo=function(){return 42},A.foo()===42&&typeof A.subarray=="function"}catch{return!1}}(),g.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.isBuffer=function(T){return!(T==null||!T._isBuffer)},g.byteLength=function(T,A){var O;switch(T+="",A||"utf8"){case"hex":O=T.length/2;break;case"utf8":case"utf-8":O=ae(T).length;break;case"ascii":case"binary":case"raw":O=T.length;break;case"base64":O=Me(T).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":O=2*T.length;break;default:throw new Error("Unknown encoding")}return O},g.concat=function(T,A){if(Y(Z(T),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),T.length===0)return new g(0);if(T.length===1)return T[0];if(typeof A!="number")for(J=A=0;J<T.length;J++)A+=T[J].length;for(var O=new g(A),q=0,J=0;J<T.length;J++){var ie=T[J];ie.copy(O,q),q+=ie.length}return O},g.prototype.write=function(T,A,O,q){isFinite(A)?isFinite(O)||(q=O,O=void 0):(Ce=q,q=A,A=O,O=Ce),A=Number(A)||0;var J,ie,he,we,Ce=this.length-A;switch((!O||Ce<(O=Number(O)))&&(O=Ce),q=String(q||"utf8").toLowerCase()){case"hex":J=function(Fe,_e,Ae,ze){Ae=Number(Ae)||0;var We=Fe.length-Ae;(!ze||We<(ze=Number(ze)))&&(ze=We),Y((We=_e.length)%2==0,"Invalid hex string"),We/2<ze&&(ze=We/2);for(var un=0;un<ze;un++){var Ks=parseInt(_e.substr(2*un,2),16);Y(!isNaN(Ks),"Invalid hex string"),Fe[Ae+un]=Ks}return g._charsWritten=2*un,un}(this,T,A,O);break;case"utf8":case"utf-8":ie=this,he=A,we=O,J=g._charsWritten=fe(ae(T),ie,he,we);break;case"ascii":case"binary":J=y(this,T,A,O);break;case"base64":ie=this,he=A,we=O,J=g._charsWritten=fe(Me(T),ie,he,we);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":J=v(this,T,A,O);break;default:throw new Error("Unknown encoding")}return J},g.prototype.toString=function(T,A,O){var q,J,ie,he,we=this;if(T=String(T||"utf8").toLowerCase(),A=Number(A)||0,(O=O!==void 0?Number(O):we.length)===A)return"";switch(T){case"hex":q=function(Ce,Fe,_e){var Ae=Ce.length;(!Fe||Fe<0)&&(Fe=0),(!_e||_e<0||Ae<_e)&&(_e=Ae);for(var ze="",We=Fe;We<_e;We++)ze+=te(Ce[We]);return ze}(we,A,O);break;case"utf8":case"utf-8":q=function(Ce,Fe,_e){var Ae="",ze="";_e=Math.min(Ce.length,_e);for(var We=Fe;We<_e;We++)Ce[We]<=127?(Ae+=ye(ze)+String.fromCharCode(Ce[We]),ze=""):ze+="%"+Ce[We].toString(16);return Ae+ye(ze)}(we,A,O);break;case"ascii":case"binary":q=I(we,A,O);break;case"base64":J=we,he=O,q=(ie=A)===0&&he===J.length?p.fromByteArray(J):p.fromByteArray(J.slice(ie,he));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":q=function(Ce,Fe,_e){for(var Ae=Ce.slice(Fe,_e),ze="",We=0;We<Ae.length;We+=2)ze+=String.fromCharCode(Ae[We]+256*Ae[We+1]);return ze}(we,A,O);break;default:throw new Error("Unknown encoding")}return q},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},g.prototype.copy=function(T,A,O,q){if(A=A||0,(q=q||q===0?q:this.length)!==(O=O||0)&&T.length!==0&&this.length!==0){Y(O<=q,"sourceEnd < sourceStart"),Y(0<=A&&A<T.length,"targetStart out of bounds"),Y(0<=O&&O<this.length,"sourceStart out of bounds"),Y(0<=q&&q<=this.length,"sourceEnd out of bounds"),q>this.length&&(q=this.length);var J=(q=T.length-A<q-O?T.length-A+O:q)-O;if(J<100||!g._useTypedArrays)for(var ie=0;ie<J;ie++)T[ie+A]=this[ie+O];else T._set(this.subarray(O,O+J),A)}},g.prototype.slice=function(T,A){var O=this.length;if(T=H(T,O,0),A=H(A,O,O),g._useTypedArrays)return g._augment(this.subarray(T,A));for(var q=A-T,J=new g(q,void 0,!0),ie=0;ie<q;ie++)J[ie]=this[ie+T];return J},g.prototype.get=function(T){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(T)},g.prototype.set=function(T,A){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(T,A)},g.prototype.readUInt8=function(T,A){if(A||(Y(T!=null,"missing offset"),Y(T<this.length,"Trying to read beyond buffer length")),!(T>=this.length))return this[T]},g.prototype.readUInt16LE=function(T,A){return _(this,T,!0,A)},g.prototype.readUInt16BE=function(T,A){return _(this,T,!1,A)},g.prototype.readUInt32LE=function(T,A){return S(this,T,!0,A)},g.prototype.readUInt32BE=function(T,A){return S(this,T,!1,A)},g.prototype.readInt8=function(T,A){if(A||(Y(T!=null,"missing offset"),Y(T<this.length,"Trying to read beyond buffer length")),!(T>=this.length))return 128&this[T]?-1*(255-this[T]+1):this[T]},g.prototype.readInt16LE=function(T,A){return k(this,T,!0,A)},g.prototype.readInt16BE=function(T,A){return k(this,T,!1,A)},g.prototype.readInt32LE=function(T,A){return $(this,T,!0,A)},g.prototype.readInt32BE=function(T,A){return $(this,T,!1,A)},g.prototype.readFloatLE=function(T,A){return b(this,T,!0,A)},g.prototype.readFloatBE=function(T,A){return b(this,T,!1,A)},g.prototype.readDoubleLE=function(T,A){return M(this,T,!0,A)},g.prototype.readDoubleBE=function(T,A){return M(this,T,!1,A)},g.prototype.writeUInt8=function(T,A,O){O||(Y(T!=null,"missing value"),Y(A!=null,"missing offset"),Y(A<this.length,"trying to write beyond buffer length"),Le(T,255)),A>=this.length||(this[A]=T)},g.prototype.writeUInt16LE=function(T,A,O){w(this,T,A,!0,O)},g.prototype.writeUInt16BE=function(T,A,O){w(this,T,A,!1,O)},g.prototype.writeUInt32LE=function(T,A,O){E(this,T,A,!0,O)},g.prototype.writeUInt32BE=function(T,A,O){E(this,T,A,!1,O)},g.prototype.writeInt8=function(T,A,O){O||(Y(T!=null,"missing value"),Y(A!=null,"missing offset"),Y(A<this.length,"Trying to write beyond buffer length"),Je(T,127,-128)),A>=this.length||(0<=T?this.writeUInt8(T,A,O):this.writeUInt8(255+T+1,A,O))},g.prototype.writeInt16LE=function(T,A,O){L(this,T,A,!0,O)},g.prototype.writeInt16BE=function(T,A,O){L(this,T,A,!1,O)},g.prototype.writeInt32LE=function(T,A,O){Q(this,T,A,!0,O)},g.prototype.writeInt32BE=function(T,A,O){Q(this,T,A,!1,O)},g.prototype.writeFloatLE=function(T,A,O){W(this,T,A,!0,O)},g.prototype.writeFloatBE=function(T,A,O){W(this,T,A,!1,O)},g.prototype.writeDoubleLE=function(T,A,O){U(this,T,A,!0,O)},g.prototype.writeDoubleBE=function(T,A,O){U(this,T,A,!1,O)},g.prototype.fill=function(T,A,O){if(A=A||0,O=O||this.length,Y(typeof(T=typeof(T=T||0)=="string"?T.charCodeAt(0):T)=="number"&&!isNaN(T),"value is not a number"),Y(A<=O,"end < start"),O!==A&&this.length!==0){Y(0<=A&&A<this.length,"start out of bounds"),Y(0<=O&&O<=this.length,"end out of bounds");for(var q=A;q<O;q++)this[q]=T}},g.prototype.inspect=function(){for(var T=[],A=this.length,O=0;O<A;O++)if(T[O]=te(this[O]),O===s.INSPECT_MAX_BYTES){T[O+1]="...";break}return"<Buffer "+T.join(" ")+">"},g.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(g._useTypedArrays)return new g(this).buffer;for(var T=new Uint8Array(this.length),A=0,O=T.length;A<O;A+=1)T[A]=this[A];return T.buffer};var N=g.prototype;function H(T,A,O){return typeof T!="number"?O:A<=(T=~~T)?A:0<=T||0<=(T+=A)?T:0}function F(T){return(T=~~Math.ceil(+T))<0?0:T}function Z(T){return(Array.isArray||function(A){return Object.prototype.toString.call(A)==="[object Array]"})(T)}function te(T){return T<16?"0"+T.toString(16):T.toString(16)}function ae(T){for(var A=[],O=0;O<T.length;O++){var q=T.charCodeAt(O);if(q<=127)A.push(T.charCodeAt(O));else for(var J=O,ie=(55296<=q&&q<=57343&&O++,encodeURIComponent(T.slice(J,O+1)).substr(1).split("%")),he=0;he<ie.length;he++)A.push(parseInt(ie[he],16))}return A}function Me(T){return p.toByteArray(T)}function fe(T,A,O,q){for(var J=0;J<q&&!(J+O>=A.length||J>=T.length);J++)A[J+O]=T[J];return J}function ye(T){try{return decodeURIComponent(T)}catch{return""}}function Le(T,A){Y(typeof T=="number","cannot write a non-number as a number"),Y(0<=T,"specified a negative value for writing an unsigned value"),Y(T<=A,"value is larger than maximum value for type"),Y(Math.floor(T)===T,"value has a fractional component")}function Je(T,A,O){Y(typeof T=="number","cannot write a non-number as a number"),Y(T<=A,"value larger than maximum allowed value"),Y(O<=T,"value smaller than minimum allowed value"),Y(Math.floor(T)===T,"value has a fractional component")}function G(T,A,O){Y(typeof T=="number","cannot write a non-number as a number"),Y(T<=A,"value larger than maximum allowed value"),Y(O<=T,"value smaller than minimum allowed value")}function Y(T,A){if(!T)throw new Error(A||"Failed assertion")}g._augment=function(T){return T._isBuffer=!0,T._get=T.get,T._set=T.set,T.get=N.get,T.set=N.set,T.write=N.write,T.toString=N.toString,T.toLocaleString=N.toString,T.toJSON=N.toJSON,T.copy=N.copy,T.slice=N.slice,T.readUInt8=N.readUInt8,T.readUInt16LE=N.readUInt16LE,T.readUInt16BE=N.readUInt16BE,T.readUInt32LE=N.readUInt32LE,T.readUInt32BE=N.readUInt32BE,T.readInt8=N.readInt8,T.readInt16LE=N.readInt16LE,T.readInt16BE=N.readInt16BE,T.readInt32LE=N.readInt32LE,T.readInt32BE=N.readInt32BE,T.readFloatLE=N.readFloatLE,T.readFloatBE=N.readFloatBE,T.readDoubleLE=N.readDoubleLE,T.readDoubleBE=N.readDoubleBE,T.writeUInt8=N.writeUInt8,T.writeUInt16LE=N.writeUInt16LE,T.writeUInt16BE=N.writeUInt16BE,T.writeUInt32LE=N.writeUInt32LE,T.writeUInt32BE=N.writeUInt32BE,T.writeInt8=N.writeInt8,T.writeInt16LE=N.writeInt16LE,T.writeInt16BE=N.writeInt16BE,T.writeInt32LE=N.writeInt32LE,T.writeInt32BE=N.writeInt32BE,T.writeFloatLE=N.writeFloatLE,T.writeFloatBE=N.writeFloatBE,T.writeDoubleLE=N.writeDoubleLE,T.writeDoubleBE=N.writeDoubleBE,T.fill=N.fill,T.inspect=N.inspect,T.toArrayBuffer=N.toArrayBuffer,T}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(n,r,s){(function(i,o,p,c,u,f,a,d,h){var p=n("buffer").Buffer,m=4,g=new p(m);g.fill(0),r.exports={hash:function(y,v,I,_){for(var S=v(function(w,E){w.length%m!=0&&(L=w.length+(m-w.length%m),w=p.concat([w,g],L));for(var L,Q=[],W=E?w.readInt32BE:w.readInt32LE,U=0;U<w.length;U+=m)Q.push(W.call(w,U));return Q}(y=p.isBuffer(y)?y:new p(y),_),8*y.length),v=_,k=new p(I),$=v?k.writeInt32BE:k.writeInt32LE,b=0;b<S.length;b++)$.call(k,S[b],4*b,!0);return k}}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(n,r,s){(function(i,o,p,c,u,f,a,d,h){var p=n("buffer").Buffer,m=n("./sha"),g=n("./sha256"),y=n("./rng"),v={sha1:m,sha256:g,md5:n("./md5")},I=64,_=new p(I);function S(w,E){var L=v[w=w||"sha1"],Q=[];return L||k("algorithm:",w,"is not yet supported"),{update:function(W){return p.isBuffer(W)||(W=new p(W)),Q.push(W),W.length,this},digest:function(W){var U=p.concat(Q),U=E?function(N,H,F){p.isBuffer(H)||(H=new p(H)),p.isBuffer(F)||(F=new p(F)),H.length>I?H=N(H):H.length<I&&(H=p.concat([H,_],I));for(var Z=new p(I),te=new p(I),ae=0;ae<I;ae++)Z[ae]=54^H[ae],te[ae]=92^H[ae];return F=N(p.concat([Z,F])),N(p.concat([te,F]))}(L,E,U):L(U);return Q=null,W?U.toString(W):U}}}function k(){var w=[].slice.call(arguments).join(" ");throw new Error([w,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}_.fill(0),s.createHash=function(w){return S(w)},s.createHmac=S,s.randomBytes=function(w,E){if(!E||!E.call)return new p(y(w));try{E.call(this,void 0,new p(y(w)))}catch(L){E(L)}};var $,b=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],M=function(w){s[w]=function(){k("sorry,",w,"is not implemented yet")}};for($ in b)M(b[$])}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(n,r,s){(function(i,o,l,c,u,f,a,d,h){var p=n("./helpers");function m(k,$){k[$>>5]|=128<<$%32,k[14+($+64>>>9<<4)]=$;for(var b=1732584193,M=-271733879,w=-1732584194,E=271733878,L=0;L<k.length;L+=16){var Q=b,W=M,U=w,N=E,b=y(b,M,w,E,k[L+0],7,-680876936),E=y(E,b,M,w,k[L+1],12,-389564586),w=y(w,E,b,M,k[L+2],17,606105819),M=y(M,w,E,b,k[L+3],22,-1044525330);b=y(b,M,w,E,k[L+4],7,-176418897),E=y(E,b,M,w,k[L+5],12,1200080426),w=y(w,E,b,M,k[L+6],17,-1473231341),M=y(M,w,E,b,k[L+7],22,-45705983),b=y(b,M,w,E,k[L+8],7,1770035416),E=y(E,b,M,w,k[L+9],12,-1958414417),w=y(w,E,b,M,k[L+10],17,-42063),M=y(M,w,E,b,k[L+11],22,-1990404162),b=y(b,M,w,E,k[L+12],7,1804603682),E=y(E,b,M,w,k[L+13],12,-40341101),w=y(w,E,b,M,k[L+14],17,-1502002290),b=v(b,M=y(M,w,E,b,k[L+15],22,1236535329),w,E,k[L+1],5,-165796510),E=v(E,b,M,w,k[L+6],9,-1069501632),w=v(w,E,b,M,k[L+11],14,643717713),M=v(M,w,E,b,k[L+0],20,-373897302),b=v(b,M,w,E,k[L+5],5,-701558691),E=v(E,b,M,w,k[L+10],9,38016083),w=v(w,E,b,M,k[L+15],14,-660478335),M=v(M,w,E,b,k[L+4],20,-405537848),b=v(b,M,w,E,k[L+9],5,568446438),E=v(E,b,M,w,k[L+14],9,-1019803690),w=v(w,E,b,M,k[L+3],14,-187363961),M=v(M,w,E,b,k[L+8],20,1163531501),b=v(b,M,w,E,k[L+13],5,-1444681467),E=v(E,b,M,w,k[L+2],9,-51403784),w=v(w,E,b,M,k[L+7],14,1735328473),b=I(b,M=v(M,w,E,b,k[L+12],20,-1926607734),w,E,k[L+5],4,-378558),E=I(E,b,M,w,k[L+8],11,-2022574463),w=I(w,E,b,M,k[L+11],16,1839030562),M=I(M,w,E,b,k[L+14],23,-35309556),b=I(b,M,w,E,k[L+1],4,-1530992060),E=I(E,b,M,w,k[L+4],11,1272893353),w=I(w,E,b,M,k[L+7],16,-155497632),M=I(M,w,E,b,k[L+10],23,-1094730640),b=I(b,M,w,E,k[L+13],4,681279174),E=I(E,b,M,w,k[L+0],11,-358537222),w=I(w,E,b,M,k[L+3],16,-722521979),M=I(M,w,E,b,k[L+6],23,76029189),b=I(b,M,w,E,k[L+9],4,-640364487),E=I(E,b,M,w,k[L+12],11,-421815835),w=I(w,E,b,M,k[L+15],16,530742520),b=_(b,M=I(M,w,E,b,k[L+2],23,-995338651),w,E,k[L+0],6,-198630844),E=_(E,b,M,w,k[L+7],10,1126891415),w=_(w,E,b,M,k[L+14],15,-1416354905),M=_(M,w,E,b,k[L+5],21,-57434055),b=_(b,M,w,E,k[L+12],6,1700485571),E=_(E,b,M,w,k[L+3],10,-1894986606),w=_(w,E,b,M,k[L+10],15,-1051523),M=_(M,w,E,b,k[L+1],21,-2054922799),b=_(b,M,w,E,k[L+8],6,1873313359),E=_(E,b,M,w,k[L+15],10,-30611744),w=_(w,E,b,M,k[L+6],15,-1560198380),M=_(M,w,E,b,k[L+13],21,1309151649),b=_(b,M,w,E,k[L+4],6,-145523070),E=_(E,b,M,w,k[L+11],10,-1120210379),w=_(w,E,b,M,k[L+2],15,718787259),M=_(M,w,E,b,k[L+9],21,-343485551),b=S(b,Q),M=S(M,W),w=S(w,U),E=S(E,N)}return Array(b,M,w,E)}function g(k,$,b,M,w,E){return S(($=S(S($,k),S(M,E)))<<w|$>>>32-w,b)}function y(k,$,b,M,w,E,L){return g($&b|~$&M,k,$,w,E,L)}function v(k,$,b,M,w,E,L){return g($&M|b&~M,k,$,w,E,L)}function I(k,$,b,M,w,E,L){return g($^b^M,k,$,w,E,L)}function _(k,$,b,M,w,E,L){return g(b^($|~M),k,$,w,E,L)}function S(k,$){var b=(65535&k)+(65535&$);return(k>>16)+($>>16)+(b>>16)<<16|65535&b}r.exports=function(k){return p.hash(k,m,16)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(n,r,s){(function(i,o,l,c,u,f,a,d,h){r.exports=function(p){for(var m,g=new Array(p),y=0;y<p;y++)!(3&y)&&(m=4294967296*Math.random()),g[y]=m>>>((3&y)<<3)&255;return g}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(n,r,s){(function(i,o,l,c,u,f,a,d,h){var p=n("./helpers");function m(v,I){v[I>>5]|=128<<24-I%32,v[15+(I+64>>9<<4)]=I;for(var _,S,k,$=Array(80),b=1732584193,M=-271733879,w=-1732584194,E=271733878,L=-1009589776,Q=0;Q<v.length;Q+=16){for(var W=b,U=M,N=w,H=E,F=L,Z=0;Z<80;Z++){$[Z]=Z<16?v[Q+Z]:y($[Z-3]^$[Z-8]^$[Z-14]^$[Z-16],1);var te=g(g(y(b,5),(te=M,S=w,k=E,(_=Z)<20?te&S|~te&k:!(_<40)&&_<60?te&S|te&k|S&k:te^S^k)),g(g(L,$[Z]),(_=Z)<20?1518500249:_<40?1859775393:_<60?-1894007588:-899497514)),L=E,E=w,w=y(M,30),M=b,b=te}b=g(b,W),M=g(M,U),w=g(w,N),E=g(E,H),L=g(L,F)}return Array(b,M,w,E,L)}function g(v,I){var _=(65535&v)+(65535&I);return(v>>16)+(I>>16)+(_>>16)<<16|65535&_}function y(v,I){return v<<I|v>>>32-I}r.exports=function(v){return p.hash(v,m,20,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(n,r,s){(function(i,o,l,c,u,f,a,d,h){function p(I,_){var S=(65535&I)+(65535&_);return(I>>16)+(_>>16)+(S>>16)<<16|65535&S}function m(I,_){var S,k=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),$=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),b=new Array(64);I[_>>5]|=128<<24-_%32,I[15+(_+64>>9<<4)]=_;for(var M,w,E=0;E<I.length;E+=16){for(var L=$[0],Q=$[1],W=$[2],U=$[3],N=$[4],H=$[5],F=$[6],Z=$[7],te=0;te<64;te++)b[te]=te<16?I[te+E]:p(p(p((w=b[te-2],y(w,17)^y(w,19)^v(w,10)),b[te-7]),(w=b[te-15],y(w,7)^y(w,18)^v(w,3))),b[te-16]),S=p(p(p(p(Z,y(w=N,6)^y(w,11)^y(w,25)),N&H^~N&F),k[te]),b[te]),M=p(y(M=L,2)^y(M,13)^y(M,22),L&Q^L&W^Q&W),Z=F,F=H,H=N,N=p(U,S),U=W,W=Q,Q=L,L=p(S,M);$[0]=p(L,$[0]),$[1]=p(Q,$[1]),$[2]=p(W,$[2]),$[3]=p(U,$[3]),$[4]=p(N,$[4]),$[5]=p(H,$[5]),$[6]=p(F,$[6]),$[7]=p(Z,$[7])}return $}var g=n("./helpers"),y=function(I,_){return I>>>_|I<<32-_},v=function(I,_){return I>>>_};r.exports=function(I){return g.hash(I,m,32,!0)}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(n,r,s){(function(i,o,l,c,u,f,a,d,h){s.read=function(p,m,g,y,E){var I,_,S=8*E-y-1,k=(1<<S)-1,$=k>>1,b=-7,M=g?E-1:0,w=g?-1:1,E=p[m+M];for(M+=w,I=E&(1<<-b)-1,E>>=-b,b+=S;0<b;I=256*I+p[m+M],M+=w,b-=8);for(_=I&(1<<-b)-1,I>>=-b,b+=y;0<b;_=256*_+p[m+M],M+=w,b-=8);if(I===0)I=1-$;else{if(I===k)return _?NaN:1/0*(E?-1:1);_+=Math.pow(2,y),I-=$}return(E?-1:1)*_*Math.pow(2,I-y)},s.write=function(p,m,g,y,v,L){var _,S,k=8*L-v-1,$=(1<<k)-1,b=$>>1,M=v===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=y?0:L-1,E=y?1:-1,L=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(S=isNaN(m)?1:0,_=$):(_=Math.floor(Math.log(m)/Math.LN2),m*(y=Math.pow(2,-_))<1&&(_--,y*=2),2<=(m+=1<=_+b?M/y:M*Math.pow(2,1-b))*y&&(_++,y/=2),$<=_+b?(S=0,_=$):1<=_+b?(S=(m*y-1)*Math.pow(2,v),_+=b):(S=m*Math.pow(2,b-1)*Math.pow(2,v),_=0));8<=v;p[g+w]=255&S,w+=E,S/=256,v-=8);for(_=_<<v|S,k+=v;0<k;p[g+w]=255&_,w+=E,_/=256,k-=8);p[g+w-E]|=128*L}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(n,r,s){(function(i,o,l,c,u,f,a,d,h){var p,m,g;function y(){}(i=r.exports={}).nextTick=(m=typeof window<"u"&&window.setImmediate,g=typeof window<"u"&&window.postMessage&&window.addEventListener,m?function(v){return window.setImmediate(v)}:g?(p=[],window.addEventListener("message",function(v){var I=v.source;I!==window&&I!==null||v.data!=="process-tick"||(v.stopPropagation(),0<p.length&&p.shift()())},!0),function(v){p.push(v),window.postMessage("process-tick","*")}):function(v){setTimeout(v,0)}),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.binding=function(v){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(v){throw new Error("process.chdir is not supported")}}).call(this,n("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},n("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})}(Cl)),Cl.exports}var Ak=Ck();const Pc=Fs(Ak),ss={c:{src:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQ3VycmVuY3lSZXJvbGxSYXJlIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/d119a0d734/CurrencyRerollRare.png",alt:"c"},d:{src:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQ3VycmVuY3lNb2RWYWx1ZXMiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MX1d/e1a54ff97d/CurrencyModValues.png",alt:"d"},low:{src:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQ3VycmVuY3lSZXJvbGxSYXJlIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/d119a0d734/CurrencyRerollRare.png",alt:"c"},high:{src:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQ3VycmVuY3lNb2RWYWx1ZXMiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MX1d/e1a54ff97d/CurrencyModValues.png",alt:"d"}},Jt={c:{src:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQ3VycmVuY3lSZXJvbGxSYXJlIiwic2NhbGUiOjEsInJlYWxtIjoicG9lMiJ9XQ/c0ca392a78/CurrencyRerollRare.png",alt:"c",emojiKey:":chaos:"},d:{src:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQ3VycmVuY3lNb2RWYWx1ZXMiLCJzY2FsZSI6MSwicmVhbG0iOiJwb2UyIn1d/2986e220b3/CurrencyModValues.png",alt:"d",emojiKey:":divine:"},ex:{src:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQ3VycmVuY3lBZGRNb2RUb1JhcmUiLCJzY2FsZSI6MSwicmVhbG0iOiJwb2UyIn1d/ad7c366789/CurrencyAddModToRare.png",alt:"ex",emojiKey:":exalted:"},r:{src:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQ3VycmVuY3lVcGdyYWRlTWFnaWNUb1JhcmUiLCJzY2FsZSI6MSwicmVhbG0iOiJwb2UyIn1d/e8fb148e80/CurrencyUpgradeMagicToRare.png",alt:"r",emojiKey:":regal:"},low:{src:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQ3VycmVuY3lBZGRNb2RUb1JhcmUiLCJzY2FsZSI6MSwicmVhbG0iOiJwb2UyIn1d/ad7c366789/CurrencyAddModToRare.png",alt:"ex"},high:{src:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQ3VycmVuY3lNb2RWYWx1ZXMiLCJzY2FsZSI6MSwicmVhbG0iOiJwb2UyIn1d/2986e220b3/CurrencyModValues.png",alt:"d"}},Q7={":chaos:":ss.c.src,":divine:":ss.d.src},X7={":chaos:":Jt.c.src,":divine:":Jt.d.src,":exalt:":Jt.ex.src,":regal:":Jt.r.src},qy=e=>e==="poe1"?ss:Jt,Fo=(e,t)=>e==="poe1"?t==="low"?"c":"d":t==="low"?"ex":"d",Pk=(e,t)=>{if(e==="poe1")switch(t){case"c":return"low";case"d":return"high";default:return"mid"}switch(t){case"d":return"high";case"ex":return"low";default:return"mid"}},G7=(e,t)=>{if(e==="poe1")switch(t){case"c":return ss.c;case"d":return ss.d;default:return ss.low}switch(t){case"c":return Jt.c;case"d":return Jt.d;case"ex":return Jt.ex;case"r":return Jt.r;default:return Jt.low}},Lk=(e,t,n,r)=>{const s=Pk(e,r);return s!=="high"||n===null?{value:t,rating:s}:{value:t*n,rating:"low"}},vt=(e,t=2)=>Math.round(e*10**t)/10**t,qr=(e,t,n,r,s=!1,i=!1)=>{let o="0";const l=e<0?" ":n&&e>0?"+ ":"",c=Math.abs(e);return(i||t)&&c>=1e6?o=`${l}${(c/1e6).toLocaleString(r,{maximumFractionDigits:0})}kk`:(i||t)&&c>=1e3?o=`${l}${(c/1e3).toLocaleString(r,{maximumFractionDigits:1})}k`:i?o=`${l}${c.toLocaleString(r,{maximumFractionDigits:c>=100?0:c>=10?1:c>=1?2:c>=.1?3:4})}`:s?o=`${l}${c.toLocaleString(r,{maximumFractionDigits:c>=100?1:c>=10||c>=1?2:c>=.1?3:4})}`:o=`${l}${c.toLocaleString(r,{maximumFractionDigits:c>=100?0:c>=10?1:c>=1?2:c>=.1?3:4})}`,o},Ok=e=>e>=10?vt(e,1):vt(e,2),fo=e=>e>=10?vt(e,2):vt(e,3),Qy=(e,t,n,r,s=null,i=!1,o=!1,l=!0,c)=>{const u=qy(e),f=n||Fo(e,"low"),{value:a,rating:d}=Lk(e,t??0,s,f);if(a&&d==="low"&&s&&(r==="high"||r==="both")){const h=a/s,p=Math.trunc(vt(h,2)),m=Fo(e,"high");if(i){const g=Fo(e,"low"),y=p===0?vt(a,0):Math.abs(vt(a-p*s,0));return p===0?{primary:{value:y,currencyType:g,formattedValue:qr(y,l,o,c),icon:u[g]}}:{primary:{value:fo(p),currencyType:m,formattedValue:qr(p,l,o,c),icon:u[m]},secondary:{value:y,currencyType:g,formattedValue:qr(y,l,o,c,!1,!0),icon:u[g]}}}return r==="high"||Math.abs(p)>0?{primary:{value:fo(h),currencyType:m,formattedValue:qr(h,l,o,c,!0),icon:u[m]},secondary:void 0}:{primary:{value:fo(a),currencyType:f,formattedValue:qr(a,l,o,c),icon:u[f]},secondary:void 0}}return{primary:{value:d==="low"?Ok(a):fo(a),currencyType:f,formattedValue:qr(a,l,o,c,d!=="low"),icon:u[f]},secondary:void 0}},jk={normal:"#c0c0c0",magic:"#8888FF",rare:"#EBEB57",unique:"#da7a36",gem:"#1ba29b",currency:"#AD904B",divination:"#c0c0c0",quest:"#6eb930",unknown:"#fff",legacy:"#82ad6a"},Al=["normal","magic","rare","unique","gem","currency","divination","quest","unknown","legacy"];let Rk=class{static decodeIcon(t,n=1){var s,i,o;if(!t)return null;const r=t.split("/")[5];try{const l=atob(r),c=(i=((s=JSON.parse(l))==null?void 0:s[2]).f)==null?void 0:i.split("/");return(o=c==null?void 0:c[((c==null?void 0:c.length)??0)-n-1])==null?void 0:o.toLowerCase()}catch(l){return console.error("Error decoding Base64 string:",l),null}}static hexToNumber(t){return t.startsWith("#")&&(t=t.slice(1)),t.length===6&&(t="FF"+t),parseInt(t,16)}static encodeIcon(t,n){const r=t.split("/")[5];try{const s=JSON.parse(atob(r));return s[2].c=this.hexToNumber(n),`https://web.poecdn.com/gen/image/${btoa(JSON.stringify(s))}//Stash_TabL.png`}catch(s){return console.error("Error encoding Base64:",s),""}}};const Dk=JSON.parse(`[{"key":"MapMonsterFastMapWorlds","english":["#% increased Monster Movement Speed","#% increased Monster Attack Speed","#% increased Monster Cast Speed"]},{"key":"MapMonsterCannotBeStunnedMapWorlds_","english":["#% more Monster Life","Monsters cannot be Stunned"]},{"key":"MapMonsterCriticalStrikesAndDamageMapWorlds","english":["Monsters have #% increased Critical Strike Chance","#% to Monster Critical Strike Multiplier"]},{"key":"MapMonsterChaosDamage2MapWorlds","english":["Monsters gain #% of their Physical Damage as Extra Chaos Damage","Monsters Inflict Withered for # seconds on Hit"]},{"key":"MapDangerousBoss2MapWorlds","english":["Unique Boss deals #% increased Damage","Unique Boss has #% increased Attack and Cast Speed"]},{"key":"MapMassiveBoss2MapWorlds","english":["Unique Boss has #% increased Life","Unique Boss has #% increased Area of Effect"]},{"key":"MapMonstersCantBeSlowedOrTauntedMapWorlds_","english":["Monsters cannot be Taunted","Monsters' Action Speed cannot be modified to below Base Value\\nMonsters' Movement Speed cannot be modified to below Base Value"]},{"key":"MapMonstersAllResistancesMapWorlds","english":["#% Monster Chaos Resistance","#% Monster Elemental Resistances"]},{"key":"MapPlayersBlockAndArmourMapWorlds","english":["Players have #% less Armour","Players have #% reduced Chance to Block"]},{"key":"MapPlayersEvasionAndUnluckyDodge1MapWorlds","english":["Monsters have #% increased Accuracy Rating","Players have #% to amount of Suppressed Spell Damage Prevented"]},{"key":"MapTotemsMapWorlds","english":["Area contains many Totems"]},{"key":"MapNemesisModOnRaresMapWorlds","english":["#% increased number of Rare Monsters"]},{"key":"MapBloodlinesModOnMagicsMapWorlds","english":["#% increased Magic Monsters"]},{"key":"MapMonsterPacksSkeletonsMapWorlds_","english":["Area is inhabited by Skeletons"]},{"key":"MapMonsterPacksGoatmenMapWorlds","english":["Area is inhabited by Goatmen"]},{"key":"MapMonsterPacksSpawnsSeaWitchesMapWorlds","english":["Area is inhabited by Sea Witches and their Spawn"]},{"key":"MapMonsterPacksUndeadMapWorlds_","english":["Area is inhabited by Undead"]},{"key":"MapMonsterPacksRangedMapWorlds","english":["Area is inhabited by ranged monsters"]},{"key":"MapMonsterPacksAnimalsMapWorlds","english":["Area is inhabited by Animals"]},{"key":"MapMonsterPacksDemonsMapWorlds","english":["Area is inhabited by Demons"]},{"key":"MapMonsterPacksHumanoidsMapWorlds","english":["Area is inhabited by Humanoids"]},{"key":"MapMonsterPacksSolarisMapWorlds_","english":["Area is inhabited by Solaris fanatics"]},{"key":"MapMonsterPacksLunarisMapWorlds_","english":["Area is inhabited by Lunaris fanatics"]},{"key":"MapMonsterPacksGhostsMapWorlds","english":["Area is inhabited by Ghosts"]},{"key":"MapMonsterPacksKitavaMapWorlds_","english":["Area is inhabited by Cultists of Kitava"]},{"key":"MapMoreMonsterPackVarietyMapWorlds_","english":["Area has increased monster variety"]},{"key":"MapMonsterChainMapWorlds","english":["Monsters' skills Chain # additional times"]},{"key":"MapHexproofMapWorlds","english":["Monsters are Hexproof"]},{"key":"MapPoisoningMapWorlds","english":["Monsters Poison on Hit"]},{"key":"MapPlayerElementalEquilibriumMapWorlds","english":["Players cannot inflict Exposure"]},{"key":"MapTwoBossesMapWorlds","english":["Area contains two Unique Bosses"]},{"key":"MapMonsterMultipleProjectilesWorlds","english":["Monsters fire # additional Projectiles"]},{"key":"MapMonsterAreaOfEffectMapWorlds","english":["Monsters have #% increased Area of Effect"]},{"key":"MapMonsterPhysicalResistanceMapWorlds","english":["#% Monster Physical Damage Reduction"]},{"key":"MapMonsterLifeMapWorlds","english":["#% more Monster Life"]},{"key":"MapMonsterDamageMapWorlds_","english":["#% increased Monster Damage"]},{"key":"MapMonsterFireDamageMapWorlds","english":["Monsters deal #% extra Physical Damage as Fire"]},{"key":"MapMonsterColdDamageMapWorlds","english":["Monsters deal #% extra Physical Damage as Cold"]},{"key":"MapMonsterLightningDamageMapWorlds","english":["Monsters deal #% extra Physical Damage as Lightning"]},{"key":"MapMonsterPhysicalReflectionMapWorlds","english":["Monsters reflect #% of Physical Damage"]},{"key":"MapMonsterElementalReflectionMapWorlds","english":["Monsters reflect #% of Elemental Damage"]},{"key":"MapPlayerReducedRegen1MapWorlds","english":["Players have #% less Recovery Rate of Life and Energy Shield"]},{"key":"MapBurningGround1MapWorlds_","english":["Area has patches of Burning Ground"]},{"key":"MapChilledGroundSuffix1MapWorlds","english":["Area has patches of Chilled Ground"]},{"key":"MapShockedGround1MapWorlds","english":["Area has patches of Shocked Ground which increase Damage taken by #%"]},{"key":"MapDesecratedGround1MapWorlds","english":["Area has patches of desecrated ground"]},{"key":"MapPlayerCurseElementalWeakness1MapWorlds","english":["Players are Cursed with Elemental Weakness"]},{"key":"MapPlayerCurseVulnerability1MapWorlds","english":["Players are Cursed with Vulnerability"]},{"key":"MapPlayerCurseEnfeeblement1MapWorlds","english":["Players are Cursed with Enfeeble"]},{"key":"MapPlayerCurseTemporalChains1MapWorlds","english":["Players are Cursed with Temporal Chains"]},{"key":"MapPlayerNoLifeESRegenMapWorlds","english":["Players cannot Regenerate Life, Mana or Energy Shield"]},{"key":"MapPlayerMaxResists1MapWorlds","english":["Players have #% to all maximum Resistances"]},{"key":"MapMonsterLifeLeechImmunityMapWorlds","english":["Monsters cannot be Leeched from"]},{"key":"MapMonsterStatusAilmentAvoidanceMapWorlds","english":["Monsters have #% chance to Avoid Elemental Ailments"]},{"key":"MapMonstersBaseSelfCriticalMultiplierMapWorlds","english":["Monsters take #% reduced Extra Damage from Critical Strikes"]},{"key":"MapPlayersGainReducedFlaskChargesMapWorlds","english":["Players gain #% reduced Flask Charges"]},{"key":"MapMonstersCurseEffectOnSelfFinalMapWorlds","english":["#% less effect of Curses on Monsters"]},{"key":"MapMonstersChanceToInflictStatusAilmentsMapWorlds","english":["Monsters have a #% chance to Ignite, Freeze and Shock on Hit"]},{"key":"MapMonsterPacksAbominationMapWorlds","english":["Area is inhabited by Abominations"]},{"key":"MapMonstersAllDamageAlwaysIgnitesMapWorlds_","english":["All Monster Damage from Hits always Ignites"]},{"key":"MapMonstersAvoidPoisonBleedBlindMapWorlds","english":["Monsters have a #% chance to avoid Poison, Impale, and Bleeding"]},{"key":"MapPlayersLessAoERadiusMapWorlds","english":["Players have #% less Area of Effect"]},{"key":"MapMonstersFrenzyChargeOnHitMapWorlds","english":["Monsters gain a Frenzy Charge on Hit"]},{"key":"MapMonstersEnduranceChargeOnHitMapWorlds","english":["Monsters gain an Endurance Charge on Hit"]},{"key":"MapMonstersPowerChargeOnHitMapWorlds","english":["Monsters gain a Power Charge on Hit"]},{"key":"MapMonstersImpaleOnHitMapWorlds","english":["Monsters' Attacks have #% chance to Impale on Hit"]},{"key":"MapMonstersChanceToSuppressSpellsMapWorlds","english":["Monsters have #% chance to Suppress Spell Damage"]},{"key":"MapMonstersMaximumLifeAddedEnergyShieldMapWorlds","english":["Monsters gain #% of Maximum Life as Extra Maximum Energy Shield"]},{"key":"MapBossPossessedMapWorlds","english":["Unique Bosses are Possessed"]},{"key":"MapMonstersBlindOnHitMapWorlds","english":["Monsters Blind on Hit"]},{"key":"MapMonstersMaimOnHitMapWorlds","english":["Monsters Maim on Hit with Attacks"]},{"key":"MapMonstersHinderOnHitMapWorlds","english":["Monsters Hinder on Hit with Spells"]},{"key":"MapMonstersStealChargesOnHitMapWorlds","english":["Monsters steal Power, Frenzy and Endurance charges on Hit"]},{"key":"MapConsecratedGroundMapWorlds","english":["Area has patches of Consecrated Ground"]},{"key":"MapPlayersLessCooldownRecoveryMapWorlds","english":["Players have #% less Cooldown Recovery Rate"]},{"key":"MapPlayersBuffsExpireFasterMapWorlds","english":["Buffs on Players expire #% faster"]},{"key":"MapPlayersReducedAuraEffectMapWorlds","english":["Players have #% reduced effect of Non-Curse Auras from Skills"]},{"key":"MapPlayersAccuracyRatingMapWorlds_","english":["Players have #% less Accuracy Rating"]}]`),Nk=JSON.parse(`[{"key":"MapUberModPoison","english":["Monsters Poison on Hit","All Damage from Monsters' Hits can Poison","Monsters have #% increased Poison Duration"]},{"key":"MapUberModCurses","english":["Players are Cursed with Vulnerability","Players are Cursed with Temporal Chains","Players are Cursed with Elemental Weakness"]},{"key":"MapUberModTurbo","english":["#% increased Monster Movement Speed","#% increased Monster Attack Speed","#% increased Monster Cast Speed"]},{"key":"MapUberModNoCharges","english":["Players cannot gain Endurance Charges","Players cannot gain Frenzy Charges","Players cannot gain Power Charges"]},{"key":"MapUberModJuggernaut","english":["Monsters cannot be Stunned","Monsters' Action Speed cannot be modified to below Base Value","Monsters' Movement Speed cannot be modified to below Base Value"]},{"key":"MapUberModResistancePDR","english":["#% Monster Physical Damage Reduction","#% Monster Chaos Resistance","#% Monster Elemental Resistances"]},{"key":"MapUberModMinionSpeed","english":["Players' Minions have #% less Attack Speed","Players' Minions have #% less Cast Speed","Players' Minions have #% less Movement Speed"]},{"key":"MapMonstersCantBeSlowedOrTauntedMapWorlds_","english":["Monsters cannot be Taunted","Monsters' Action Speed cannot be modified to below Base Value\\nMonsters' Movement Speed cannot be modified to below Base Value"]},{"key":"MapUberModChain","english":["Monsters' skills Chain # additional times","Monsters' Projectiles can Chain when colliding with Terrain"]},{"key":"MapUberModPowerCharges","english":["Monsters have # to Maximum Power Charges","Monsters gain a Power Charge on Hit"]},{"key":"MapUberModFrenzyCharges","english":["Monsters have # to Maximum Frenzy Charges","Monsters gain a Frenzy Charge on Hit"]},{"key":"MapUberModEnduranceCharges","english":["Monsters have # to Maximum Endurance Charges","Monsters gain an Endurance Charge when hit"]},{"key":"MapUberModProjAOE","english":["Monsters have #% increased Area of Effect","Monsters fire # additional Projectiles"]},{"key":"MapUberModCrit","english":["Monsters have #% increased Critical Strike Chance","#% to Monster Critical Strike Multiplier"]},{"key":"MapUberModReflect","english":["Monsters reflect #% of Physical Damage","Monsters reflect #% of Elemental Damage"]},{"key":"MapUberModRareMonsters","english":["#% increased number of Rare Monsters","Rare Monsters each have # additional Modifier"]},{"key":"MapUberModBarrels","english":["Area contains # additional Clusters of Mysterious Barrels","Area contains # additional Clusters of Mysterious Barrels"]},{"key":"MapUberModNoRegen","english":["Players cannot Recharge Energy Shield","Players cannot Regenerate Life, Mana or Energy Shield"]},{"key":"MapUberModNoBlockNoSuppress","english":["Players cannot Block","Players cannot Suppress Spell Damage"]},{"key":"MapUberModMonsterAilments","english":["All Monster Damage can Ignite, Freeze and Shock","Monsters Ignite, Freeze and Shock on Hit"]},{"key":"MapUberModImpaleDetonation","english":["Monsters' Attacks Impale on Hit","When a fifth Impale is inflicted on a Player, Impales are removed to Reflect their Physical Damage multiplied by their remaining Hits to that Player and their Allies within # metres"]},{"key":"MapUberModTrapMineCount","english":["Player Skills which Throw Mines throw # fewer Mine","Player Skills which Throw Traps throw # fewer Trap"]},{"key":"MapUberWeakMonsterCannotBeStunned","english":["#% more Monster Life","Monsters cannot be Stunned"]},{"key":"MapUberWeakMonsterChaosDamage","english":["Monsters gain #% of their Physical Damage as Extra Chaos Damage","Monsters Inflict Withered for # seconds on Hit"]},{"key":"MapUberWeakDangerousBoss","english":["Unique Boss deals #% increased Damage","Unique Boss has #% increased Attack and Cast Speed"]},{"key":"MapUberWeakMassiveBoss","english":["Unique Boss has #% increased Life","Unique Boss has #% increased Area of Effect"]},{"key":"MapUberWeakMonstersAllResistances","english":["#% Monster Chaos Resistance","#% Monster Elemental Resistances"]},{"key":"MapUberWeakPlayersBlockAndArmour","english":["Players have #% less Armour","Players have #% reduced Chance to Block"]},{"key":"MapUberWeakPlayersEvasionAndUnluckyDodge","english":["Monsters have #% increased Accuracy Rating","Players have #% to amount of Suppressed Spell Damage Prevented"]},{"key":"MapTotemsMapWorlds","english":["Area contains many Totems"]},{"key":"MapNemesisModOnRaresMapWorlds","english":["#% increased number of Rare Monsters"]},{"key":"MapBloodlinesModOnMagicsMapWorlds","english":["#% increased Magic Monsters"]},{"key":"MapMonsterPacksSkeletonsMapWorlds_","english":["Area is inhabited by Skeletons"]},{"key":"MapMonsterPacksGoatmenMapWorlds","english":["Area is inhabited by Goatmen"]},{"key":"MapMonsterPacksSpawnsSeaWitchesMapWorlds","english":["Area is inhabited by Sea Witches and their Spawn"]},{"key":"MapMonsterPacksUndeadMapWorlds_","english":["Area is inhabited by Undead"]},{"key":"MapMonsterPacksRangedMapWorlds","english":["Area is inhabited by ranged monsters"]},{"key":"MapMonsterPacksAnimalsMapWorlds","english":["Area is inhabited by Animals"]},{"key":"MapMonsterPacksDemonsMapWorlds","english":["Area is inhabited by Demons"]},{"key":"MapMonsterPacksHumanoidsMapWorlds","english":["Area is inhabited by Humanoids"]},{"key":"MapMonsterPacksSolarisMapWorlds_","english":["Area is inhabited by Solaris fanatics"]},{"key":"MapMonsterPacksLunarisMapWorlds_","english":["Area is inhabited by Lunaris fanatics"]},{"key":"MapMonsterPacksGhostsMapWorlds","english":["Area is inhabited by Ghosts"]},{"key":"MapMonsterPacksKitavaMapWorlds_","english":["Area is inhabited by Cultists of Kitava"]},{"key":"MapMoreMonsterPackVarietyMapWorlds_","english":["Area has increased monster variety"]},{"key":"MapMonsterChainMapWorlds","english":["Monsters' skills Chain # additional times"]},{"key":"MapPoisoningMapWorlds","english":["Monsters Poison on Hit"]},{"key":"MapPlayerElementalEquilibriumMapWorlds","english":["Players cannot inflict Exposure"]},{"key":"MapTwoBossesMapWorlds","english":["Area contains two Unique Bosses"]},{"key":"MapMonsterMultipleProjectilesWorlds","english":["Monsters fire # additional Projectiles"]},{"key":"MapMonsterPacksAbominationMapWorlds","english":["Area is inhabited by Abominations"]},{"key":"MapMonstersAllDamageAlwaysIgnitesMapWorlds_","english":["All Monster Damage from Hits always Ignites"]},{"key":"MapMonstersFrenzyChargeOnHitMapWorlds","english":["Monsters gain a Frenzy Charge on Hit"]},{"key":"MapMonstersEnduranceChargeOnHitMapWorlds","english":["Monsters gain an Endurance Charge on Hit"]},{"key":"MapMonstersPowerChargeOnHitMapWorlds","english":["Monsters gain a Power Charge on Hit"]},{"key":"MapBossPossessedMapWorlds","english":["Unique Bosses are Possessed"]},{"key":"MapMonstersBlindOnHitMapWorlds","english":["Monsters Blind on Hit"]},{"key":"MapMonstersMaimOnHitMapWorlds","english":["Monsters Maim on Hit with Attacks"]},{"key":"MapMonstersHinderOnHitMapWorlds","english":["Monsters Hinder on Hit with Spells"]},{"key":"MapMonstersStealChargesOnHitMapWorlds","english":["Monsters steal Power, Frenzy and Endurance charges on Hit"]},{"key":"MapUberModUnionOfSouls","english":["All Magic and Normal Monsters in Area are in a Union of Souls"]},{"key":"MapUberModMinusMax","english":["Players have #% to all maximum Resistances"]},{"key":"MapUberModDamageRotation","english":["Players and their Minions deal no damage for # out of every # seconds"]},{"key":"MapUberModMonsterDamage","english":["#% increased Monster Damage"]},{"key":"MapUberModLifeAsEnergyShield","english":["Monsters gain #% of Maximum Life as Extra Maximum Energy Shield"]},{"key":"MapUberModMonsterSuppress","english":["Monsters have #% chance to Suppress Spell Damage"]},{"key":"MapUberModMonsterAttackBlock","english":["Monsters have #% Chance to Block Attack Damage"]},{"key":"MapUberModNoLeech","english":["Monsters cannot be Leeched from"]},{"key":"MapUberModLessPlayerLeech","english":["Players have #% reduced Maximum total Life, Mana and Energy Shield Recovery per second from Leech"]},{"key":"MapUberModAOEPlayer","english":["Players have #% less Area of Effect"]},{"key":"MapUberModCritDefence","english":["Monsters take #% reduced Extra Damage from Critical Strikes"]},{"key":"MapUberModMonsterLife","english":["#% more Monster Life"]},{"key":"MapUberModShrineBuff","english":["Unique Monsters have a random Shrine Buff"]},{"key":"MapUberModVines","english":["Monsters inflict # Grasping Vines on Hit"]},{"key":"MapUberModVolatiles","english":["Rare Monsters have Volatile Cores"]},{"key":"MapUberModPetrify","english":["Area contains Petrification Statues"]},{"key":"MapUberModDamageAsElemental","english":["Monsters gain #% of their Physical Damage as Extra Damage of a random Element"]},{"key":"MapUberModDamageAsChaos","english":["Monsters gain #% of their Physical Damage as Extra Chaos Damage"]},{"key":"MapUberModSawblades","english":["Players are assaulted by Bloodstained Sawblades"]},{"key":"MapUberModFlaskMeteor","english":["Players are targeted by a Meteor when they use a Flask"]},{"key":"MapUberModGlobalDefences","english":["Players have #% less Defences"]},{"key":"MapUberModPlayerCurseEffect","english":["#% reduced Effect of Curses on Monsters"]},{"key":"MapUberModDrowningOrbs","english":["Area contains Drowning Orbs"]},{"key":"MapUberModAuraEffect","english":["Players have #% reduced effect of Non-Curse Auras from Skills"]},{"key":"MapUberModRecoveryRate","english":["Players have #% less Recovery Rate of Life and Energy Shield"]},{"key":"MapUberModBuffExpiry","english":["Buffs on Players expire #% faster"]},{"key":"MapUberModEleDamagePenetration","english":["Monster Damage Penetrates #% Elemental Resistances"]},{"key":"MapUberModActionSpeed","english":["Players have #% reduced Action Speed for each time they've used a Skill Recently"]},{"key":"MapUberModMarkedForDeath","english":["Players are Marked for Death for # seconds\\nafter killing a Rare or Unique monster"]},{"key":"MapUberModPercentDamage","english":["Rare and Unique Monsters remove #% of Life, Mana and Energy Shield from Players or their Minions on Hit"]},{"key":"MapUberModSirusMeteors","english":["[DNT] Sirus' Meteors rain down in Area"]},{"key":"MapUberModElderNovas","english":["Area contains Unstable Tentacle Fiends"]},{"key":"MapUberModSirusGround","english":["Area has patches of Awakeners' Desolation"]},{"key":"MapUberModShaperTouched","english":["Rare monsters in area are Shaper-Touched"]},{"key":"MapUberModTotemCount","english":["Players have # to maximum number of Summoned Totems"]},{"key":"MapUberModTotemLife","english":["#% of Damage Players' Totems take from Hits is taken from their Summoner's Life instead"]},{"key":"MapUberModAllyPunishment","english":["Players in Area take #% increased Damage per nearby Ally"]},{"key":"MapUberModSynthMiniboss","english":["Map Boss is accompanied by a Synthesis Boss"]},{"key":"MapUberModMonsterDebuffSpeed","english":["Debuffs on Monsters expire #% faster"]},{"key":"MapUberModExarch","english":["Area contains Runes of the Searing Exarch"]},{"key":"MapUberModMavenFollower","english":["The Maven interferes with Players"]},{"key":"MapUberWeakHexproof","english":["Monsters are Hexproof"]},{"key":"MapUberWeakMonsterAreaOfEffect","english":["Monsters have #% increased Area of Effect"]},{"key":"MapUberWeakMonsterPhysicalResistance","english":["#% Monster Physical Damage Reduction"]},{"key":"MapUberWeakMonsterFireDamage","english":["Monsters deal #% extra Physical Damage as Fire"]},{"key":"MapUberWeakMonsterColdDamage","english":["Monsters deal #% extra Physical Damage as Cold"]},{"key":"MapUberWeakMonsterLightningDamage","english":["Monsters deal #% extra Physical Damage as Lightning"]},{"key":"MapUberWeakMonsterPhysicalReflection","english":["Monsters reflect #% of Physical Damage"]},{"key":"MapUberWeakMonsterElementalReflection","english":["Monsters reflect #% of Elemental Damage"]},{"key":"MapUberWeakBurningGround","english":["Area has patches of Burning Ground"]},{"key":"MapUberWeakChilledGroundSuffix","english":["Area has patches of Chilled Ground"]},{"key":"MapUberWeakShockedGround","english":["Area has patches of Shocked Ground which increase Damage taken by #%"]},{"key":"MapUberWeakDesecratedGround","english":["Area has patches of desecrated ground"]},{"key":"MapUberWeakPlayerCurseElementalWeakness","english":["Players are Cursed with Elemental Weakness"]},{"key":"MapUberWeakPlayerCurseVulnerability","english":["Players are Cursed with Vulnerability"]},{"key":"MapUberWeakPlayerCurseEnfeeblement","english":["Players are Cursed with Enfeeble"]},{"key":"MapUberWeakPlayerCurseTemporalChains","english":["Players are Cursed with Temporal Chains"]},{"key":"MapUberWeakPlayerNoLifeESRegen","english":["Players cannot Regenerate Life, Mana or Energy Shield"]},{"key":"MapUberWeakMonsterStatusAilmentImmunity","english":["Monsters have #% chance to Avoid Elemental Ailments"]},{"key":"MapUberWeakPlayersGainReducedFlaskCharges","english":["Players gain #% reduced Flask Charges"]},{"key":"MapUberWeakMonstersCurseEffectOnSelfFinal","english":["#% less effect of Curses on Monsters"]},{"key":"MapUberWeakMonstersChanceToInflictStatusAilments","english":["Monsters have a #% chance to Ignite, Freeze and Shock on Hit"]},{"key":"MapUberWeakMonstersAvoidPoisonBleedBlind","english":["Monsters have a #% chance to avoid Poison, Impale, and Bleeding"]},{"key":"MapUberWeakMonstersImpaleOnHit","english":["Monsters' Attacks have #% chance to Impale on Hit"]},{"key":"MapUberWeakConsecratedGround","english":["Area has patches of Consecrated Ground"]},{"key":"MapUberWeakPlayersLessCooldownRecovery","english":["Players have #% less Cooldown Recovery Rate"]},{"key":"MapUberWeakPlayersAccuracyRating","english":["Players have #% less Accuracy Rating"]}]`),Fk=JSON.parse(`[{"key":"MapUberModPoison","english":["Monsters Poison on Hit","All Damage from Monsters' Hits can Poison","Monsters have #% increased Poison Duration"]},{"key":"MapUberModCurses","english":["Players are Cursed with Vulnerability","Players are Cursed with Temporal Chains","Players are Cursed with Elemental Weakness"]},{"key":"MapUberModTurbo","english":["#% increased Monster Movement Speed","#% increased Monster Attack Speed","#% increased Monster Cast Speed"]},{"key":"MapUberModNoCharges","english":["Players cannot gain Endurance Charges","Players cannot gain Frenzy Charges","Players cannot gain Power Charges"]},{"key":"MapUberModJuggernaut","english":["Monsters cannot be Stunned","Monsters' Action Speed cannot be modified to below Base Value","Monsters' Movement Speed cannot be modified to below Base Value"]},{"key":"MapUberModResistancePDR","english":["#% Monster Physical Damage Reduction","#% Monster Chaos Resistance","#% Monster Elemental Resistances"]},{"key":"MapUberModMinionSpeed","english":["Players' Minions have #% less Attack Speed","Players' Minions have #% less Cast Speed","Players' Minions have #% less Movement Speed"]},{"key":"MapUberModChain","english":["Monsters' skills Chain # additional times","Monsters' Projectiles can Chain when colliding with Terrain"]},{"key":"MapUberModPowerCharges","english":["Monsters have # to Maximum Power Charges","Monsters gain a Power Charge on Hit"]},{"key":"MapUberModFrenzyCharges","english":["Monsters have # to Maximum Frenzy Charges","Monsters gain a Frenzy Charge on Hit"]},{"key":"MapUberModEnduranceCharges","english":["Monsters have # to Maximum Endurance Charges","Monsters gain an Endurance Charge when hit"]},{"key":"MapUberModProjAOE","english":["Monsters have #% increased Area of Effect","Monsters fire # additional Projectiles"]},{"key":"MapUberModCrit","english":["Monsters have #% increased Critical Strike Chance","#% to Monster Critical Strike Multiplier"]},{"key":"MapUberModReflect","english":["Monsters reflect #% of Physical Damage","Monsters reflect #% of Elemental Damage"]},{"key":"MapUberModRareMonsters","english":["#% increased number of Rare Monsters","Rare Monsters each have # additional Modifier"]},{"key":"MapUberModBarrels","english":["Area contains # additional Clusters of Mysterious Barrels","Area contains # additional Clusters of Mysterious Barrels"]},{"key":"MapUberModNoRegen","english":["Players cannot Recharge Energy Shield","Players cannot Regenerate Life, Mana or Energy Shield"]},{"key":"MapUberModNoBlockNoSuppress","english":["Players cannot Block","Players cannot Suppress Spell Damage"]},{"key":"MapUberModMonsterAilments","english":["All Monster Damage can Ignite, Freeze and Shock","Monsters Ignite, Freeze and Shock on Hit"]},{"key":"MapUberModImpaleDetonation","english":["Monsters' Attacks Impale on Hit","When a fifth Impale is inflicted on a Player, Impales are removed to Reflect their Physical Damage multiplied by their remaining Hits to that Player and their Allies within # metres"]},{"key":"MapUberModTrapMineCount","english":["Player Skills which Throw Mines throw # fewer Mine","Player Skills which Throw Traps throw # fewer Trap"]},{"key":"MapUberWeakMonsterCannotBeStunned","english":["#% more Monster Life","Monsters cannot be Stunned"]},{"key":"MapUberWeakMonsterChaosDamage","english":["Monsters gain #% of their Physical Damage as Extra Chaos Damage","Monsters Inflict Withered for # seconds on Hit"]},{"key":"MapUberWeakDangerousBoss","english":["Unique Boss deals #% increased Damage","Unique Boss has #% increased Attack and Cast Speed"]},{"key":"MapUberWeakMassiveBoss","english":["Unique Boss has #% increased Life","Unique Boss has #% increased Area of Effect"]},{"key":"MapUberWeakMonstersAllResistances","english":["#% Monster Chaos Resistance","#% Monster Elemental Resistances"]},{"key":"MapUberWeakPlayersBlockAndArmour","english":["Players have #% less Armour","Players have #% reduced Chance to Block"]},{"key":"MapUberWeakPlayersEvasionAndUnluckyDodge","english":["Monsters have #% increased Accuracy Rating","Players have #% to amount of Suppressed Spell Damage Prevented"]},{"key":"MapUberWeakMonstersCantBeSlowedOrTaunted","english":["Monsters cannot be Taunted","Monsters' Action Speed cannot be modified to below Base Value\\nMonsters' Movement Speed cannot be modified to below Base Value"]},{"key":"MapUberModUnionOfSouls","english":["All Magic and Normal Monsters in Area are in a Union of Souls"]},{"key":"MapUberModMinusMax","english":["Players have #% to all maximum Resistances"]},{"key":"MapUberModDamageRotation","english":["Players and their Minions deal no damage for # out of every # seconds"]},{"key":"MapUberModMonsterDamage","english":["#% increased Monster Damage"]},{"key":"MapUberModLifeAsEnergyShield","english":["Monsters gain #% of Maximum Life as Extra Maximum Energy Shield"]},{"key":"MapUberModPossessedBoss","english":["Unique Bosses are Possessed"]},{"key":"MapUberModMonsterSuppress","english":["Monsters have #% chance to Suppress Spell Damage"]},{"key":"MapUberModMonsterAttackBlock","english":["Monsters have #% Chance to Block Attack Damage"]},{"key":"MapUberModNoLeech","english":["Monsters cannot be Leeched from"]},{"key":"MapUberModLessPlayerLeech","english":["Players have #% reduced Maximum total Life, Mana and Energy Shield Recovery per second from Leech"]},{"key":"MapUberModAOEPlayer","english":["Players have #% less Area of Effect"]},{"key":"MapUberModCritDefence","english":["Monsters take #% reduced Extra Damage from Critical Strikes"]},{"key":"MapUberModMonsterLife","english":["#% more Monster Life"]},{"key":"MapUberModShrineBuff","english":["Unique Monsters have a random Shrine Buff"]},{"key":"MapUberModVines","english":["Monsters inflict # Grasping Vines on Hit"]},{"key":"MapUberModVolatiles","english":["Rare Monsters have Volatile Cores"]},{"key":"MapUberModPetrify","english":["Area contains Petrification Statues"]},{"key":"MapUberModDamageAsElemental","english":["Monsters gain #% of their Physical Damage as Extra Damage of a random Element"]},{"key":"MapUberModDamageAsChaos","english":["Monsters gain #% of their Physical Damage as Extra Chaos Damage"]},{"key":"MapUberModSawblades","english":["Players are assaulted by Bloodstained Sawblades"]},{"key":"MapUberModFlaskMeteor","english":["Players are targeted by a Meteor when they use a Flask"]},{"key":"MapUberModGlobalDefences","english":["Players have #% less Defences"]},{"key":"MapUberModPlayerCurseEffect","english":["#% reduced Effect of Curses on Monsters"]},{"key":"MapUberModDrowningOrbs","english":["Area contains Drowning Orbs"]},{"key":"MapUberModAuraEffect","english":["Players have #% reduced effect of Non-Curse Auras from Skills"]},{"key":"MapUberModRecoveryRate","english":["Players have #% less Recovery Rate of Life and Energy Shield"]},{"key":"MapUberModBuffExpiry","english":["Buffs on Players expire #% faster"]},{"key":"MapUberModEleDamagePenetration","english":["Monster Damage Penetrates #% Elemental Resistances"]},{"key":"MapUberModActionSpeed","english":["Players have #% reduced Action Speed for each time they've used a Skill Recently"]},{"key":"MapUberModMarkedForDeath","english":["Players are Marked for Death for # seconds\\nafter killing a Rare or Unique monster"]},{"key":"MapUberModPercentDamage","english":["Rare and Unique Monsters remove #% of Life, Mana and Energy Shield from Players or their Minions on Hit"]},{"key":"MapUberModSirusMeteors","english":["[DNT] Sirus' Meteors rain down in Area"]},{"key":"MapUberModElderNovas","english":["Area contains Unstable Tentacle Fiends"]},{"key":"MapUberModSirusGround","english":["Area has patches of Awakeners' Desolation"]},{"key":"MapUberModShaperTouched","english":["Rare monsters in area are Shaper-Touched"]},{"key":"MapUberModTotemCount","english":["Players have # to maximum number of Summoned Totems"]},{"key":"MapUberModTotemLife","english":["#% of Damage Players' Totems take from Hits is taken from their Summoner's Life instead"]},{"key":"MapUberModAllyPunishment","english":["Players in Area take #% increased Damage per nearby Ally"]},{"key":"MapUberModSynthMiniboss","english":["Map Boss is accompanied by a Synthesis Boss"]},{"key":"MapUberModMonsterDebuffSpeed","english":["Debuffs on Monsters expire #% faster"]},{"key":"MapUberModExarch","english":["Area contains Runes of the Searing Exarch"]},{"key":"MapUberModMavenFollower","english":["The Maven interferes with Players"]},{"key":"MapUberModRareFracture","english":["#% chance for Rare Monsters to Fracture on death"]},{"key":"MapUberWeakHexproof","english":["Monsters are Hexproof"]},{"key":"MapUberWeakMonsterAreaOfEffect","english":["Monsters have #% increased Area of Effect"]},{"key":"MapUberWeakMonsterPhysicalResistance","english":["#% Monster Physical Damage Reduction"]},{"key":"MapUberWeakMonsterFireDamage","english":["Monsters deal #% extra Physical Damage as Fire"]},{"key":"MapUberWeakMonsterColdDamage","english":["Monsters deal #% extra Physical Damage as Cold"]},{"key":"MapUberWeakMonsterLightningDamage","english":["Monsters deal #% extra Physical Damage as Lightning"]},{"key":"MapUberWeakMonsterPhysicalReflection","english":["Monsters reflect #% of Physical Damage"]},{"key":"MapUberWeakMonsterElementalReflection","english":["Monsters reflect #% of Elemental Damage"]},{"key":"MapUberWeakBurningGround","english":["Area has patches of Burning Ground"]},{"key":"MapUberWeakChilledGroundSuffix","english":["Area has patches of Chilled Ground"]},{"key":"MapUberWeakShockedGround","english":["Area has patches of Shocked Ground which increase Damage taken by #%"]},{"key":"MapUberWeakDesecratedGround","english":["Area has patches of desecrated ground"]},{"key":"MapUberWeakPlayerCurseElementalWeakness","english":["Players are Cursed with Elemental Weakness"]},{"key":"MapUberWeakPlayerCurseVulnerability","english":["Players are Cursed with Vulnerability"]},{"key":"MapUberWeakPlayerCurseEnfeeblement","english":["Players are Cursed with Enfeeble"]},{"key":"MapUberWeakPlayerCurseTemporalChains","english":["Players are Cursed with Temporal Chains"]},{"key":"MapUberWeakPlayerNoLifeESRegen","english":["Players cannot Regenerate Life, Mana or Energy Shield"]},{"key":"MapUberWeakMonsterStatusAilmentImmunity","english":["Monsters have #% chance to Avoid Elemental Ailments"]},{"key":"MapUberWeakPlayersGainReducedFlaskCharges","english":["Players gain #% reduced Flask Charges"]},{"key":"MapUberWeakMonstersCurseEffectOnSelfFinal","english":["#% less effect of Curses on Monsters"]},{"key":"MapUberWeakMonstersChanceToInflictStatusAilments","english":["Monsters have a #% chance to Ignite, Freeze and Shock on Hit"]},{"key":"MapUberWeakMonstersAvoidPoisonBleedBlind","english":["Monsters have a #% chance to avoid Poison, Impale, and Bleeding"]},{"key":"MapUberWeakMonstersImpaleOnHit","english":["Monsters' Attacks have #% chance to Impale on Hit"]},{"key":"MapUberWeakConsecratedGround","english":["Area has patches of Consecrated Ground"]},{"key":"MapUberWeakPlayersLessCooldownRecovery","english":["Players have #% less Cooldown Recovery Rate"]},{"key":"MapUberWeakPlayersAccuracyRating","english":["Players have #% less Accuracy Rating"]},{"key":"MapUberWeakMonstersAllDamageAlwaysIgnites","english":["All Monster Damage from Hits always Ignites"]},{"key":"MapUberWeakMonstersFrenzyChargeOnHit","english":["Monsters gain a Frenzy Charge on Hit"]},{"key":"MapUberWeakMonstersEnduranceChargeOnHit","english":["Monsters gain an Endurance Charge on Hit"]},{"key":"MapUberWeakMonstersPowerChargeOnHit","english":["Monsters gain a Power Charge on Hit"]},{"key":"MapUberWeakMonstersBlindOnHit","english":["Monsters Blind on Hit"]},{"key":"MapUberWeakMonstersMaimOnHit","english":["Monsters Maim on Hit with Attacks"]},{"key":"MapUberWeakMonstersStealChargesOnHit","english":["Monsters steal Power, Frenzy and Endurance charges on Hit"]}]`),Ea=(e,t,n=!1)=>{if(n&&e.length<7||e.length===0)return[];const r=new Set,s=[],i=e.map(l=>({mod:l,escapedMod:l.replaceAll(/[-+]?(?:\(-?\d+(?:\.\d+)?(?: to |-)-?\d+(?:\.\d+)?\)|\d+(?:\.\d+)?)/g,"#")})),o=t==="normal"?Dk:t==="t17"?Fk:Nk;for(const{mod:l,escapedMod:c}of i){if(r.has(c))continue;const u=o.filter(d=>d.english.some(h=>h.includes(c)));let f=[];const a=u.find(d=>(f=[],d.english.every(h=>{const p=i.find(m=>h===m.escapedMod);return p&&f.push(p.mod),!!p})));a==null||a.english.forEach(d=>{r.add(d)}),a?s.push({key:a.key,english:f}):console.log("Mod for 8 mod map identification not found:",l)}return s},Lh=e=>e===void 0||e===!1||e===null,li=e=>(Object.keys(e).forEach(t=>{Lh(e[t])?delete e[t]:Array.isArray(e[t])?e[t]=e[t].filter(n=>!Lh(n)):typeof e[t]=="object"&&(e[t]=li(e[t]),Object.keys(e[t]).length===0&&delete e[t])}),e);var Lc=function(e,t){return Lc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Lc(e,t)};function od(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Lc(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Yt=function(){return Yt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Yt.apply(this,arguments)};function Xy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Wk(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(f){try{u(r.next(f))}catch(a){o(a)}}function c(f){try{u(r.throw(f))}catch(a){o(a)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((r=r.apply(e,[])).next())})}function Gy(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(f){u=[6,f],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function wi(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oc(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function ta(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function is(e){return this instanceof is?(this.v=e,this):new is(e)}function Uk(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(h){return function(p){return Promise.resolve(p).then(h,a)}}function l(h,p){r[h]&&(s[h]=function(m){return new Promise(function(g,y){i.push([h,m,g,y])>1||c(h,m)})},p&&(s[h]=p(s[h])))}function c(h,p){try{u(r[h](p))}catch(m){d(i[0][3],m)}}function u(h){h.value instanceof is?Promise.resolve(h.value.v).then(f,a):d(i[0][2],h)}function f(h){c("next",h)}function a(h){c("throw",h)}function d(h,p){h(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Vk(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof wi=="function"?wi(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(o){return new Promise(function(l,c){o=e[i](o),s(l,c,o.done,o.value)})}}function s(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}var Jy=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function ot(e){return typeof e=="function"}function Yy(e){return ot(e==null?void 0:e.then)}function Bk(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Pl=Bk(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Oh(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ad=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,s,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var l=wi(o),c=l.next();!c.done;c=l.next()){var u=c.value;u.remove(this)}}catch(m){t={error:m}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}else o.remove(this);var f=this.initialTeardown;if(ot(f))try{f()}catch(m){i=m instanceof Pl?m.errors:[m]}var a=this._finalizers;if(a){this._finalizers=null;try{for(var d=wi(a),h=d.next();!h.done;h=d.next()){var p=h.value;try{jh(p)}catch(m){i=i??[],m instanceof Pl?i=ta(ta([],Oc(i)),Oc(m.errors)):i.push(m)}}}catch(m){r={error:m}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}}if(i)throw new Pl(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)jh(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Oh(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Oh(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();ad.EMPTY;function Ky(e){return e instanceof ad||e&&"closed"in e&&ot(e.remove)&&ot(e.add)&&ot(e.unsubscribe)}function jh(e){ot(e)?e():e.unsubscribe()}var zk={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,ta([e,t],Oc(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function Zy(e){zk.setTimeout(function(){throw e})}function Rh(){}var ld=function(e){od(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Ky(n)&&n.add(r)):r.destination=Qk,r}return t.create=function(n,r,s){return new jc(n,r,s)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(ad),Hk=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){ho(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){ho(r)}else ho(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){ho(n)}},e}(),jc=function(e){od(t,e);function t(n,r,s){var i=e.call(this)||this,o;return ot(n)||!n?o={next:n??void 0,error:r??void 0,complete:s??void 0}:o=n,i.destination=new Hk(o),i}return t}(ld);function ho(e){Zy(e)}function qk(e){throw e}var Qk={closed:!0,next:Rh,error:qk,complete:Rh},cd=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Xk(e){return e}function Gk(e){return e.length===0?Xk:e.length===1?e[0]:function(t){return e.reduce(function(n,r){return r(n)},t)}}var Jk={Promise:void 0};function Yk(e){e()}var In=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var s=this,i=Zk(t)?t:new jc(t,n,r);return Yk(function(){var o=s,l=o.operator,c=o.source;i.add(l?l.call(i,c):c?s._subscribe(i):s._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Dh(n),new n(function(s,i){var o=new jc({next:function(l){try{t(l)}catch(c){i(c),o.unsubscribe()}},error:i,complete:s});r.subscribe(o)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[cd]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Gk(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Dh(t),new t(function(r,s){var i;n.subscribe(function(o){return i=o},function(o){return s(o)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function Dh(e){var t;return(t=e??Jk.Promise)!==null&&t!==void 0?t:Promise}function Kk(e){return e&&ot(e.next)&&ot(e.error)&&ot(e.complete)}function Zk(e){return e&&e instanceof ld||Kk(e)&&Ky(e)}function eb(e){return ot(e[cd])}function tb(e){return Symbol.asyncIterator&&ot(e==null?void 0:e[Symbol.asyncIterator])}function nb(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function e2(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var rb=e2();function sb(e){return ot(e==null?void 0:e[rb])}function ib(e){return Uk(this,arguments,function(){var t,n,r,s;return Gy(this,function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,is(t.read())];case 3:return n=i.sent(),r=n.value,s=n.done,s?[4,is(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,is(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function ob(e){return ot(e==null?void 0:e.getReader)}function ud(e){if(e instanceof In)return e;if(e!=null){if(eb(e))return t2(e);if(Jy(e))return n2(e);if(Yy(e))return r2(e);if(tb(e))return ab(e);if(sb(e))return s2(e);if(ob(e))return i2(e)}throw nb(e)}function t2(e){return new In(function(t){var n=e[cd]();if(ot(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function n2(e){return new In(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function r2(e){return new In(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Zy)})}function s2(e){return new In(function(t){var n,r;try{for(var s=wi(e),i=s.next();!i.done;i=s.next()){var o=i.value;if(t.next(o),t.closed)return}}catch(l){n={error:l}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}t.complete()})}function ab(e){return new In(function(t){o2(e,t).catch(function(n){return t.error(n)})})}function i2(e){return ab(ib(e))}function o2(e,t){var n,r,s,i;return Wk(this,void 0,void 0,function(){var o,l;return Gy(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=Vk(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=c.sent(),s={error:l},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function _r(e,t,n,r,s){r===void 0&&(r=0),s===void 0&&(s=!1);var i=t.schedule(function(){n(),s?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!s)return i}function a2(e){return ot(e==null?void 0:e.lift)}function dd(e){return function(t){if(a2(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function lb(e,t,n,r,s){return new l2(e,t,n,r,s)}var l2=function(e){od(t,e);function t(n,r,s,i,o,l){var c=e.call(this,n)||this;return c.onFinalize=o,c.shouldUnsubscribe=l,c._next=r?function(u){try{r(u)}catch(f){n.error(f)}}:e.prototype._next,c._error=i?function(u){try{i(u)}catch(f){n.error(f)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=s?function(){try{s()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(ld);function cb(e,t){return t===void 0&&(t=0),dd(function(n,r){n.subscribe(lb(r,function(s){return _r(r,e,function(){return r.next(s)},t)},function(){return _r(r,e,function(){return r.complete()},t)},function(s){return _r(r,e,function(){return r.error(s)},t)}))})}function ub(e,t){return t===void 0&&(t=0),dd(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function c2(e,t){return ud(e).pipe(ub(t),cb(t))}function u2(e,t){return ud(e).pipe(ub(t),cb(t))}function d2(e,t){return new In(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function f2(e,t){return new In(function(n){var r;return _r(n,t,function(){r=e[rb](),_r(n,t,function(){var s,i,o;try{s=r.next(),i=s.value,o=s.done}catch(l){n.error(l);return}o?n.complete():n.next(i)},0,!0)}),function(){return ot(r==null?void 0:r.return)&&r.return()}})}function db(e,t){if(!e)throw new Error("Iterable cannot be null");return new In(function(n){_r(n,t,function(){var r=e[Symbol.asyncIterator]();_r(n,t,function(){r.next().then(function(s){s.done?n.complete():n.next(s.value)})},0,!0)})})}function h2(e,t){return db(ib(e),t)}function p2(e,t){if(e!=null){if(eb(e))return c2(e,t);if(Jy(e))return d2(e,t);if(Yy(e))return u2(e,t);if(tb(e))return db(e,t);if(sb(e))return f2(e,t);if(ob(e))return h2(e,t)}throw nb(e)}function m2(e,t){return t?p2(e,t):ud(e)}function g2(e,t){return dd(function(n,r){var s=0;n.subscribe(lb(r,function(i){r.next(e.call(t,i,s++))}))})}let y2=class{constructor(){Ve(this,"pricingHandlers",[]);this.pricingHandlers.push(new b2,new W2,new k2,new x2,new $2,new M2,new v2,new w2,new _2,new T2,new E2,new C2,new A2,new S2,new I2,new P2,new O2,new L2,new j2,new R2,new N2,new F2,new U2,new V2,new B2,new z2,new H2,new q2,new D2,new Q2)}withGroupObservable(t){return m2(t).pipe(g2(n=>({data:n,group:this.group(n)})))}withGroup(t){return t.map(n=>({data:n,group:this.group(n)}))}group(t){if(t.lockedToAccount||t.lockedToCharacter)return null;for(const n of this.pricingHandlers){const r=n.group(t);if(r){const s=Pc({tag:r.tag,key:r.key,propertiesHash:li(r.hashProperties)},{unorderedArrays:!0,unorderedObjects:!0}),i={primary:{key:r.key,tag:r.tag,hash:s,unsafeHashProperties:li(r.hashProperties)}};if(n.extended){const o=n.extended(t);if(o){const l=Pc({tag:o.tag,key:o.key,propertiesHash:li(o.hashProperties)},{unorderedArrays:!0,unorderedObjects:!0});i.extended={key:o.key,tag:o.tag,hash:l,unsafeHashProperties:li(o.hashProperties)}}}return i}}return null}},b2=class{group(t){var n,r,s,i,o,l,c,u,f,a,d,h,p,m,g;if(t.baseType==="Inscribed Ultimatum"){const y=(o=(i=(s=(r=(n=t.properties)==null?void 0:n.filter(_=>_.name==="Challenge"))==null?void 0:r[0])==null?void 0:s.values)==null?void 0:i[0])==null?void 0:o[0],v=(a=(f=(u=(c=(l=t.properties)==null?void 0:l.filter(_=>{var S;return(S=_.name)==null?void 0:S.startsWith("Reward")}))==null?void 0:c[0])==null?void 0:u.values)==null?void 0:f[0])==null?void 0:a[0],I=(g=(m=(p=(h=(d=t.properties)==null?void 0:d.filter(_=>{var S;return(S=_.name)==null?void 0:S.startsWith("Requires Sacrifice")}))==null?void 0:h[0])==null?void 0:p.values)==null?void 0:m[0])==null?void 0:g[0];return{key:`${v}`,tag:"inscribed_ultimatum",hashProperties:{challenge:y,reward:v,sacrifice:I}}}return null}},v2=class{group(t){var n;return(n=t.typeLine)!=null&&n.endsWith(" Relic")&&t.rarity==="Unique"&&t.name?{key:t.name.toLowerCase(),tag:"unique_relic",hashProperties:{}}:null}},w2=class{group(t){var n;return(n=t.typeLine)!=null&&n.toLowerCase().includes("timeless jewel")&&t.identified?{key:t.name.toLowerCase(),tag:"timeless_jewel",hashProperties:{mods:t.explicitMods}}:null}},x2=class{group(t){var r;const n=((r=t.typeLine)==null?void 0:r.toLowerCase())??"";if(t.descrText==="Click and drag this item over a Monster Pack in the Lantern of Arimor to have those packs in the area replaced with this pack."&&n.includes("allflame ember")){const s=t.ilvl??t.itemLevel;return{key:n,tag:"allflame_ember",hashProperties:{ilvl:s<81?"<81":s>84?"84+":"81+"}}}return null}},S2=class{group(t){var r;const n=((r=t.typeLine)==null?void 0:r.toLowerCase())??"";return t.descrText==="Right click this item to create this corpse."?{key:n,tag:"corpse",hashProperties:{}}:null}},$2=class{group(t){var r;const n=((r=t.typeLine)==null?void 0:r.toLowerCase())??"";return t.descrText==="Can be used in a personal Map Device to add modifiers to a Map."&&n.includes("scarab")?{key:n,tag:"scarab",hashProperties:{}}:null}},M2=class{group(t){var n,r;return(n=t.icon)!=null&&n.endsWith("InventoryIcon.png")?{key:((r=t.typeLine)==null?void 0:r.toLowerCase())??"",tag:"card",hashProperties:{}}:null}},k2=class{group(t){var n,r,s;return(t.frameType===3||t.frameType===10)&&((n=t.baseType)==null?void 0:n.toLowerCase())==="prismatic jewel"&&((s=(r=t.icon)==null?void 0:r.toLowerCase())!=null&&s.includes("elderjewel.png"))&&!t.identified?{key:"unidentified watcher's eye",tag:"unique",hashProperties:{ilvl:t.ilvl??t.itemLevel}}:null}},I2=class{group(t){var n;if(((n=t.baseType)==null?void 0:n.toLowerCase())==="forbidden tome"&&t.identified){const r=t.ilvl??t.itemLevel;if(r){let s="<68";return r>=68&&r<73?s="68-72":r>=73&&r<78?s="73-77":r>=78&&r<83?s="78-82":r>=83&&(s="83+"),{key:"forbidden tome",tag:"forbidden_tome",hashProperties:{ilvl:s}}}}return null}},_2=class{constructor(){Ve(this,"prefixIds",["journey tattoo of the ","tattoo of the "])}group(t){var s;const n=((s=t.typeLine)==null?void 0:s.toLowerCase())??"",r=this.prefixIds.find(i=>n.startsWith(i));return r?{key:`${n.replaceAll(r,"")} tattoo`,tag:"tattoo",hashProperties:{}}:null}},T2=class{group(t){var r;const n=((r=t.typeLine)==null?void 0:r.toLowerCase())??"";return n.startsWith("omen of ")?{key:n,tag:"omen",hashProperties:{}}:null}},E2=class{group(t){var n,r,s,i,o;if(((n=t.baseType)==null?void 0:n.toLowerCase())==="blood-filled vessel"){const l=(o=(i=(s=(r=t.properties)==null?void 0:r.find(c=>c.name==="Monster Level"))==null?void 0:s.values)==null?void 0:i[0])==null?void 0:o[0];if(l)return{key:"blood-filled vessel",tag:"fragment",hashProperties:{monsterLvl:parseInt(l)}}}return null}},C2=class{group(t){var s,i,o,l,c,u,f,a;const n=(s=t.name)==null?void 0:s.toLowerCase(),r=(u=(c=(l=(o=(i=t.properties)==null?void 0:i.filter(d=>d.name==="Map Tier"))==null?void 0:o[0])==null?void 0:l.values)==null?void 0:c[0])==null?void 0:u[0];if((t.frameType===3||t.frameType===10)&&n&&!r){const d={key:n,tag:"unique",hashProperties:{sixLink:!1,corruptedMods:null,enchantMods:null}},h=Rk.decodeIcon(t.icon,0);let p=d;if(((f=t.sockets)==null?void 0:f.filter(m=>m.group===0).length)===6&&(p={...p,hashProperties:{...p.hashProperties,sixLink:!0}}),t.corrupted){const m=((a=t.implicitMods)==null?void 0:a.map(g=>g.replaceAll(/[0-9]+/g,"#")))??[];m.sort(),p={...p,hashProperties:{...p.hashProperties,corruptedMods:m.map(g=>g.toLowerCase())}}}else if(h!=null&&h.includes("helmet")){const m=(t.enchantMods??[]).map(g=>g.toLowerCase());m.sort(),m.length&&(p={...p,hashProperties:{...p.hashProperties,enchantMods:m}})}return p}return null}},A2=class{group(t){var s,i,o,l,c,u;const n=(s=t.name)==null?void 0:s.toLowerCase(),r=(u=(c=(l=(o=(i=t.properties)==null?void 0:i.filter(f=>f.name==="Map Tier"))==null?void 0:o[0])==null?void 0:l.values)==null?void 0:c[0])==null?void 0:u[0];return t.frameType,(t.frameType===3||t.frameType===10)&&n&&r?{key:n,tag:"unique_map",hashProperties:{tier:r}}:null}},P2=class{constructor(){Ve(this,"sellableRedBeasts",["craicic chimeral","vivid vulture","wild hellion alpha","vivid abberarach","farric lynx alpha","farric wolf alpha","craicic savage crab","saqawine cobra","primal rhex matriarch","vivid watcher","wild bristle matron","fenumal plagued arachnid","wild brambleback","craicic maw ","craicic vassal","craicic sand spitter","farric frost hellion alpha","farric tiger alpha","black mrrigan","primal cystcaller"]);Ve(this,"beastMods",["aspect of the hellion","blood geyser","churning claws","craicic presence","crimson flock","crushing claws","deep one's presence","erupting winds","farric presence","fenumal presence","fertile presence","hadal dive","incendiary mite","infested earth","putrid flight","raven caller","saqawine presence","satyr storm","spectral stampede","spectral swipe","tiger prey","unstable swarm","vile hatchery","winter bloom"])}group(t){var n;if((t==null?void 0:t.descrText)==="Right-click to add this to your bestiary."){const r=(t.explicitMods??[]).filter(i=>this.beastMods.includes(i.toLowerCase())).length,s=((n=t.baseType)==null?void 0:n.toLocaleLowerCase())??"";return this.sellableRedBeasts.includes(s)||(t==null?void 0:t.rarity)==="Unique"?{key:s,tag:"beast",hashProperties:{}}:{key:r===1?"yellow beast":"red beast",tag:"beast",hashProperties:{}}}return null}},L2=class{constructor(){Ve(this,"exceptionalGems",["enlighten","empower","enhance","enlighten support","empower support","enhance support"])}convertLvlToRange(t,n){return this.exceptionalGems.includes(t)||n>=20||t.includes("awakened")||n>=20?n.toString():"1-19"}convertQToRange(t,n){return n===23?n.toString():n>=20?"20":null}group(t){var n,r,s,i,o,l,c,u,f,a,d,h;if(t.support===!0||t.support===!1){const p=t.typeLine.toLowerCase(),m=this.convertQToRange(p,parseInt(((l=(o=(i=(s=(r=(n=t.properties)==null?void 0:n.filter(y=>y.name==="Quality"))==null?void 0:r[0])==null?void 0:s.values)==null?void 0:i[0])==null?void 0:o[0])==null?void 0:l.replace(/[^0-9]/g,""))??"0")),g=this.convertLvlToRange(p,parseInt(((h=(d=(a=(f=(u=(c=t.properties)==null?void 0:c.filter(y=>y.name==="Level"))==null?void 0:u[0])==null?void 0:f.values)==null?void 0:a[0])==null?void 0:d[0])==null?void 0:h.replace(/[^0-9]/g,""))??"1"));return{key:p,tag:"gem",hashProperties:{lvl:g??"1",corrupted:!!t.corrupted,quality:m}}}return null}},O2=class{group(t){var n,r,s,i,o,l,c,u,f;if(t.frameType===3||t.frameType===10)return null;if((r=(n=t.baseType)==null?void 0:n.toLowerCase())!=null&&r.includes("blueprint:")){const a=(c=(l=(o=(i=(s=t.properties)==null?void 0:s.filter(m=>m.name==="Wings Revealed"))==null?void 0:i[0])==null?void 0:o.values)==null?void 0:l[0])==null?void 0:c[0],d=t.ilvl??t.itemLevel,h=(u=a==null?void 0:a.split("/"))==null?void 0:u[1],p=((f=a==null?void 0:a.split("/"))==null?void 0:f[0])===h;if(h&&d){let m="<68";return d>=68&&d<73?m="68-72":d>=73&&d<78?m="73-77":d>=78&&d<83?m="78-82":d>=83&&(m="83+"),{key:"blueprint",tag:"blueprint",hashProperties:{ilvl:m,totalWings:parseInt(h),fullyRevealed:p,unmodifiable:!!t.corrupted||!!t.duplicated}}}}return null}},j2=class{group(t){var n,r,s,i,o,l,c,u;if(t.frameType===3||t.frameType===10)return null;if((r=(n=t.baseType)==null?void 0:n.toLowerCase())!=null&&r.includes("contract:")){const f=t.ilvl??t.itemLevel,a=(u=(c=(l=(o=(i=(s=t.properties)==null?void 0:s.filter(d=>d.name==="Requires {1} (Level {0})"))==null?void 0:i[0])==null?void 0:o.values)==null?void 0:l[1])==null?void 0:c[0])==null?void 0:u.toLowerCase();if(f&&a){let d="<68";return f>=68&&f<73?d="68-72":f>=73&&f<78?d="73-77":f>=78&&f<83?d="78-82":f>=83&&(d="83+"),{key:a+" contract",tag:"contract",hashProperties:{ilvl:d,unmodifiable:!!t.corrupted||!!t.duplicated}}}}return null}},R2=class{group(t){var n,r,s;if((r=(n=t.baseType)==null?void 0:n.toLowerCase())!=null&&r.includes("logbook")){const i=t.ilvl??t.itemLevel,o=((s=t.logbookMods)==null?void 0:s.map(c=>{var u,f;return(f=(u=c==null?void 0:c.faction)==null?void 0:u.name)==null?void 0:f.toLowerCase()}))??[];let l=null;if(o.includes("knights of the sun")?l="knights of the sun":o.includes("black scythe mercenaries")?l="black scythe mercenaries":o.includes("order of the chalice")?l="order of the chalice":o.includes("druids of the broken circle")&&(l="druids of the broken circle"),i&&l){let c="<68";return i>=68&&i<73?c="68-72":i>=73&&i<78?c="73-77":i>=78&&i<83?c="78-82":i>=83&&(c="83+"),{key:l+" logbook",tag:"logbook",hashProperties:{ilvl:c,unmodifiable:!!t.corrupted||!!t.duplicated,split:!!t.split}}}}return null}},D2=class{constructor(){Ve(this,"incubatorBaseTypes",new Set(["ornate incubator","diviner's incubator","otherworldly incubator","kalguuran incubator","thaumaturge's incubator","infused incubator","foreboding incubator","cartographer's incubator","skittering incubator","blighted incubator","singular incubator","primal incubator","celestial jeweller's incubator","fossilised incubator","abyssal incubator","mysterious incubator","celestial armoursmith's incubator","geomancer's incubator","fragmented incubator","celestial blacksmith's incubator","maddening incubator","morphing incubator","enchanted incubator","obscured incubator"]))}group(t){var r;const n=(r=t.baseType)==null?void 0:r.toLowerCase();if(n&&this.incubatorBaseTypes.has(n)){const s=t.ilvl??t.itemLevel;if(s)return{key:n,tag:"incubator",hashProperties:{ilvl:s>=83?"83+":"<83"}}}return null}},N2=class{group(t){var r,s,i,o,l;if(t.frameType===3||t.frameType===10)return null;const n=(r=t.baseType)==null?void 0:r.toLowerCase();if(n&&n.includes("cluster")){const c=((i=(s=t.enchantMods)==null?void 0:s.filter(a=>a.startsWith("Adds ")&&a.endsWith(" Passive Skills")))==null?void 0:i[0].split(" ")[1])??"-1",u=(l=(o=t.enchantMods)==null?void 0:o.filter(a=>a.startsWith("Added Small Passive Skills grant: ")))==null?void 0:l[0].replace("Added Small Passive Skills grant: ","").toLowerCase(),f=t.ilvl??t.itemLevel;if(u&&c&&f)return{key:n,tag:"cluster",hashProperties:{ilvl:f,clusterType:u,passives:parseInt(c)}}}return null}},F2=class{constructor(){Ve(this,"templeMods",new Set(["Locus of Corruption (Tier 3)","Doryani's Institute (Tier 3)","Wealth of the Vaal (Tier 3)","Apex of Atzoatl"]))}group(t){var n,r,s,i,o,l,c,u,f,a,d,h,p;if((r=(n=t.baseType)==null?void 0:n.toLowerCase())!=null&&r.includes("chronicle of atzoatl")){const m=(c=(l=(o=(i=(s=t.properties)==null?void 0:s.filter(y=>y.name==="Area Level"))==null?void 0:i[0])==null?void 0:o.values)==null?void 0:l[0])==null?void 0:c[0],g={};for(const y of t.additionalProperties||[]){if(y.name==="Obstructed Rooms:")break;(f=(u=y==null?void 0:y.values)==null?void 0:u[0])!=null&&f[0]&&this.templeMods.has((d=(a=y==null?void 0:y.values)==null?void 0:a[0])==null?void 0:d[0])&&(g[(p=(h=y==null?void 0:y.values)==null?void 0:h[0])==null?void 0:p[0]]=!0)}if(m)return{key:"alva temple",tag:"alva_temple",hashProperties:{tier:parseInt(m)>=83?"83+":"<83",...g}}}return null}},W2=class{group(t){var s,i,o,l,c,u,f,a,d,h;const n=(c=(l=(o=(i=(s=t.properties)==null?void 0:s.filter(p=>p.name==="Map Tier"))==null?void 0:i[0])==null?void 0:o.values)==null?void 0:l[0])==null?void 0:c[0],r=(h=(d=(a=(f=(u=t.properties)==null?void 0:u.filter(p=>p.name==="Reward"))==null?void 0:f[0])==null?void 0:a.values)==null?void 0:d[0])==null?void 0:h[0];return n&&r&&(t!=null&&t.name)?{key:`${t.name} ${t.typeLine}`,tag:"reward_map",hashProperties:{map:t.typeLine,mapTier:n,reward:r,mods:t.explicitMods}}:null}};const Ca=e=>{var s;if(!((s=e.enchantMods)!=null&&s.some(i=>i.startsWith("Delirium Reward Type"))))return;const t={},n={};let r=0;return e.enchantMods.filter(i=>i.startsWith("Delirium Reward Type")).forEach(i=>{const o=i.split(":")[1].trim();n[o]?n[o]++:n[o]=1,r++}),Object.entries(n).forEach(([i,o])=>{o>1?t[`${o}x ${i} Layer`]=!0:t[`${i} Layer`]=!0}),t.delirious=`${r*20}%`,t};let U2=class{group(t){var s,i,o,l,c,u;const n=(s=t.baseType)==null?void 0:s.toLowerCase(),r=(u=(c=(l=(o=(i=t.properties)==null?void 0:i.filter(f=>f.name==="Map Tier"))==null?void 0:o[0])==null?void 0:l.values)==null?void 0:c[0])==null?void 0:u[0];return r&&(n!=null&&n.startsWith("blighted"))?{key:n,tag:"blighted_map",hashProperties:{tier:r}}:null}extended(t){const n=this.group(t);return n?(n.hashProperties={...n.hashProperties,extended:{unmodifiable:!!t.corrupted||!!t.duplicated}},n):null}},V2=class{group(t){var s,i,o,l,c,u;const n=(s=t.baseType)==null?void 0:s.toLowerCase(),r=(u=(c=(l=(o=(i=t.properties)==null?void 0:i.filter(f=>f.name==="Map Tier"))==null?void 0:o[0])==null?void 0:l.values)==null?void 0:c[0])==null?void 0:u[0];return r&&(n!=null&&n.startsWith("blight-ravaged"))?{key:n,tag:"blighted_ravaged_map",hashProperties:{tier:r}}:null}extended(t){const n=this.group(t);return n?(n.hashProperties={...n.hashProperties,extended:{unmodifiable:!!t.corrupted||!!t.duplicated}},n):null}};const fb={"Map contains Al-Hezmin's Citadel\nItem Quantity increases amount of Rewards Al-Hezmin drops by 20% of its value":"al-hezmin's map","Map contains Veritania's Citadel\nItem Quantity increases amount of Rewards Veritania drops by 20% of its value":"veritania's map","Map contains Baran's Citadel\nItem Quantity increases amount of Rewards Baran drops by 20% of its value":"baran's map","Map contains Drox's Citadel\nItem Quantity increases amount of Rewards Drox drops by 20% of its value":"drox's map","Map is occupied by The Purifier":"purifier's map","Map is occupied by The Constrictor":"constrictor's map","Map is occupied by The Enslaver":"enslaver's map","Map is occupied by The Eradicator":"eradicator's map"};let B2=class{group(t){var r,s,i,o,l,c;const n=(l=(o=(i=(s=(r=t.properties)==null?void 0:r.filter(u=>u.name==="Map Tier"))==null?void 0:s[0])==null?void 0:i.values)==null?void 0:o[0])==null?void 0:l[0];if(n){const u=(c=t.implicitMods)==null?void 0:c.map(f=>fb[f]).filter(f=>!!f).join(",");if(u){const f={key:u,tag:"influenced_map",hashProperties:{tier:n,unmodifiable:!!t.corrupted||!!t.duplicated,"8 Mod":Ea(t.explicitMods||[],"normal",!0).length>=7}};return f.hashProperties["8 Mod"]&&f.hashProperties.unmodifiable&&delete f.hashProperties.unmodifiable,f}}return null}extended(t){const n=this.group(t);if(n){const r=Ca(t);return n.hashProperties={...n.hashProperties,extended:{...r}},n}return null}},z2=class{group(t){var s,i,o,l,c,u;const n=(s=t.baseType)==null?void 0:s.toLowerCase(),r=(u=(c=(l=(o=(i=t.properties)==null?void 0:i.filter(f=>f.name==="Map Tier"))==null?void 0:o[0])==null?void 0:l.values)==null?void 0:c[0])==null?void 0:u[0];if(n&&t.frameType!==3&&t.frameType!==10&&r==="17"){const f={key:n,tag:"t17_map",hashProperties:{tier:r,unmodifiable:!!t.corrupted||!!t.duplicated,"8 Mod":Ea(t.explicitMods||[],"t17",!0).length>=7}};return f.hashProperties["8 Mod"]&&f.hashProperties.unmodifiable&&delete f.hashProperties.unmodifiable,f}return null}extended(t){const n=this.group(t);if(n){const r=Ca(t);return n.hashProperties={...n.hashProperties,extended:{...r}},n}return null}},H2=class{group(t){var s,i,o,l,c,u,f;const n=(s=t.baseType)==null?void 0:s.toLowerCase(),r=(u=(c=(l=(o=(i=t.properties)==null?void 0:i.filter(a=>a.name==="Map Tier"))==null?void 0:o[0])==null?void 0:l.values)==null?void 0:c[0])==null?void 0:u[0];if(n&&t.frameType!==3&&t.frameType!==10&&r&&r!=="17"&&!(n!=null&&n.startsWith("blight"))&&((f=t.implicitMods)!=null&&f.some(a=>a.endsWith("Originator's Memories")))){const a={key:n,tag:"originator_map",hashProperties:{tier:r,originator:!0,unmodifiable:!!t.corrupted||!!t.duplicated,"8 Mod":Ea(t.explicitMods||[],"originator",!0).length>=7}};return a.hashProperties["8 Mod"]&&a.hashProperties.unmodifiable&&delete a.hashProperties.unmodifiable,a}return null}extended(t){const n=this.group(t);if(n){const r=Ca(t);return n.hashProperties={...n.hashProperties,extended:{...r}},n}return null}},q2=class{group(t){var s,i,o,l,c,u,f;const n=(s=t.baseType)==null?void 0:s.toLowerCase(),r=(u=(c=(l=(o=(i=t.properties)==null?void 0:i.filter(a=>a.name==="Map Tier"))==null?void 0:o[0])==null?void 0:l.values)==null?void 0:c[0])==null?void 0:u[0];if(n&&t.frameType!==3&&t.frameType!==10&&r&&r!=="17"&&!(n!=null&&n.startsWith("blight"))&&!((f=t.implicitMods)!=null&&f.map(a=>fb[a]).filter(a=>!!a).join(","))){const a={key:n,tag:"map",hashProperties:{tier:r,unmodifiable:!!t.corrupted||!!t.duplicated,"8 Mod":Ea(t.explicitMods||[],"normal",!0).length>=7}};return a.hashProperties["8 Mod"]&&a.hashProperties.unmodifiable&&delete a.hashProperties.unmodifiable,a}return null}extended(t){const n=this.group(t);if(n){const r=Ca(t);return n.hashProperties={...n.hashProperties,extended:{...r}},n}return null}},Q2=class{constructor(){Ve(this,"currencyGroupIds",{currency:{items:new Set(["gold","chaos orb","rogue's marker","mirror of kalandra","mirror shard","fracturing orb","tempering orb","orb of dominance","secondary regrading lens","maven's orb","divine orb","tailoring orb","tainted divine teardrop","hunter's exalted orb","prime regrading lens","sacred crystallised lifeforce","fracturing shard","tainted exalted orb","awakener's orb","orb of conflict","crusader's exalted orb","warlord's exalted orb","redeemer's exalted orb","eldritch chaos orb","sacred orb","blessing of chayula","exceptional eldritch ember","eldritch orb of annulment","exceptional eldritch ichor","tainted orb of fusing","exalted orb","tainted blessing","eldritch exalted orb","tainted mythic orb","blessing of uul-netol","blessing of tul","blessing of xoph","blessing of esh","grand eldritch ember","orb of annulment","tainted chaos orb","grand eldritch ichor","ancient orb","tainted chromatic orb","stacked deck","harbinger's orb","gemcutter's prism","orb of unmaking","greater eldritch ember","tainted jeweller's orb","regal orb","exalted shard","greater eldritch ichor","annulment shard","tainted armourer's scrap","orb of regret","vaal orb","blessed orb","orb of scouring","instilling orb","cartographer's chisel","enkindling orb","orb of horizons","glassblower's bauble","lesser eldritch ember","lesser eldritch ichor","orb of fusing","tainted blacksmith's whetstone","chromatic orb","orb of alchemy","orb of alteration","orb of augmentation","orb of binding","orb of chance","engineer's orb","jeweller's orb","portal scroll","vivid crystallised lifeforce","blacksmith's whetstone","armourer's scrap","orb of transmutation","wild crystallised lifeforce","primal crystallised lifeforce","scroll of wisdom","veiled scarab","hinekora's lock","valdo's puzzle box","reflecting mist","maven's chisel of procurement","maven's chisel of proliferation","maven's chisel of divination","maven's chisel of scarabs","maven's chisel of avarice","veiled chaos orb","veiled exalted orb","shaper's exalted orb","elder's exalted orb","orb of remembrance","orb of unravelling","orb of intention","augmentation implant","regal implant","exalted implant","unstable implant","foulborn orb of augmentation","foulborn regal orb","foulborn exalted orb"])},scouting_report:{items:new Set(["explorer's scouting report","vaal scouting report","singular scouting report","influenced scouting report","blighted scouting report","otherworldly scouting report","comprehensive scouting report","delirious scouting report","operative's scouting report"])},fossil:{items:new Set(["glyphic fossil","faceted fossil","fractured fossil","corroded fossil","hollow fossil","shuddering fossil","sanctified fossil","opulent fossil","bloodstained fossil","aetheric fossil","bound fossil","prismatic fossil","serrated fossil","tangled fossil","deft fossil","gilded fossil","jagged fossil","aberrant fossil","dense fossil","pristine fossil","lucent fossil","fundamental fossil","metallic fossil","scorched fossil","frigid fossil"])},resonator:{items:new Set(["prime chaotic resonator","powerful chaotic resonator","potent chaotic resonator","primitive chaotic resonator"])},artifacts:{items:new Set(["astragali","scrap metal","burial medallion","exotic coinage"])},misc:{items:new Set(["albino rhoa feather","facetor's lens"])},vial:{items:new Set(["vial of consequence","vial of the ghost","vial of dominance","vial of sacrifice","vial of transcendence","vial of summoning","vial of awakening","vial of the ritual","vial of fate"])},oil:{items:new Set(["golden oil","tainted oil","silver oil","opalescent oil","black oil","crimson oil","reflective oil","violet oil","azure oil","indigo oil","teal oil","verdant oil","amber oil","sepia oil","clear oil","prismatic oil"])},delirium_orb:{items:new Set(["skittering delirium orb","diviner's delirium orb","fine delirium orb","cartographer's delirium orb","fragmented delirium orb","abyssal delirium orb","singular delirium orb","fossilised delirium orb","thaumaturge's delirium orb","foreboding delirium orb","amorphous delirium orb","blacksmith's delirium orb","blighted delirium orb","timeless delirium orb","whispering delirium orb","imperial delirium orb","jeweller's delirium orb","obscured delirium orb","armoursmith's delirium orb"])},invitation:{items:new Set(["maven's invitation: the remembered","incandescent invitation","screaming invitation","polaric invitation","writhing invitation"])},breach:{items:new Set(["chayula's flawless breachstone","esh's flawless breachstone","uul-netol's flawless breachstone","xoph's flawless breachstone","chayula's pure breachstone","tul's flawless breachstone","chayula's enriched breachstone","uul-netol's pure breachstone","xoph's pure breachstone","tul's pure breachstone","esh's pure breachstone","xoph's enriched breachstone","uul-netol's enriched breachstone","chayula's charged breachstone","uul-netol's charged breachstone","esh's enriched breachstone","tul's enriched breachstone","uul-netol's breachstone","chayula's breachstone","esh's charged breachstone","xoph's charged breachstone","tul's charged breachstone","xoph's breachstone","tul's breachstone","esh's breachstone","splinter of uul-netol","splinter of chayula","splinter of xoph","splinter of tul","splinter of esh"])},grafts:{items:new Set(["fleshgraft","battering uulgraft","spiking uulgraft","impaling uulgraft","hardening uulgraft","molten xophgraft","erupting xophgraft","flamecaller xophgraft","stoking xophgraft","storming eshgraft","replicating eshgraft","draining eshgraft","jolting eshgraft","squalling tulgraft","freezing tulgraft","summoning tulgraft","aegis tulgraft"])},wombgifts:{items:new Set(["provisioning wombgift","lavish wombgift","ancient wombgift","growing wombgift","mysterious wombgift"])},fragment:{items:new Set(["visceral reliquary key","forgotten reliquary key","archive reliquary key","oubliette reliquary key","cosmic reliquary key","shiny reliquary key","voidborn reliquary key","lonely reliquary key","reverent reliquary key","traumatic reliquary key","gift to the goddess","the maven's writ","fragment of shape","fragment of knowledge","sacred blossom","fragment of emptiness","timeless maraketh emblem","dedication to the goddess","unrelenting timeless maraketh emblem","simulacrum","fragment of eradication","unrelenting timeless eternal emblem","fragment of enslavement","fragment of constriction","fragment of purification","al-hezmin's crest","baran's crest","drox's crest","veritania's crest","crescent splinter","unrelenting timeless templar emblem","fragment of the phoenix","fragment of the hydra","timeless templar emblem","fragment of the minotaur","mortal ignorance","tribute to the goddess","unrelenting timeless karui emblem","unrelenting timeless vaal emblem","mortal rage","mortal hope","fragment of the chimera","mortal grief","timeless vaal emblem","timeless karui emblem","fragment of terror","divine vessel","sacrifice at midnight","sacrifice at noon","offering to the goddess","sacrifice at dawn","timeless eternal emblem","timeless maraketh splinter","timeless templar splinter","sacrifice at dusk","timeless karui splinter","timeless vaal splinter","timeless eternal empire splinter","simulacrum splinter","cosmic fragment","decaying fragment","awakening fragment","synthesising fragment","reality fragment","devouring fragment","blazing fragment","an audience with the king","echo of trauma","echo of reverence","echo of loneliness","syndicate medallion","ritual vessel","hivebrain gland","traumatic fragment","reverent fragment","lonely fragment"])},catalyst:{items:new Set(["intrinsic catalyst","noxious catalyst","fertile catalyst","turbulent catalyst","imbued catalyst","abrasive catalyst","tempering catalyst","prismatic catalyst","accelerating catalyst","unstable catalyst","tainted catalyst"])},essence:{items:new Set(["essence of horror","essence of delirium","essence of insanity","essence of hysteria","deafening essence of loathing","deafening essence of contempt","deafening essence of envy","deafening essence of sorrow","deafening essence of zeal","deafening essence of woe","deafening essence of greed","deafening essence of hatred","deafening essence of rage","deafening essence of scorn","deafening essence of spite","shrieking essence of dread","shrieking essence of loathing","deafening essence of anger","deafening essence of dread","deafening essence of fear","deafening essence of misery","deafening essence of torment","deafening essence of wrath","shrieking essence of greed","deafening essence of doubt","deafening essence of suffering","shrieking essence of contempt","shrieking essence of envy","shrieking essence of rage","shrieking essence of scorn","shrieking essence of sorrow","shrieking essence of spite","shrieking essence of woe","shrieking essence of zeal","shrieking essence of wrath","shrieking essence of anger","shrieking essence of fear","remnant of corruption","shrieking essence of hatred","deafening essence of anguish","muttering essence of anger","muttering essence of contempt","muttering essence of fear","muttering essence of greed","muttering essence of hatred","muttering essence of sorrow","muttering essence of torment","muttering essence of woe","screaming essence of dread","screaming essence of envy","screaming essence of greed","screaming essence of loathing","shrieking essence of misery","shrieking essence of torment","wailing essence of anguish","wailing essence of contempt","wailing essence of doubt","wailing essence of fear","wailing essence of greed","wailing essence of hatred","wailing essence of loathing","wailing essence of rage","wailing essence of sorrow","wailing essence of spite","wailing essence of suffering","wailing essence of torment","wailing essence of woe","wailing essence of wrath","wailing essence of zeal","weeping essence of anger","weeping essence of contempt","weeping essence of doubt","weeping essence of fear","weeping essence of greed","weeping essence of hatred","weeping essence of rage","weeping essence of sorrow","weeping essence of suffering","weeping essence of torment","weeping essence of woe","weeping essence of wrath","whispering essence of contempt","whispering essence of greed","whispering essence of hatred","whispering essence of woe","wailing essence of anger","screaming essence of anger","shrieking essence of anguish","screaming essence of zeal","screaming essence of sorrow","screaming essence of fear","screaming essence of rage","screaming essence of woe","screaming essence of wrath","shrieking essence of doubt","screaming essence of contempt","screaming essence of hatred","screaming essence of scorn","screaming essence of spite","shrieking essence of suffering","screaming essence of misery","screaming essence of doubt","screaming essence of torment","screaming essence of anguish","screaming essence of suffering"])},runegraft:{items:new Set(["runegraft of the angler","runegraft of the bound","runegraft of the combatant","runegraft of the fortress","runegraft of the jeweller","runegraft of the novamark","runegraft of the river","runegraft of the sinistral","runegraft of the soulwick","runegraft of the warp","runegraft of the witchmark","runegraft of bellows","runegraft of blasphemy","runegraft of gemcraft","runegraft of loyalty","runegraft of quaffing","runegraft of refraction","runegraft of restitching","runegraft of stability","runegraft of time","runegraft of treachery"])},corpse:{items:new Set(["imperfect hydra","hydra","perfect hydra","imperfect frozen cannibal","frozen cannibal","perfect frozen cannibal","imperfect fiery cannibal","fiery cannibal","perfect fiery cannibal","imperfect dark marionette","dark marionette","perfect dark marionette","imperfect naval officer","naval officer","perfect naval officer","imperfect dancing sword","dancing sword","perfect dancing sword","imperfect needle horror","needle horror","perfect needle horror","imperfect serpent warrior","serpent warrior","perfect serpent warrior","imperfect pain artist","pain artist","perfect pain artist","imperfect sawblade horror","sawblade horror","perfect sawblade horror","imperfect blood demon","blood demon","perfect blood demon","imperfect slashing horror","slashing horror","perfect slashing horror","imperfect druidic alchemist","druidic alchemist","perfect druidic alchemist","imperfect blasphemer","blasphemer","perfect blasphemer","imperfect judgemental spirit","judgemental spirit","perfect judgemental spirit","imperfect primal thunderbird","primal thunderbird","perfect primal thunderbird","imperfect spirit of fortune","spirit of fortune","perfect spirit of fortune","imperfect primal demiurge","primal demiurge","perfect primal demiurge","imperfect runic skeleton","runic skeleton","perfect runic skeleton","imperfect warlord","warlord","perfect warlord","imperfect dark reaper","dark reaper","perfect dark reaper","imperfect hulking miscreation","hulking miscreation","perfect hulking miscreation","imperfect sanguimancer demon","sanguimancer demon","perfect sanguimancer demon","imperfect spider matriarch","spider matriarch","perfect spider matriarch","imperfect half-remembered goliath","half-remembered goliath","perfect half-remembered goliath","imperfect meatsack","meatsack","perfect meatsack","imperfect eldritch eye","eldritch eye","perfect eldritch eye","imperfect forest tiger","forest tiger","perfect forest tiger","imperfect guardian turtle","guardian turtle","perfect guardian turtle","imperfect shadow construct","shadow construct","perfect shadow construct","imperfect forest warrior","forest warrior","perfect forest warrior"])}})}group(t){var r;const n=((r=t.typeLine)==null?void 0:r.toLowerCase())??"";for(const[s,i]of Object.entries(this.currencyGroupIds))if(i.items.has(n))return{key:n,tag:s,hashProperties:{}};return null}};const X2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Nh={randomUUID:X2};let Ll;const G2=new Uint8Array(16);function J2(){if(!Ll){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ll=crypto.getRandomValues.bind(crypto)}return Ll(G2)}const st=[];for(let e=0;e<256;++e)st.push((e+256).toString(16).slice(1));function hb(e,t=0){return(st[e[t+0]]+st[e[t+1]]+st[e[t+2]]+st[e[t+3]]+"-"+st[e[t+4]]+st[e[t+5]]+"-"+st[e[t+6]]+st[e[t+7]]+"-"+st[e[t+8]]+st[e[t+9]]+"-"+st[e[t+10]]+st[e[t+11]]+st[e[t+12]]+st[e[t+13]]+st[e[t+14]]+st[e[t+15]]).toLowerCase()}function Hi(e,t,n){var s;if(Nh.randomUUID&&!e)return Nh.randomUUID();e=e||{};const r=e.random??((s=e.rng)==null?void 0:s.call(e))??J2();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,hb(r)}const Y2=new y2,TF=e=>e<Al.length?Al[e]:Al[0],EF=e=>e.map(t=>t.name).join(", "),CF=(e,t)=>tI(e,!1,t).map(n=>`${n.name};;${n.value}`).join(";;;"),K2=["ilvl","category"],Z2=[["tier","T"],["unmodifiable","UM"],["corrupted","C"]],eI=e=>{const t=Z2.find(n=>n[0]===e);return t?t[1]:e},Ol=(e,t,n)=>{const r=o=>!["mods","Mods"].some(l=>o.includes(l)),s=o=>!(!o||o==="0"),i=o=>n?!n.includes(o):!0;return r(e)&&s(t)&&i(e)},jl=(e,t,n,r)=>{const s=n?eI(e):e;let i=`${s}: ${t}`;return n&&(i=`${s}:${t}`),K2.includes(s)&&(i=`${t}`),t===!0&&(i=s),{name:s,value:t,displayValue:i,origin:r}},tI=(e={},t=!1,n)=>{const r=Object.entries(e).filter(([s,i])=>Ol(s,i,n)).map(([s,i])=>s==="custom"&&i&&typeof i=="object"?Object.entries(i).filter(([o,l])=>Ol(o,l,n)).map(([o,l])=>jl(o,l,t,"custom")):s==="extended"&&i&&typeof i=="object"?Object.entries(i).filter(([o,l])=>Ol(o,l,n)).map(([o,l])=>jl(o,l,t,"extended")):jl(s,i,t,"normal")).flat();return r.sort((s,i)=>s.displayValue.length-i.displayValue.length),r.map(s=>({name:s.name,value:s.displayValue,origin:s.origin}))},nI=(e,t)=>{let n=e||"";return t&&(n+=" "+t),n.replace("<<set:MS>><<set:M>><<set:S>>","").trim()},Rc=e=>{var n,r;if(e.primaryGroup){if(e.primaryGroup.tag){const s=((r=(n=Us.find(i=>i.tags.includes(e.primaryGroup.tag)))==null?void 0:n.parseName)==null?void 0:r.call(n,e))||"";if(s)return s}return e.primaryGroup.key.replace(/(^\w{1})|(\s+\w{1})/g,s=>s.toUpperCase())}const t=e.items[0];return sI(t.properties)&&t.frameType!==3?dI(t.implicitMods)||t.baseType:nI(t.name,t.frameType!==3?t.typeLine:void 0)},rI=(e,t)=>{const n=e.find(s=>s.name===t),r=n&&n.values?n.values[0][0]:"0";return parseInt(r,10)},sI=e=>e?rI(e,"Map Tier"):0,iI=e=>e.reduce((t,n)=>(n.stackSize||1)+t,0),oI=e=>e.maxStackSize||1;function aI(e,t){return e.find(n=>{var r,s,i;return(r=t.primaryGroup)!=null&&r.hash?((s=n.primaryGroup)==null?void 0:s.hash)===((i=t.primaryGroup)==null?void 0:i.hash):n.displayName===t.displayName})}function lI(e,t){return e.find(n=>{var r,s,i;return(r=t.primaryGroup)!=null&&r.hash?((s=n.primaryGroup)==null?void 0:s.hash)===((i=t.primaryGroup)==null?void 0:i.hash):Rc(n)===Rc(t)})}const cI={"Map contains Al-Hezmin's Citadel\nItem Quantity increases amount of Rewards Al-Hezmin drops by 20% of its value":"Al-Hezmin's Map","Map contains Veritania's Citadel\nItem Quantity increases amount of Rewards Veritania drops by 20% of its value":"Veritania's Map","Map contains Baran's Citadel\nItem Quantity increases amount of Rewards Baran drops by 20% of its value":"Baran's Map","Map contains Drox's Citadel\nItem Quantity increases amount of Rewards Drox drops by 20% of its value":"Drox's Map","Map is occupied by The Purifier":"Purifier's Map","Map is occupied by The Constrictor":"Constrictor's Map","Map is occupied by The Enslaver":"Enslaver's Map","Map is occupied by The Eradicator":"Eradicator's Map"},uI={"Al-Hezmin, The Hunter":`Map contains Al-Hezmin's Citadel
Item Quantity increases amount of Rewards Al-Hezmin drops by 20% of its value`,"Veritania, The Redeemer":`Map contains Veritania's Citadel
Item Quantity increases amount of Rewards Veritania drops by 20% of its value`,"Baran, The Crusader":`Map contains Baran's Citadel
Item Quantity increases amount of Rewards Baran drops by 20% of its value`,"Drox, The Warlord":`Map contains Drox's Citadel
Item Quantity increases amount of Rewards Drox drops by 20% of its value`,"The Purifier":"Map is occupied by The Purifier","The Constrictor":"Map is occupied by The Constrictor","The Enslaver":"Map is occupied by The Enslaver","The Eradicator":"Map is occupied by The Eradicator"},dI=e=>{if(!e)return;const t=Object.entries(cI).find(([n])=>e.some(r=>r.includes(n)));if(t)return t[1]},fI=e=>{const t=Object.entries(uI).find(([n])=>e.includes(n));if(t)return[t[1]]};function hI(e,t){var n;return(((n=e.children)==null?void 0:n.map(r=>{const s=r.metadata.map.section==="special",i=r.metadata.map.section==="unique",o=r.metadata.map.section==="tier17",l=!s&&!i,c=s?16:r.metadata.map.tier,u=s?83:67+r.metadata.map.tier;return{verified:!1,w:1,h:1,icon:r.metadata.map.image,league:t,id:Hi(),name:r.metadata.map.name,typeLine:l?r.metadata.map.name:s?`${r.metadata.map.name} Map`:r.metadata.map.name,baseType:l?r.metadata.map.name:s?`${r.metadata.map.name} Map`:r.metadata.map.name,identified:!0,ilvl:u,properties:[{name:"Map Tier",values:[[c.toString(),0]]},{name:"Rarity",values:[["unknown",0]]},{name:"Type",values:[[s?"special":i?"unqiue":o?"t17":"normal",0]]}],implicitMods:s?fI(r.metadata.map.name):[],explicitMods:[],descrText:"",frameType:i?3:0,x:-1,y:-1,inventoryId:e.name,stackSize:r.metadata.items,stashTabId:e.id}}))||[]).filter(r=>{var s;return!((s=r.properties)!=null&&s.some(i=>{var o,l;return i.name==="Type"&&((l=(o=i.values)==null?void 0:o[0])==null?void 0:l[0])==="normal"}))})}const pI=e=>typeof e!="string"?{id:e.id,name:e.name,index:e.index,type:e.type,color:e.metadata.colour||""}:{id:Hi(),name:e,index:-1,type:"NormalStash",color:""},AF=(e,t)=>t?e.filter(n=>{var s;if(!n.primaryGroup)return!0;const r=(s=t.filter)==null?void 0:s.call(t,n);return r===void 0?!0:r}):e,mI=["map","originator_map","t17_map","blighted_map","blighted_ravaged_map"],gI=(e,t,n,r,s)=>e.map(i=>{var f,a,d;let o=(f=r==null?void 0:r.getGroup)==null?void 0:f.call(r,i.group);!o&&i.group&&(mI.includes(i.group.primary.tag)?o=i.group.extended||i.group.primary:o=i.group.primary);const l=i.valuation||void 0;let c,u;if(o&&r&&s&&s[r.name]){const h=s[r.name],p=(a=r.customProps)==null?void 0:a.call(r,i.data,h);if(p){const[m,g]=p;c=m,c||(c=h.meta.basePrice),u=o,o={...o,hash:Pc({key:o.hash,unsafeHashProperties:g},{unorderedArrays:!0,unorderedObjects:!0}),unsafeHashProperties:{...o.unsafeHashProperties,custom:g}}}else c=h.meta.basePrice}return{percentile:n,primaryGroup:o,priceGroup:(d=i.group)==null?void 0:d.primary,filterGroup:u,valuation:l,items:[i.data],stashTabs:[t],basePrice:c}}),pb=(e,t)=>{e.calculatedPrice=void 0,e.calculatedTotalPrice=0;const n=e.selectedPrice??e.basePrice??e.originalPrice??0;(n!==void 0||e.originalPrice!==void 0)&&(e.calculatedPrice=vt(n*t,4),e.calculatedTotalPrice=vt(n*e.stackSize*t,4))},yI=(e,t,n)=>e.map(r=>{const s=r.items[0],i=r.valuation,o=iI(r.items)||1,l={displayName:Rc(r),originalPrice:i==null?void 0:i.primaryValue,calculatedTotalPrice:0,selectedPrice:void 0,stackSize:o,totalStacksize:oI(s),icon:s.icon,frameType:s.frameType,...r};return l.primaryGroup&&n&&n[l.primaryGroup.hash]!==void 0&&(l.selectedPrice=n[l.primaryGroup.hash]),pb(l,t??1),l.primaryGroup&&l.displayName==="Chaos Orb"&&(l.originalPrice=1,l.calculatedPrice=1*(t??1),l.calculatedTotalPrice=1*o*(t??1)),l});function bI(e,t){const n=[];return e.forEach(r=>{const s=aI(n,r);if(!s)n.push({...r});else{const i=n.indexOf(s);n[i].stackSize+=r.stackSize,pb(n[i],1),r.stashTabs!==void 0&&(n[i].stashTabs=[...n[i].stashTabs||[],...r.stashTabs],n[i].stashTabs=n[i].stashTabs.filter((o,l,c)=>c.findIndex(u=>u.id===o.id)===l).sort((o,l)=>o.index-l.index),n[i].items=[...n[i].items||[],...r.items])}}),n}function vI(e){const t=[];return e.forEach(n=>{const r=lI(t,n);if(!r)t.push({...n});else{const s=t.indexOf(r);t[s].items=[...t[s].items||[],...n.items||[]],n.stashTabs!==void 0&&(t[s].stashTabs=[...t[s].stashTabs||[],...n.stashTabs],t[s].stashTabs=t[s].stashTabs.filter((i,o,l)=>l.findIndex(c=>c.id===i.id)===o))}}),t}var Wo={exports:{}},wI=Wo.exports,Fh;function xI(){return Fh||(Fh=1,function(e,t){(function(n,r){e.exports=r()})(wI,function(){var n,r,s=1e3,i=6e4,o=36e5,l=864e5,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,f=2628e6,a=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,d={years:u,months:f,days:l,hours:o,minutes:i,seconds:s,milliseconds:1,weeks:6048e5},h=function(k){return k instanceof _},p=function(k,$,b){return new _(k,b,$.$l)},m=function(k){return r.p(k)+"s"},g=function(k){return k<0},y=function(k){return g(k)?Math.ceil(k):Math.floor(k)},v=function(k){return Math.abs(k)},I=function(k,$){return k?g(k)?{negative:!0,format:""+v(k)+$}:{negative:!1,format:""+k+$}:{negative:!1,format:""}},_=function(){function k(b,M,w){var E=this;if(this.$d={},this.$l=w,b===void 0&&(this.$ms=0,this.parseFromMilliseconds()),M)return p(b*d[m(M)],this);if(typeof b=="number")return this.$ms=b,this.parseFromMilliseconds(),this;if(typeof b=="object")return Object.keys(b).forEach(function(W){E.$d[m(W)]=b[W]}),this.calMilliseconds(),this;if(typeof b=="string"){var L=b.match(a);if(L){var Q=L.slice(2).map(function(W){return W!=null?Number(W):0});return this.$d.years=Q[0],this.$d.months=Q[1],this.$d.weeks=Q[2],this.$d.days=Q[3],this.$d.hours=Q[4],this.$d.minutes=Q[5],this.$d.seconds=Q[6],this.calMilliseconds(),this}}return this}var $=k.prototype;return $.calMilliseconds=function(){var b=this;this.$ms=Object.keys(this.$d).reduce(function(M,w){return M+(b.$d[w]||0)*d[w]},0)},$.parseFromMilliseconds=function(){var b=this.$ms;this.$d.years=y(b/u),b%=u,this.$d.months=y(b/f),b%=f,this.$d.days=y(b/l),b%=l,this.$d.hours=y(b/o),b%=o,this.$d.minutes=y(b/i),b%=i,this.$d.seconds=y(b/s),b%=s,this.$d.milliseconds=b},$.toISOString=function(){var b=I(this.$d.years,"Y"),M=I(this.$d.months,"M"),w=+this.$d.days||0;this.$d.weeks&&(w+=7*this.$d.weeks);var E=I(w,"D"),L=I(this.$d.hours,"H"),Q=I(this.$d.minutes,"M"),W=this.$d.seconds||0;this.$d.milliseconds&&(W+=this.$d.milliseconds/1e3,W=Math.round(1e3*W)/1e3);var U=I(W,"S"),N=b.negative||M.negative||E.negative||L.negative||Q.negative||U.negative,H=L.format||Q.format||U.format?"T":"",F=(N?"-":"")+"P"+b.format+M.format+E.format+H+L.format+Q.format+U.format;return F==="P"||F==="-P"?"P0D":F},$.toJSON=function(){return this.toISOString()},$.format=function(b){var M=b||"YYYY-MM-DDTHH:mm:ss",w={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return M.replace(c,function(E,L){return L||String(w[E])})},$.as=function(b){return this.$ms/d[m(b)]},$.get=function(b){var M=this.$ms,w=m(b);return w==="milliseconds"?M%=1e3:M=w==="weeks"?y(M/d[w]):this.$d[w],M||0},$.add=function(b,M,w){var E;return E=M?b*d[m(M)]:h(b)?b.$ms:p(b,this).$ms,p(this.$ms+E*(w?-1:1),this)},$.subtract=function(b,M){return this.add(b,M,!0)},$.locale=function(b){var M=this.clone();return M.$l=b,M},$.clone=function(){return p(this.$ms,this)},$.humanize=function(b){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!b)},$.valueOf=function(){return this.asMilliseconds()},$.milliseconds=function(){return this.get("milliseconds")},$.asMilliseconds=function(){return this.as("milliseconds")},$.seconds=function(){return this.get("seconds")},$.asSeconds=function(){return this.as("seconds")},$.minutes=function(){return this.get("minutes")},$.asMinutes=function(){return this.as("minutes")},$.hours=function(){return this.get("hours")},$.asHours=function(){return this.as("hours")},$.days=function(){return this.get("days")},$.asDays=function(){return this.as("days")},$.weeks=function(){return this.get("weeks")},$.asWeeks=function(){return this.as("weeks")},$.months=function(){return this.get("months")},$.asMonths=function(){return this.as("months")},$.years=function(){return this.get("years")},$.asYears=function(){return this.as("years")},k}(),S=function(k,$,b){return k.add($.years()*b,"y").add($.months()*b,"M").add($.days()*b,"d").add($.hours()*b,"h").add($.minutes()*b,"m").add($.seconds()*b,"s").add($.milliseconds()*b,"ms")};return function(k,$,b){n=b,r=b().$utils(),b.duration=function(E,L){var Q=b.locale();return p(E,{$l:Q},L)},b.isDuration=h;var M=$.prototype.add,w=$.prototype.subtract;$.prototype.add=function(E,L){return h(E)?S(this,E,1):M.bind(this)(E,L)},$.prototype.subtract=function(E,L){return h(E)?S(this,E,-1):w.bind(this)(E,L)}}})}(Wo)),Wo.exports}var SI=xI();const mb=Fs(SI);var Uo={exports:{}},$I=Uo.exports,Wh;function MI(){return Wh||(Wh=1,function(e,t){(function(n,r){e.exports=r()})($I,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(i,o,l){var c=o.prototype;l.utc=function(m){var g={date:m,utc:!0,args:arguments};return new o(g)},c.utc=function(m){var g=l(this.toDate(),{locale:this.$L,utc:!0});return m?g.add(this.utcOffset(),n):g},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),u.call(this,m)};var f=c.init;c.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else f.call(this)};var a=c.utcOffset;c.utcOffset=function(m,g){var y=this.$utils().u;if(y(m))return this.$u?0:y(this.$offset)?a.call(this):this.$offset;if(typeof m=="string"&&(m=function(S){S===void 0&&(S="");var k=S.match(r);if(!k)return null;var $=(""+k[0]).match(s)||["-",0,0],b=$[0],M=60*+$[1]+ +$[2];return M===0?0:b==="+"?M:-M}(m),m===null))return this;var v=Math.abs(m)<=16?60*m:m,I=this;if(g)return I.$offset=v,I.$u=m===0,I;if(m!==0){var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(I=this.local().add(v+_,n)).$offset=v,I.$x.$localOffset=_}else I=this.utc();return I};var d=c.format;c.format=function(m){var g=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,g)},c.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var h=c.toDate;c.toDate=function(m){return m==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var p=c.diff;c.diff=function(m,g,y){if(m&&this.$u===m.$u)return p.call(this,m,g,y);var v=this.local(),I=l(m).local();return p.call(v,I,g,y)}}})}(Uo)),Uo.exports}var kI=MI();const Aa=Fs(kI);de.extend(mb);de.extend(Aa);const II=({initialTimeLeft:e,timeOverCb:t,format:n})=>{const r=x.useRef([]),s=()=>{const l=de.utc(e).diff(de.utc());let c=0;l>0?c=Math.round(l/1e3):t==null||t();const u=de.duration(c,"seconds").format(c>59?"m[m] s[s]":"s[s]");return n?n(u):u},[i,o]=x.useState(()=>s());return x.useEffect(()=>{const l=setTimeout(()=>{const c=r.current.indexOf(l);c>-1&&r.current.splice(c,1),o(s())},1e3);r.current.push(l)}),x.useEffect(()=>()=>{r.current.forEach(l=>clearTimeout(l))},[]),P.jsx(P.Fragment,{children:i})};function Uh(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gb(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Uh(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Uh(e[s],null)}}}}function gt(...e){return x.useCallback(gb(...e),e)}function Pa(e){const t=_I(e),n=x.forwardRef((r,s)=>{const{children:i,...o}=r,l=x.Children.toArray(i),c=l.find(TI);if(c){const u=c.props.children,f=l.map(a=>a===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:a);return P.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return P.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var yb=Pa("Slot");function _I(e){const t=x.forwardRef((n,r)=>{const{children:s,...i}=n;if(x.isValidElement(s)){const o=CI(s),l=EI(i,s.props);return s.type!==x.Fragment&&(l.ref=r?gb(r,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bb=Symbol("radix.slottable");function vb(e){const t=({children:n})=>P.jsx(P.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=bb,t}function TI(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bb}function EI(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const l=i(...o);return s(...o),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function CI(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function wb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=wb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xb(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=wb(e))&&(r&&(r+=" "),r+=t);return r}const Vh=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Bh=xb,La=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Bh(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const f=n==null?void 0:n[u],a=i==null?void 0:i[u];if(f===null)return null;const d=Vh(f)||Vh(a);return s[u][d]}),l=n&&Object.entries(n).reduce((u,f)=>{let[a,d]=f;return d===void 0||(u[a]=d),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:a,className:d,...h}=f;return Object.entries(h).every(p=>{let[m,g]=p;return Array.isArray(g)?g.includes({...i,...l}[m]):{...i,...l}[m]===g})?[...u,a,d]:u},[]);return Bh(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},fd="-",AI=e=>{const t=LI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const i=s.split(fd);return i[0]===""&&i.length!==1&&i.shift(),Sb(i,t)||PI(s)},getConflictingClassGroupIds:(s,i)=>{const o=n[s]||[];return i&&r[s]?[...o,...r[s]]:o}}},Sb=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Sb(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(fd);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},zh=/^\[(.+)\]$/,PI=e=>{if(zh.test(e)){const t=zh.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},LI=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)Dc(n[s],r,s,t);return r},Dc=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Hh(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(OI(s)){Dc(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Dc(o,Hh(t,i),n,r)})})},Hh=(e,t)=>{let n=e;return t.split(fd).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},OI=e=>e.isThemeGetter,jI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Nc="!",Fc=":",RI=Fc.length,DI=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const i=[];let o=0,l=0,c=0,u;for(let p=0;p<s.length;p++){let m=s[p];if(o===0&&l===0){if(m===Fc){i.push(s.slice(c,p)),c=p+RI;continue}if(m==="/"){u=p;continue}}m==="["?o++:m==="]"?o--:m==="("?l++:m===")"&&l--}const f=i.length===0?s:s.substring(c),a=NI(f),d=a!==f,h=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:d,baseClassName:a,maybePostfixModifierPosition:h}};if(t){const s=t+Fc,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},NI=e=>e.endsWith(Nc)?e.substring(0,e.length-1):e.startsWith(Nc)?e.substring(1):e,FI=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(i=>{i[0]==="["||t[i]?(r.push(...s.sort(),i),s=[]):s.push(i)}),r.push(...s.sort()),r}},WI=e=>({cache:jI(e.cacheSize),parseClassName:DI(e),sortModifiers:FI(e),...AI(e)}),UI=/\s+/,VI=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],l=e.trim().split(UI);let c="";for(let u=l.length-1;u>=0;u-=1){const f=l[u],{isExternal:a,modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(f);if(a){c=f+(c.length>0?" "+c:c);continue}let g=!!m,y=r(g?p.substring(0,m):p);if(!y){if(!g){c=f+(c.length>0?" "+c:c);continue}if(y=r(p),!y){c=f+(c.length>0?" "+c:c);continue}g=!1}const v=i(d).join(":"),I=h?v+Nc:v,_=I+y;if(o.includes(_))continue;o.push(_);const S=s(y,g);for(let k=0;k<S.length;++k){const $=S[k];o.push(I+$)}c=f+(c.length>0?" "+c:c)}return c};function BI(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=$b(t))&&(r&&(r+=" "),r+=n);return r}const $b=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=$b(e[r]))&&(n&&(n+=" "),n+=t);return n};function zI(e,...t){let n,r,s,i=o;function o(c){const u=t.reduce((f,a)=>a(f),e());return n=WI(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const f=VI(c,n);return s(c,f),f}return function(){return i(BI.apply(null,arguments))}}const tt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Mb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,kb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,HI=/^\d+\/\d+$/,qI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,GI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qr=e=>HI.test(e),xe=e=>!!e&&!Number.isNaN(Number(e)),On=e=>!!e&&Number.isInteger(Number(e)),Rl=e=>e.endsWith("%")&&xe(e.slice(0,-1)),dn=e=>qI.test(e),YI=()=>!0,KI=e=>QI.test(e)&&!XI.test(e),Ib=()=>!1,ZI=e=>GI.test(e),e_=e=>JI.test(e),t_=e=>!le(e)&&!ce(e),n_=e=>Vs(e,Eb,Ib),le=e=>Mb.test(e),fr=e=>Vs(e,Cb,KI),Dl=e=>Vs(e,a_,xe),qh=e=>Vs(e,_b,Ib),r_=e=>Vs(e,Tb,e_),po=e=>Vs(e,Ab,ZI),ce=e=>kb.test(e),ni=e=>Bs(e,Cb),s_=e=>Bs(e,l_),Qh=e=>Bs(e,_b),i_=e=>Bs(e,Eb),o_=e=>Bs(e,Tb),mo=e=>Bs(e,Ab,!0),Vs=(e,t,n)=>{const r=Mb.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Bs=(e,t,n=!1)=>{const r=kb.exec(e);return r?r[1]?t(r[1]):n:!1},_b=e=>e==="position"||e==="percentage",Tb=e=>e==="image"||e==="url",Eb=e=>e==="length"||e==="size"||e==="bg-size",Cb=e=>e==="length",a_=e=>e==="number",l_=e=>e==="family-name",Ab=e=>e==="shadow",c_=()=>{const e=tt("color"),t=tt("font"),n=tt("text"),r=tt("font-weight"),s=tt("tracking"),i=tt("leading"),o=tt("breakpoint"),l=tt("container"),c=tt("spacing"),u=tt("radius"),f=tt("shadow"),a=tt("inset-shadow"),d=tt("text-shadow"),h=tt("drop-shadow"),p=tt("blur"),m=tt("perspective"),g=tt("aspect"),y=tt("ease"),v=tt("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[..._(),ce,le],k=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],b=()=>[ce,le,c],M=()=>[Qr,"full","auto",...b()],w=()=>[On,"none","subgrid",ce,le],E=()=>["auto",{span:["full",On,ce,le]},On,ce,le],L=()=>[On,"auto",ce,le],Q=()=>["auto","min","max","fr",ce,le],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],U=()=>["start","end","center","stretch","center-safe","end-safe"],N=()=>["auto",...b()],H=()=>[Qr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],F=()=>[e,ce,le],Z=()=>[..._(),Qh,qh,{position:[ce,le]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ae=()=>["auto","cover","contain",i_,n_,{size:[ce,le]}],Me=()=>[Rl,ni,fr],fe=()=>["","none","full",u,ce,le],ye=()=>["",xe,ni,fr],Le=()=>["solid","dashed","dotted","double"],Je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>[xe,Rl,Qh,qh],Y=()=>["","none",p,ce,le],T=()=>["none",xe,ce,le],A=()=>["none",xe,ce,le],O=()=>[xe,ce,le],q=()=>[Qr,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[dn],breakpoint:[dn],color:[YI],container:[dn],"drop-shadow":[dn],ease:["in","out","in-out"],font:[t_],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[dn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[dn],shadow:[dn],spacing:["px",xe],text:[dn],"text-shadow":[dn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qr,le,ce,g]}],container:["container"],columns:[{columns:[xe,le,ce,l]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[On,"auto",ce,le]}],basis:[{basis:[Qr,"full","auto",l,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[xe,Qr,"auto","initial","none",le]}],grow:[{grow:["",xe,ce,le]}],shrink:[{shrink:["",xe,ce,le]}],order:[{order:[On,"first","last","none",ce,le]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:E()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:E()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...U(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...U(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:N()}],mx:[{mx:N()}],my:[{my:N()}],ms:[{ms:N()}],me:[{me:N()}],mt:[{mt:N()}],mr:[{mr:N()}],mb:[{mb:N()}],ml:[{ml:N()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[l,"screen",...H()]}],"min-w":[{"min-w":[l,"screen","none",...H()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",n,ni,fr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ce,Dl]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Rl,le]}],"font-family":[{font:[s_,le,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ce,le]}],"line-clamp":[{"line-clamp":[xe,"none",ce,Dl]}],leading:[{leading:[i,...b()]}],"list-image":[{"list-image":["none",ce,le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ce,le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Le(),"wavy"]}],"text-decoration-thickness":[{decoration:[xe,"from-font","auto",ce,fr]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[xe,"auto",ce,le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce,le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce,le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:ae()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},On,ce,le],radial:["",ce,le],conic:[On,ce,le]},o_,r_]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:Me()}],"gradient-via-pos":[{via:Me()}],"gradient-to-pos":[{to:Me()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:fe()}],"rounded-s":[{"rounded-s":fe()}],"rounded-e":[{"rounded-e":fe()}],"rounded-t":[{"rounded-t":fe()}],"rounded-r":[{"rounded-r":fe()}],"rounded-b":[{"rounded-b":fe()}],"rounded-l":[{"rounded-l":fe()}],"rounded-ss":[{"rounded-ss":fe()}],"rounded-se":[{"rounded-se":fe()}],"rounded-ee":[{"rounded-ee":fe()}],"rounded-es":[{"rounded-es":fe()}],"rounded-tl":[{"rounded-tl":fe()}],"rounded-tr":[{"rounded-tr":fe()}],"rounded-br":[{"rounded-br":fe()}],"rounded-bl":[{"rounded-bl":fe()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Le(),"hidden","none"]}],"divide-style":[{divide:[...Le(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...Le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[xe,ce,le]}],"outline-w":[{outline:["",xe,ni,fr]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",f,mo,po]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",a,mo,po]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[xe,fr]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",d,mo,po]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[xe,ce,le]}],"mix-blend":[{"mix-blend":[...Je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[xe]}],"mask-image-linear-from-pos":[{"mask-linear-from":G()}],"mask-image-linear-to-pos":[{"mask-linear-to":G()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":G()}],"mask-image-t-to-pos":[{"mask-t-to":G()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":G()}],"mask-image-r-to-pos":[{"mask-r-to":G()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":G()}],"mask-image-b-to-pos":[{"mask-b-to":G()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":G()}],"mask-image-l-to-pos":[{"mask-l-to":G()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":G()}],"mask-image-x-to-pos":[{"mask-x-to":G()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":G()}],"mask-image-y-to-pos":[{"mask-y-to":G()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[ce,le]}],"mask-image-radial-from-pos":[{"mask-radial-from":G()}],"mask-image-radial-to-pos":[{"mask-radial-to":G()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[xe]}],"mask-image-conic-from-pos":[{"mask-conic-from":G()}],"mask-image-conic-to-pos":[{"mask-conic-to":G()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:ae()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ce,le]}],filter:[{filter:["","none",ce,le]}],blur:[{blur:Y()}],brightness:[{brightness:[xe,ce,le]}],contrast:[{contrast:[xe,ce,le]}],"drop-shadow":[{"drop-shadow":["","none",h,mo,po]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",xe,ce,le]}],"hue-rotate":[{"hue-rotate":[xe,ce,le]}],invert:[{invert:["",xe,ce,le]}],saturate:[{saturate:[xe,ce,le]}],sepia:[{sepia:["",xe,ce,le]}],"backdrop-filter":[{"backdrop-filter":["","none",ce,le]}],"backdrop-blur":[{"backdrop-blur":Y()}],"backdrop-brightness":[{"backdrop-brightness":[xe,ce,le]}],"backdrop-contrast":[{"backdrop-contrast":[xe,ce,le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",xe,ce,le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[xe,ce,le]}],"backdrop-invert":[{"backdrop-invert":["",xe,ce,le]}],"backdrop-opacity":[{"backdrop-opacity":[xe,ce,le]}],"backdrop-saturate":[{"backdrop-saturate":[xe,ce,le]}],"backdrop-sepia":[{"backdrop-sepia":["",xe,ce,le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ce,le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[xe,"initial",ce,le]}],ease:[{ease:["linear","initial",y,ce,le]}],delay:[{delay:[xe,ce,le]}],animate:[{animate:["none",v,ce,le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,ce,le]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:T()}],"rotate-x":[{"rotate-x":T()}],"rotate-y":[{"rotate-y":T()}],"rotate-z":[{"rotate-z":T()}],scale:[{scale:A()}],"scale-x":[{"scale-x":A()}],"scale-y":[{"scale-y":A()}],"scale-z":[{"scale-z":A()}],"scale-3d":["scale-3d"],skew:[{skew:O()}],"skew-x":[{"skew-x":O()}],"skew-y":[{"skew-y":O()}],transform:[{transform:[ce,le,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:q()}],"translate-x":[{"translate-x":q()}],"translate-y":[{"translate-y":q()}],"translate-z":[{"translate-z":q()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce,le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce,le]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[xe,ni,fr,Dl]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},u_=zI(c_);function je(...e){return u_(xb(e))}const hd=La("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:border-blue-1 focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50  [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",noVariant:"",link:"text-primary underline-offset-4 hover:underline",select:"border border-border bg-background shadow-sm hover:bg-accent hover:text-accent-foreground rounded-md"},size:{default:"h-9 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-10 px-8",icon:"h-9 w-9",inputEndIcon:"h-[33px] w-9 mt-[0.5px]",floatingIcon:"h-10 w-10",floatingIconPrimary:"h-11 w-11",noSize:""}},defaultVariants:{variant:"default",size:"default"}}),Oa=x.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>P.jsx(r?yb:"button",{className:je(hd({variant:t,size:n,className:e})),ref:i,...s}));Oa.displayName="Button";function Pb(e,t){return function(){return e.apply(t,arguments)}}const{toString:d_}=Object.prototype,{getPrototypeOf:pd}=Object,{iterator:ja,toStringTag:Lb}=Symbol,Ra=(e=>t=>{const n=d_.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),zt=e=>(e=e.toLowerCase(),t=>Ra(t)===e),Da=e=>t=>typeof t===e,{isArray:zs}=Array,xi=Da("undefined");function f_(e){return e!==null&&!xi(e)&&e.constructor!==null&&!xi(e.constructor)&&wt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ob=zt("ArrayBuffer");function h_(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ob(e.buffer),t}const p_=Da("string"),wt=Da("function"),jb=Da("number"),Na=e=>e!==null&&typeof e=="object",m_=e=>e===!0||e===!1,Vo=e=>{if(Ra(e)!=="object")return!1;const t=pd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Lb in e)&&!(ja in e)},g_=zt("Date"),y_=zt("File"),b_=zt("Blob"),v_=zt("FileList"),w_=e=>Na(e)&&wt(e.pipe),x_=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||wt(e.append)&&((t=Ra(e))==="formdata"||t==="object"&&wt(e.toString)&&e.toString()==="[object FormData]"))},S_=zt("URLSearchParams"),[$_,M_,k_,I_]=["ReadableStream","Request","Response","Headers"].map(zt),__=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qi(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),zs(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function Rb(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const yr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Db=e=>!xi(e)&&e!==yr;function Wc(){const{caseless:e}=Db(this)&&this||{},t={},n=(r,s)=>{const i=e&&Rb(t,s)||s;Vo(t[i])&&Vo(r)?t[i]=Wc(t[i],r):Vo(r)?t[i]=Wc({},r):zs(r)?t[i]=r.slice():t[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&qi(arguments[r],n);return t}const T_=(e,t,n,{allOwnKeys:r}={})=>(qi(t,(s,i)=>{n&&wt(s)?e[i]=Pb(s,n):e[i]=s},{allOwnKeys:r}),e),E_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),C_=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},A_=(e,t,n,r)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&pd(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},P_=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},L_=e=>{if(!e)return null;if(zs(e))return e;let t=e.length;if(!jb(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},O_=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&pd(Uint8Array)),j_=(e,t)=>{const n=(e&&e[ja]).call(e);let r;for(;(r=n.next())&&!r.done;){const s=r.value;t.call(e,s[0],s[1])}},R_=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},D_=zt("HTMLFormElement"),N_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),Xh=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),F_=zt("RegExp"),Nb=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};qi(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},W_=e=>{Nb(e,(t,n)=>{if(wt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(wt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},U_=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return zs(e)?r(e):r(String(e).split(t)),n},V_=()=>{},B_=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function z_(e){return!!(e&&wt(e.append)&&e[Lb]==="FormData"&&e[ja])}const H_=e=>{const t=new Array(10),n=(r,s)=>{if(Na(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const i=zs(r)?[]:{};return qi(r,(o,l)=>{const c=n(o,s+1);!xi(c)&&(i[l]=c)}),t[s]=void 0,i}}return r};return n(e,0)},q_=zt("AsyncFunction"),Q_=e=>e&&(Na(e)||wt(e))&&wt(e.then)&&wt(e.catch),Fb=((e,t)=>e?setImmediate:t?((n,r)=>(yr.addEventListener("message",({source:s,data:i})=>{s===yr&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),yr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",wt(yr.postMessage)),X_=typeof queueMicrotask<"u"?queueMicrotask.bind(yr):typeof process<"u"&&process.nextTick||Fb,G_=e=>e!=null&&wt(e[ja]),X={isArray:zs,isArrayBuffer:Ob,isBuffer:f_,isFormData:x_,isArrayBufferView:h_,isString:p_,isNumber:jb,isBoolean:m_,isObject:Na,isPlainObject:Vo,isReadableStream:$_,isRequest:M_,isResponse:k_,isHeaders:I_,isUndefined:xi,isDate:g_,isFile:y_,isBlob:b_,isRegExp:F_,isFunction:wt,isStream:w_,isURLSearchParams:S_,isTypedArray:O_,isFileList:v_,forEach:qi,merge:Wc,extend:T_,trim:__,stripBOM:E_,inherits:C_,toFlatObject:A_,kindOf:Ra,kindOfTest:zt,endsWith:P_,toArray:L_,forEachEntry:j_,matchAll:R_,isHTMLForm:D_,hasOwnProperty:Xh,hasOwnProp:Xh,reduceDescriptors:Nb,freezeMethods:W_,toObjectSet:U_,toCamelCase:N_,noop:V_,toFiniteNumber:B_,findKey:Rb,global:yr,isContextDefined:Db,isSpecCompliantForm:z_,toJSONObject:H_,isAsyncFn:q_,isThenable:Q_,setImmediate:Fb,asap:X_,isIterable:G_};function ve(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}X.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const Wb=ve.prototype,Ub={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ub[e]={value:e}});Object.defineProperties(ve,Ub);Object.defineProperty(Wb,"isAxiosError",{value:!0});ve.from=(e,t,n,r,s,i)=>{const o=Object.create(Wb);return X.toFlatObject(e,o,function(l){return l!==Error.prototype},l=>l!=="isAxiosError"),ve.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};function Uc(e){return X.isPlainObject(e)||X.isArray(e)}function Vb(e){return X.endsWith(e,"[]")?e.slice(0,-2):e}function Gh(e,t,n){return e?e.concat(t).map(function(r,s){return r=Vb(r),!n&&s?"["+r+"]":r}).join(n?".":""):t}function J_(e){return X.isArray(e)&&!e.some(Uc)}const Y_=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function Fa(e,t,n){if(!X.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,p){return!X.isUndefined(p[h])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(t);if(!X.isFunction(s))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(X.isDate(h))return h.toISOString();if(!l&&X.isBlob(h))throw new ve("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(h)||X.isTypedArray(h)?l&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,p,m){let g=h;if(h&&!m&&typeof h=="object"){if(X.endsWith(p,"{}"))p=r?p:p.slice(0,-2),h=JSON.stringify(h);else if(X.isArray(h)&&J_(h)||(X.isFileList(h)||X.endsWith(p,"[]"))&&(g=X.toArray(h)))return p=Vb(p),g.forEach(function(y,v){!(X.isUndefined(y)||y===null)&&t.append(o===!0?Gh([p],v,i):o===null?p:p+"[]",c(y))}),!1}return Uc(h)?!0:(t.append(Gh(m,p,i),c(h)),!1)}const f=[],a=Object.assign(Y_,{defaultVisitor:u,convertValue:c,isVisitable:Uc});function d(h,p){if(!X.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(h),X.forEach(h,function(m,g){(!(X.isUndefined(m)||m===null)&&s.call(t,m,X.isString(g)?g.trim():g,p,a))===!0&&d(m,p?p.concat(g):[g])}),f.pop()}}if(!X.isObject(e))throw new TypeError("data must be an object");return d(e),t}function Jh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function md(e,t){this._pairs=[],e&&Fa(e,this,t)}const Bb=md.prototype;Bb.append=function(e,t){this._pairs.push([e,t])};Bb.toString=function(e){const t=e?function(n){return e.call(this,n,Jh)}:Jh;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function K_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zb(e,t,n){if(!t)return e;const r=n&&n.encode||K_;X.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=X.isURLSearchParams(t)?t.toString():new md(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}let Yh=class{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){X.forEach(this.handlers,function(n){n!==null&&t(n)})}};const Hb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Z_=typeof URLSearchParams<"u"?URLSearchParams:md,eT=typeof FormData<"u"?FormData:null,tT=typeof Blob<"u"?Blob:null,nT={isBrowser:!0,classes:{URLSearchParams:Z_,FormData:eT,Blob:tT},protocols:["http","https","file","blob","url","data"]},gd=typeof window<"u"&&typeof document<"u",Vc=typeof navigator=="object"&&navigator||void 0,rT=gd&&(!Vc||["ReactNative","NativeScript","NS"].indexOf(Vc.product)<0),sT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",iT=gd&&window.location.href||"http://localhost",oT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gd,hasStandardBrowserEnv:rT,hasStandardBrowserWebWorkerEnv:sT,navigator:Vc,origin:iT},Symbol.toStringTag,{value:"Module"})),dt={...oT,...nT};function aT(e,t){return Fa(e,new dt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return dt.isNode&&X.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function lT(e){return X.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function cT(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function qb(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&X.isArray(s)?s.length:o,c?(X.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!X.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&X.isArray(s[o])&&(s[o]=cT(s[o])),!l)}if(X.isFormData(e)&&X.isFunction(e.entries)){const n={};return X.forEachEntry(e,(r,s)=>{t(lT(r),s,n,0)}),n}return null}function uT(e,t,n){if(X.isString(e))try{return(t||JSON.parse)(e),X.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const Qi={transitional:Hb,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=X.isObject(e);if(s&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return r?JSON.stringify(qb(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return aT(e,this.formSerializer).toString();if((i=X.isFileList(e))||n.indexOf("multipart/form-data")>-1){const o=this.env&&this.env.FormData;return Fa(i?{"files[]":e}:e,o&&new o,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),uT(e)):e}],transformResponse:[function(e){const t=this.transitional||Qi.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(n&&!this.responseType||r)){const s=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(s)throw i.name==="SyntaxError"?ve.from(i,ve.ERR_BAD_RESPONSE,this,null,this.response):i}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dt.classes.FormData,Blob:dt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],e=>{Qi.headers[e]={}});const dT=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fT=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&dT[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Kh=Symbol("internals");function ri(e){return e&&String(e).trim().toLowerCase()}function Bo(e){return e===!1||e==null?e:X.isArray(e)?e.map(Bo):String(e)}function hT(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const pT=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Nl(e,t,n,r,s){if(X.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!X.isString(t)){if(X.isString(r))return t.indexOf(r)!==-1;if(X.isRegExp(r))return r.test(t)}}function mT(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function gT(e,t){const n=X.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let xt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(l,c,u){const f=ri(c);if(!f)throw new Error("header name must be a non-empty string");const a=X.findKey(s,f);(!a||s[a]===void 0||u===!0||u===void 0&&s[a]!==!1)&&(s[a||c]=Bo(l))}const o=(l,c)=>X.forEach(l,(u,f)=>i(u,f,c));if(X.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(X.isString(t)&&(t=t.trim())&&!pT(t))o(fT(t),n);else if(X.isObject(t)&&X.isIterable(t)){let l={},c,u;for(const f of t){if(!X.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[u=f[0]]=(c=l[u])?X.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}o(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=ri(t),t){const r=X.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return hT(s);if(X.isFunction(n))return n.call(this,s,r);if(X.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ri(t),t){const r=X.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Nl(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=ri(o),o){const l=X.findKey(r,o);l&&(!n||Nl(r,r[l],l,n))&&(delete r[l],s=!0)}}return X.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Nl(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return X.forEach(this,(s,i)=>{const o=X.findKey(r,i);if(o){n[o]=Bo(s),delete n[i];return}const l=t?mT(i):String(i).trim();l!==i&&delete n[i],n[l]=Bo(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return X.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&X.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const n=(this[Kh]=this[Kh]={accessors:{}}).accessors,r=this.prototype;function s(i){const o=ri(i);n[o]||(gT(r,i),n[o]=!0)}return X.isArray(t)?t.forEach(s):s(t),this}};xt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(xt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});X.freezeMethods(xt);function Fl(e,t){const n=this||Qi,r=t||n,s=xt.from(r.headers);let i=r.data;return X.forEach(e,function(o){i=o.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Qb(e){return!!(e&&e.__CANCEL__)}function Hs(e,t,n){ve.call(this,e??"canceled",ve.ERR_CANCELED,t,n),this.name="CanceledError"}X.inherits(Hs,ve,{__CANCEL__:!0});const yT=null;function Xb(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ve("Request failed with status code "+n.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function bT(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function vT(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),n[s]=l,r[s]=c;let f=i,a=0;for(;f!==s;)a+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const d=u&&c-u;return d?Math.round(a*1e3/d):void 0}}function wT(e,t){let n=0,r=1e3/t,s,i;const o=(l,c=Date.now())=>{n=c,s=null,i&&(clearTimeout(i),i=null),e.apply(null,l)};return[(...l)=>{const c=Date.now(),u=c-n;u>=r?o(l,c):(s=l,i||(i=setTimeout(()=>{i=null,o(s)},r-u)))},()=>s&&o(s)]}const na=(e,t,n=3)=>{let r=0;const s=vT(50,250);return wT(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,u=s(c),f=o<=l;r=o;const a={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&f?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(a)},n)},Zh=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ep=e=>(...t)=>X.asap(()=>e(...t)),xT=dt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,dt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(dt.origin),dt.navigator&&/(msie|trident)/i.test(dt.navigator.userAgent)):()=>!0,ST=dt.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];X.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),X.isString(r)&&o.push("path="+r),X.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $T(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function MT(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Gb(e,t,n){let r=!$T(t);return e&&(r||n==!1)?MT(e,t):t}const tp=e=>e instanceof xt?{...e}:e;function Ar(e,t){t=t||{};const n={};function r(u,f,a,d){return X.isPlainObject(u)&&X.isPlainObject(f)?X.merge.call({caseless:d},u,f):X.isPlainObject(f)?X.merge({},f):X.isArray(f)?f.slice():f}function s(u,f,a,d){if(X.isUndefined(f)){if(!X.isUndefined(u))return r(void 0,u,a,d)}else return r(u,f,a,d)}function i(u,f){if(!X.isUndefined(f))return r(void 0,f)}function o(u,f){if(X.isUndefined(f)){if(!X.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function l(u,f,a){if(a in t)return r(u,f);if(a in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,f,a)=>s(tp(u),tp(f),a,!0)};return X.forEach(Object.keys(Object.assign({},e,t)),function(u){const f=c[u]||s,a=f(e[u],t[u],u);X.isUndefined(a)&&f!==l||(n[u]=a)}),n}const Jb=e=>{const t=Ar({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=xt.from(o),t.url=zb(Gb(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(X.isFormData(n)){if(dt.hasStandardBrowserEnv||dt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...f]=c?c.split(";").map(a=>a.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...f].join("; "))}}if(dt.hasStandardBrowserEnv&&(r&&X.isFunction(r)&&(r=r(t)),r||r!==!1&&xT(t.url))){const u=s&&i&&ST.read(i);u&&o.set(s,u)}return t},kT=typeof XMLHttpRequest<"u",IT=kT&&function(e){return new Promise(function(t,n){const r=Jb(e);let s=r.data;const i=xt.from(r.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=r,u,f,a,d,h;function p(){d&&d(),h&&h(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let m=new XMLHttpRequest;m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout;function g(){if(!m)return;const v=xt.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),I={data:!o||o==="text"||o==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:v,config:e,request:m};Xb(function(_){t(_),p()},function(_){n(_),p()},I),m=null}"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(g)},m.onabort=function(){m&&(n(new ve("Request aborted",ve.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new ve("Network Error",ve.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let v=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const I=r.transitional||Hb;r.timeoutErrorMessage&&(v=r.timeoutErrorMessage),n(new ve(v,I.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,e,m)),m=null},s===void 0&&i.setContentType(null),"setRequestHeader"in m&&X.forEach(i.toJSON(),function(v,I){m.setRequestHeader(I,v)}),X.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),o&&o!=="json"&&(m.responseType=r.responseType),c&&([a,h]=na(c,!0),m.addEventListener("progress",a)),l&&m.upload&&([f,d]=na(l),m.upload.addEventListener("progress",f),m.upload.addEventListener("loadend",d)),(r.cancelToken||r.signal)&&(u=v=>{m&&(n(!v||v.type?new Hs(null,e,m):v),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const y=bT(r.url);if(y&&dt.protocols.indexOf(y)===-1){n(new ve("Unsupported protocol "+y+":",ve.ERR_BAD_REQUEST,e));return}m.send(s||null)})},_T=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,l();const f=u instanceof Error?u:this.reason;r.abort(f instanceof ve?f:new Hs(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,i(new ve(`timeout ${t} of ms exceeded`,ve.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>X.asap(l),c}},TT=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},ET=async function*(e,t){for await(const n of CT(e))yield*TT(n,t)},CT=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},np=(e,t,n,r)=>{const s=ET(e,t);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:f}=await s.next();if(u){l(),c.close();return}let a=f.byteLength;if(n){let d=i+=a;n(d)}c.enqueue(new Uint8Array(f))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},Wa=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Yb=Wa&&typeof ReadableStream=="function",AT=Wa&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Kb=(e,...t)=>{try{return!!e(...t)}catch{return!1}},PT=Yb&&Kb(()=>{let e=!1;const t=new Request(dt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),rp=64*1024,Bc=Yb&&Kb(()=>X.isReadableStream(new Response("").body)),ra={stream:Bc&&(e=>e.body)};Wa&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ra[t]&&(ra[t]=X.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new ve(`Response type '${t}' is not supported`,ve.ERR_NOT_SUPPORT,r)})})})(new Response);const LT=async e=>{if(e==null)return 0;if(X.isBlob(e))return e.size;if(X.isSpecCompliantForm(e))return(await new Request(dt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(X.isArrayBufferView(e)||X.isArrayBuffer(e))return e.byteLength;if(X.isURLSearchParams(e)&&(e=e+""),X.isString(e))return(await AT(e)).byteLength},OT=async(e,t)=>X.toFiniteNumber(e.getContentLength())??LT(t),jT=Wa&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:f,withCredentials:a="same-origin",fetchOptions:d}=Jb(e);u=u?(u+"").toLowerCase():"text";let h=_T([s,i&&i.toAbortSignal()],o),p;const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(c&&PT&&n!=="get"&&n!=="head"&&(g=await OT(f,r))!==0){let S=new Request(t,{method:"POST",body:r,duplex:"half"}),k;if(X.isFormData(r)&&(k=S.headers.get("content-type"))&&f.setContentType(k),S.body){const[$,b]=Zh(g,na(ep(c)));r=np(S.body,rp,$,b)}}X.isString(a)||(a=a?"include":"omit");const y="credentials"in Request.prototype;p=new Request(t,{...d,signal:h,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:y?a:void 0});let v=await fetch(p);const I=Bc&&(u==="stream"||u==="response");if(Bc&&(l||I&&m)){const S={};["status","statusText","headers"].forEach(M=>{S[M]=v[M]});const k=X.toFiniteNumber(v.headers.get("content-length")),[$,b]=l&&Zh(k,na(ep(l),!0))||[];v=new Response(np(v.body,rp,$,()=>{b&&b(),m&&m()}),S)}u=u||"text";let _=await ra[X.findKey(ra,u)||"text"](v,e);return!I&&m&&m(),await new Promise((S,k)=>{Xb(S,k,{data:_,headers:xt.from(v.headers),status:v.status,statusText:v.statusText,config:e,request:p})})}catch(y){throw m&&m(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,e,p),{cause:y.cause||y}):ve.from(y,y&&y.code,e,p)}}),zc={http:yT,xhr:IT,fetch:jT};X.forEach(zc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const sp=e=>`- ${e}`,RT=e=>X.isFunction(e)||e===null||e===!1,Zb={getAdapter:e=>{e=X.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!RT(n)&&(r=zc[(o=String(n)).toLowerCase()],r===void 0))throw new ve(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(sp).join(`
`):" "+sp(i[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:zc};function Wl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Hs(null,e)}function ip(e){return Wl(e),e.headers=xt.from(e.headers),e.data=Fl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Zb.getAdapter(e.adapter||Qi.adapter)(e).then(function(t){return Wl(e),t.data=Fl.call(e,e.transformResponse,t),t.headers=xt.from(t.headers),t},function(t){return Qb(t)||(Wl(e),t&&t.response&&(t.response.data=Fl.call(e,e.transformResponse,t.response),t.response.headers=xt.from(t.response.headers))),Promise.reject(t)})}const ev="1.9.0",Ua={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ua[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const op={};Ua.transitional=function(e,t,n){function r(s,i){return"[Axios v"+ev+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,o)=>{if(e===!1)throw new ve(r(i," has been removed"+(t?" in "+t:"")),ve.ERR_DEPRECATED);return t&&!op[i]&&(op[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,i,o):!0}};Ua.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function DT(e,t,n){if(typeof e!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new ve("option "+i+" must be "+c,ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ve("Unknown option "+i,ve.ERR_BAD_OPTION)}}const zo={assertOptions:DT,validators:Ua},qt=zo.validators;let Tr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Yh,response:new Yh}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ar(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&zo.assertOptions(r,{silentJSONParsing:qt.transitional(qt.boolean),forcedJSONParsing:qt.transitional(qt.boolean),clarifyTimeoutError:qt.transitional(qt.boolean)},!1),s!=null&&(X.isFunction(s)?n.paramsSerializer={serialize:s}:zo.assertOptions(s,{encode:qt.function,serialize:qt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),zo.assertOptions(n,{baseUrl:qt.spelling("baseURL"),withXsrfToken:qt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&X.merge(i.common,i[n.method]);i&&X.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),n.headers=xt.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let f,a=0,d;if(!c){const p=[ip.bind(this),void 0];for(p.unshift.apply(p,l),p.push.apply(p,u),d=p.length,f=Promise.resolve(n);a<d;)f=f.then(p[a++],p[a++]);return f}d=l.length;let h=n;for(a=0;a<d;){const p=l[a++],m=l[a++];try{h=p(h)}catch(g){m.call(this,g);break}}try{f=ip.call(this,h)}catch(p){return Promise.reject(p)}for(a=0,d=u.length;a<d;)f=f.then(u[a++],u[a++]);return f}getUri(t){t=Ar(this.defaults,t);const n=Gb(t.baseURL,t.url,t.allowAbsoluteUrls);return zb(n,t.params,t.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){Tr.prototype[e]=function(t,n){return this.request(Ar(n||{},{method:e,url:t,data:(n||{}).data}))}});X.forEach(["post","put","patch"],function(e){function t(n){return function(r,s,i){return this.request(Ar(i||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:s}))}}Tr.prototype[e]=t(),Tr.prototype[e+"Form"]=t(!0)});let NT=class tv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(s,i,o){r.reason||(r.reason=new Hs(s,i,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new tv(function(n){t=n}),cancel:t}}};function FT(e){return function(t){return e.apply(null,t)}}function WT(e){return X.isObject(e)&&e.isAxiosError===!0}const Hc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hc).forEach(([e,t])=>{Hc[t]=e});function nv(e){const t=new Tr(e),n=Pb(Tr.prototype.request,t);return X.extend(n,Tr.prototype,t,{allOwnKeys:!0}),X.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return nv(Ar(e,r))},n}const Ne=nv(Qi);Ne.Axios=Tr;Ne.CanceledError=Hs;Ne.CancelToken=NT;Ne.isCancel=Qb;Ne.VERSION=ev;Ne.toFormData=Fa;Ne.AxiosError=ve;Ne.Cancel=Ne.CanceledError;Ne.all=function(e){return Promise.all(e)};Ne.spread=FT;Ne.isAxiosError=WT;Ne.mergeConfig=Ar;Ne.AxiosHeaders=xt;Ne.formToJSON=e=>qb(X.isHTMLForm(e)?new FormData(e):e);Ne.getAdapter=Zb.getAdapter;Ne.HttpStatusCode=Hc;Ne.default=Ne;const{Axios:jF,AxiosError:Zn,CanceledError:RF,isCancel:DF,CancelToken:NF,VERSION:FF,all:WF,Cancel:UF,isAxiosError:VF,spread:BF,toFormData:zF,AxiosHeaders:HF,HttpStatusCode:qF,formToJSON:QF,getAdapter:XF,mergeConfig:GF}=Ne;let Xi=class extends Error{constructor(n,r,s){super();Ve(this,"retryAfterMs");Ve(this,"signal");Ve(this,"cancelQueryKey");this.retryAfterMs=n,this.signal=r,this.cancelQueryKey=s}},Va=class extends Error{constructor(n){super();Ve(this,"retryAfterMs");this.retryAfterMs=n}};const rv=x.createContext();let UT=class{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}};const VT=(e,t,n,r)=>{var i,o,l,c;const s=[n,{code:t,...r||{}}];if((o=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&o.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);Er(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},ap={},qc=(e,t,n,r)=>{Er(n)&&ap[n]||(Er(n)&&(ap[n]=new Date),VT(e,t,n,r))},sv=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},Qc=(e,t,n)=>{e.loadNamespaces(t,sv(e,n))},lp=(e,t,n,r)=>{if(Er(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Qc(e,n,r);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,sv(e,r))},BT=(e,t,n={})=>!t.languages||!t.languages.length?(qc(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,s)=>{var i;if(((i=n.bindI18n)==null?void 0:i.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,e))return!1}}),Er=e=>typeof e=="string",zT=e=>typeof e=="object"&&e!==null,HT=(e,t)=>{const n=x.useRef();return x.useEffect(()=>{n.current=e},[e,t]),n.current},iv=(e,t,n,r)=>e.getFixedT(t,n,r),qT=(e,t,n,r)=>x.useCallback(iv(e,t,n,r),[e,t,n,r]),an=(e,t={})=>{var _,S,k,$;const{i18n:n}=t,{i18n:r,defaultNS:s}=x.useContext(rv)||{},i=n||r||A$();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new UT),!i){qc(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const b=(w,E)=>Er(E)?E:zT(E)&&Er(E.defaultValue)?E.defaultValue:Array.isArray(w)?w[w.length-1]:w,M=[b,{},!1];return M.t=b,M.i18n={},M.ready=!1,M}(_=i.options.react)!=null&&_.wait&&qc(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...E$(),...i.options.react,...t},{useSuspense:l,keyPrefix:c}=o;let u=e||s||((S=i.options)==null?void 0:S.defaultNS);u=Er(u)?[u]:u||["translation"],($=(k=i.reportNamespaces).addUsedNamespaces)==null||$.call(k,u);const f=(i.isInitialized||i.initializedStoreOnce)&&u.every(b=>BT(b,i,o)),a=qT(i,t.lng||null,o.nsMode==="fallback"?u:u[0],c),d=()=>a,h=()=>iv(i,t.lng||null,o.nsMode==="fallback"?u:u[0],c),[p,m]=x.useState(d);let g=u.join();t.lng&&(g=`${t.lng}${g}`);const y=HT(g),v=x.useRef(!0);x.useEffect(()=>{const{bindI18n:b,bindI18nStore:M}=o;v.current=!0,!f&&!l&&(t.lng?lp(i,t.lng,u,()=>{v.current&&m(h)}):Qc(i,u,()=>{v.current&&m(h)})),f&&y&&y!==g&&v.current&&m(h);const w=()=>{v.current&&m(h)};return b&&(i==null||i.on(b,w)),M&&(i==null||i.store.on(M,w)),()=>{v.current=!1,i&&(b==null||b.split(" ").forEach(E=>i.off(E,w))),M&&i&&M.split(" ").forEach(E=>i.store.off(E,w))}},[i,g]),x.useEffect(()=>{v.current&&f&&m(d)},[i,c,f]);const I=[p,i,f];if(I.t=p,I.i18n=i,I.ready=f,f||!f&&!l)return I;throw new Promise(b=>{t.lng?lp(i,t.lng,u,()=>b()):Qc(i,u,()=>b())})};de.extend(Aa);const QT=({labelWordingKey:e,retryAfter:t})=>{const{t:n}=an();return P.jsxs("div",{className:"flex flex-col",children:[P.jsx("span",{children:n("body.ratelimitPromise",{key:n(`label.${e}`)})}),P.jsx("span",{children:P.jsx(II,{initialTimeLeft:t,format:r=>n("body.countdown",{time:r})})})]})},XT=({labelWordingKey:e,retryAfter:t,error:n,controller:r})=>{const{t:s}=an(),i=on();return P.jsxs("div",{className:"flex flex-row gap-2 justify-between items-center",children:[P.jsx(QT,{labelWordingKey:e,retryAfter:t}),P.jsx(Oa,{onClick:o=>{o.preventDefault(),n.cancelQueryKey&&i.cancelQueries({queryKey:n.cancelQueryKey,exact:!1}),r.abort()},children:s("action.abort")})]})},Ba=e=>(t,n)=>{var r;return n instanceof Va||n instanceof Xi?(console.log("Retry ratelimit detected for: ",e,t),!0):n instanceof Zn&&((r=n.response)!=null&&r.status)&&[401,404].includes(n.response.status)?!1:t<=3},za=(e,t)=>(n,r)=>{var s;if(r instanceof Va)return console.log("RequestCanceledError for ",e,n,r.retryAfterMs),r.retryAfterMs;if(r instanceof Xi){if(r.retryAfterMs>=2500){const i=new AbortController,o=new Promise(c=>{const u=setTimeout(c,r.retryAfterMs),f=()=>{clearTimeout(u),c(null)};i.signal.addEventListener("abort",f,{once:!0})});(s=r.signal)==null||s.addEventListener("abort",()=>{console.log("Request aborted for: ",e," Aborting toast"),i.signal.aborted||i.abort()},{once:!0}),console.log("Adding new promiseToast for: ",e,n,r.retryAfterMs);const l=de.utc().add(r.retryAfterMs,"milliseconds");t({promise:o,toastContent:{pending:{render:()=>P.jsx(XT,{labelWordingKey:e,retryAfter:l,error:r,controller:i})}},options:{closeButton:({closeToast:c,theme:u,ariaLabel:f})=>P.jsx("button",{className:`Toastify__close-button Toastify__close-button--${u}`,type:"button","aria-label":f,onClick:a=>{i.abort(),c(a)},children:P.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 14 16",children:P.jsx("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})})})}})}else console.log("Skipping toast creation for: ",e,n,r.retryAfterMs);return r.retryAfterMs}return Math.min(n>1?2**n*1e3:1e3,30*1e3)},GT=new Error("request for lock canceled");var JT=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(f){try{u(r.next(f))}catch(a){o(a)}}function c(f){try{u(r.throw(f))}catch(a){o(a)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};let YT=class{constructor(t,n=GT){this._value=t,this._cancelError=n,this._queue=[],this._weightedWaiters=[]}acquire(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,s)=>{const i={resolve:r,reject:s,weight:t,priority:n},o=ov(this._queue,l=>n<=l.priority);o===-1&&t<=this._value?this._dispatchItem(i):this._queue.splice(o+1,0,i)})}runExclusive(t){return JT(this,arguments,void 0,function*(n,r=1,s=0){const[i,o]=yield this.acquire(r,s);try{return yield n(i)}finally{o()}})}waitForUnlock(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return this._couldLockImmediately(t,n)?Promise.resolve():new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),KT(this._weightedWaiters[t-1],{resolve:r,priority:n})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatchQueue()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatchQueue()}cancel(){this._queue.forEach(t=>t.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(t){const n=this._value;this._value-=t.weight,t.resolve([n,this._newReleaser(t.weight)])}_newReleaser(t){let n=!1;return()=>{n||(n=!0,this.release(t))}}_drainUnlockWaiters(){if(this._queue.length===0)for(let t=this._value;t>0;t--){const n=this._weightedWaiters[t-1];n&&(n.forEach(r=>r.resolve()),this._weightedWaiters[t-1]=[])}else{const t=this._queue[0].priority;for(let n=this._value;n>0;n--){const r=this._weightedWaiters[n-1];if(!r)continue;const s=r.findIndex(i=>i.priority<=t);(s===-1?r:r.splice(0,s)).forEach(i=>i.resolve())}}}_couldLockImmediately(t,n){return(this._queue.length===0||this._queue[0].priority<n)&&t<=this._value}};function KT(e,t){const n=ov(e,r=>t.priority<=r.priority);e.splice(n+1,0,t)}function ov(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1}var ZT=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(f){try{u(r.next(f))}catch(a){o(a)}}function c(f){try{u(r.throw(f))}catch(a){o(a)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};let Gi=class{constructor(t){this._semaphore=new YT(1,t)}acquire(){return ZT(this,arguments,void 0,function*(t=0){const[,n]=yield this._semaphore.acquire(1,t);return n})}runExclusive(t,n=0){return this._semaphore.runExclusive(()=>t(),1,n)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(t=0){return this._semaphore.waitForUnlock(1,t)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}};function eE(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function Ul(e,t){return e<<t|e>>>32-t}function tE(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520],r=new Uint8Array(e.length+1);r.set(e),r[e.length]=128,e=r;const s=e.length/4+2,i=Math.ceil(s/16),o=new Array(i);for(let l=0;l<i;++l){const c=new Uint32Array(16);for(let u=0;u<16;++u)c[u]=e[l*64+u*4]<<24|e[l*64+u*4+1]<<16|e[l*64+u*4+2]<<8|e[l*64+u*4+3];o[l]=c}o[i-1][14]=(e.length-1)*8/Math.pow(2,32),o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(e.length-1)*8&4294967295;for(let l=0;l<i;++l){const c=new Uint32Array(80);for(let p=0;p<16;++p)c[p]=o[l][p];for(let p=16;p<80;++p)c[p]=Ul(c[p-3]^c[p-8]^c[p-14]^c[p-16],1);let u=n[0],f=n[1],a=n[2],d=n[3],h=n[4];for(let p=0;p<80;++p){const m=Math.floor(p/20),g=Ul(u,5)+eE(m,f,a,d)+h+t[m]+c[p]>>>0;h=d,d=a,a=Ul(f,30)>>>0,f=u,u=g}n[0]=n[0]+u>>>0,n[1]=n[1]+f>>>0,n[2]=n[2]+a>>>0,n[3]=n[3]+d>>>0,n[4]=n[4]+h>>>0}return Uint8Array.of(n[0]>>24,n[0]>>16,n[0]>>8,n[0],n[1]>>24,n[1]>>16,n[1]>>8,n[1],n[2]>>24,n[2]>>16,n[2]>>8,n[2],n[3]>>24,n[3]>>16,n[3]>>8,n[3],n[4]>>24,n[4]>>16,n[4]>>8,n[4])}const nE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function rE(e){return typeof e=="string"&&nE.test(e)}function cp(e){if(!rE(e))throw TypeError("Invalid UUID");let t;return Uint8Array.of((t=parseInt(e.slice(0,8),16))>>>24,t>>>16&255,t>>>8&255,t&255,(t=parseInt(e.slice(9,13),16))>>>8,t&255,(t=parseInt(e.slice(14,18),16))>>>8,t&255,(t=parseInt(e.slice(19,23),16))>>>8,t&255,(t=parseInt(e.slice(24,36),16))/1099511627776&255,t/4294967296&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255)}function sE(e){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}const iE="6ba7b810-9dad-11d1-80b4-00c04fd430c8",oE="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function aE(e,t,n,r,s,i){const o=typeof n=="string"?sE(n):n,l=typeof r=="string"?cp(r):r;if(typeof r=="string"&&(r=cp(r)),(r==null?void 0:r.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+o.length);if(c.set(l),c.set(o,l.length),c=t(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,s){i=i||0;for(let u=0;u<16;++u)s[i+u]=c[u];return s}return hb(c)}function Ts(e,t,n,r){return aE(80,tE,e,t,n,r)}Ts.DNS=iE;Ts.URL=oE;const sa="6db5874c-e0b4-4a7d-b4f5-41ef1e3069b3",os=Ne.create(),yd=()=>Ge.get(Qf),lE=1e4,av=e=>e===0?0:e-lE,Pe=()=>(os.defaults.baseURL=yd()+"/api/v1",os.defaults.headers.Authorization=`Bearer ${localStorage.getItem("doNotShareJwt")}`,os),Ha=()=>(os.defaults.baseURL=yd()+"/api/v1",os.defaults.headers.Authorization=`Bearer ${localStorage.getItem("doNotShareJwt")}`,os);let Vl=class extends Error{constructor(t){super(t),this.name="SocketIoError"}};const cE=(e,t)=>{if(e.status!=="SUCCESS")if(e.data&&typeof e.data=="object"&&"message"in e.data){const n=e.data.message;throw new Vl(n||t)}else throw e.data&&typeof e.data=="string"?new Vl(e.data||t):new Vl(t);return e.data},nW=e=>async(t,n,...r)=>{const s=await t.timeout(1e4).emitWithAck(n,...r);return cE(s,e)};async function uE(e){return(await Ne.get(`${yd()}/${e}`)).data}async function dE(e,t){var n;try{const r=await Ne.get(`${$e.r2.public_url}/v14/summaries/${e.toLowerCase().replaceAll(" ","_")}/${t}.json`);return ME(r.data)}catch(r){const s={meta:{league:e,tag:t,timestampMs:0},summaries:{}};if(r instanceof Zn&&((n=r.response)==null?void 0:n.status)===404)return s;throw r}}async function fE(e,t){var n;try{const r=await Ne.get(`${$e.r2.public_url}/v10/valuations/${e.toLowerCase().replaceAll(" ","_")}/${t}.json`);return lv(r.data,e,t)}catch(r){const s={meta:{league:e,tag:t,timestampMs:0},valuations:{}};if(r instanceof Zn&&((n=r.response)==null?void 0:n.status)===404)return s;throw r}}async function hE(e,t,n){var r;try{const s=await Ne.get(`${$e.r2.public_url}/v10/valuations/keys/${e.toLowerCase().replaceAll(" ","_")}/${t}/${n}.json`);return lv(s.data,e,t)}catch(s){const i={meta:{league:e,tag:t,timestampMs:0},valuations:{}};if(s instanceof Zn&&((r=s.response)==null?void 0:r.status)===404)return i;throw s}}async function rW(e,t){return(await Pe().get(`/auth/ggg/connect/authUrl/${e}`,{params:{currentUrl:t}})).data}async function sW(e,t){return(await Pe().get(`/auth/ggg/connect/${e}/${t}`)).data}async function iW(e){return(await Pe().get(`/auth/discord/connect/${e}`)).data}async function pE(){return(await Pe().get("/users/profile")).data}async function mE(e){return(await Pe().get(`/users/profile/${encodeURIComponent(e)}`)).data}function oW(e){return Pe().patch("/users/mainIgn",e)}const Es={},qa=(e,t,n,r)=>{if(e instanceof Zn&&e.response&&e.response.status===429&&e.response.data&&typeof e.response.data=="object"&&"retryAfterMs"in e.response.data&&typeof e.response.data.retryAfterMs=="number"){const s=e.response.data.retryAfterMs;throw Es[t]={aborted:!1,retryAfter:de().add(s,"milliseconds")},console.log(`Ratelimit error. Policy: ${t} Retry after: ${s/1e3}s`),n.addEventListener("abort",()=>{const i=Es[t];i&&(console.log(`Active ratelimiter aborted. Policy: ${t}`,i),i.aborted=!0)},{once:!0}),new Xi(s,n,r)}},Qa=e=>{Es[e]&&(console.log(`Cleanup ratelimiter. Policy: ${e}`),Es[e]=void 0)},Xa=(e,t,n)=>{const r=Es[e];if(r){const s=r.retryAfter.diff(de());if(s>0)throw r.aborted?(console.log(`Active aborted ratelimiter detected. Policy: ${e} Waiting: ${s/1e3}s`),r.aborted=!1,t.addEventListener("abort",()=>{const i=Es[e];i&&(console.log(`Active ratelimiter aborted. Policy: ${e}`,i),i.aborted=!0)},{once:!0}),new Xi(s,t,n)):(console.log(`Active ratelimiter detected. Policy: ${e} Waiting: ${(s+250)/1e3}s`),new Va(s+250))}},gE=new Gi;async function yE(e,t,n){const r=await gE.acquire();try{Xa("stashes",t,n);try{const s=await Ha().get(`/ggg/stashes/${e}`,{signal:t,timeout:36e4});return Qa("stashes"),s.data.map(i=>{var o;return{...i,id:Ts(`${e}:${i.id}`,sa),tabId:i.id,children:(o=i.children)==null?void 0:o.map(l=>({...l,id:Ts(`${e}:${l.id}`,sa),tabId:l.id}))}})}catch(s){throw qa(s,"stashes",t,n),s}}finally{r()}}const bE=new Gi;async function vE(e,t,n,r){var i;const s=await bE.acquire();try{Xa("stash",n,r);try{const o=await Ha().get(`/ggg/stash/${e}/${t}`,{signal:n,timeout:36e4});Qa("stash");const l=o.data;return{...l,id:Ts(`${e}:${l.id}`,sa),tabId:l.id,children:(i=l.children)==null?void 0:i.map(c=>({...c,id:Ts(`${e}:${c.id}`,sa),tabId:c.id}))}}catch(o){throw qa(o,"stash",n,r),o}}finally{s()}}const wE=new Gi;async function xE(e,t){const n=await wE.acquire();try{Xa("characters",e,t);try{const r=await Ha().get("/ggg/characters",{signal:e,timeout:36e4});return Qa("characters"),r.data.map(s=>{var i;return{...s,league:(i=s.league)==null?void 0:i.toLowerCase()}})}catch(r){throw qa(r,"characters",e,t),r}}finally{n()}}const SE=new Gi;async function $E(e,t){const n=await SE.acquire();try{Xa("account-leagues",e,t);try{const r=await Ha().get("/ggg/account-leagues",{signal:e,timeout:36e4});return Qa("account-leagues"),r.data.map(s=>({...s,id:s.id.toLowerCase()}))}catch(r){throw qa(r,"account-leagues",e,t),r}}finally{n()}}function lv(e,t,n){const r={meta:{...e.meta,league:t,tag:n},valuations:{}},s=[5,7,10,12,15,18,20,25,30,50];return Object.entries(e.valuations).forEach(([i,o])=>{const l={};o.c.forEach((c,u)=>{l[s[u]]=c}),r.valuations[i]={listings:o.l,filledListings:o.fl||0,lowConfidence:!!o.lc,primaryValue:l[Hy],pValues:l,history:{primaryValueDaily:o.d,primaryValueHourly:o.h}}}),r}function ME(e){const t={meta:e.meta,summaries:{}};return Object.entries(e.summaries).forEach(([n,r])=>{var o;if(n==="meta")return;const s=r.i;t.summaries[n]={hash:n,key:r.k,icon:`https://web.poecdn.com/gen/image/${s==null?void 0:s[0]}`,unsafeHashProperties:r.p,displayName:r.k,tag:t.meta.tag};const i=t.meta.tag;if(i){const l=(o=Us.find(c=>c.tags.includes(i)))==null?void 0:o.parseName;l&&(t.summaries[n].displayName=l({primaryGroup:{tag:t.meta.tag,key:t.summaries[n].key,unsafeHashProperties:t.summaries[n].unsafeHashProperties}})||"")}}),t}const aW=(e,t,n)=>{var r,s;return{queryKey:["characters",(r=t==null?void 0:t.profile)==null?void 0:r.uuid],queryFn:({signal:i})=>{var o;return xE(i,["characters",((o=t==null?void 0:t.profile)==null?void 0:o.uuid)||""])},staleTime:30*60*1e3,gcTime:30*60*1e3,enabled:$e.isClient&&!!((s=t==null?void 0:t.profile)!=null&&s.uuid)&&n!==!1,retry:Ba("charactersPolicy"),retryDelay:za("charactersPolicy",e)}},lW=(e,t,n)=>{var r,s;return{queryKey:["account-leagues",(r=t==null?void 0:t.profile)==null?void 0:r.uuid],queryFn:async({signal:i})=>{var o;return $E(i,["account-leagues",((o=t==null?void 0:t.profile)==null?void 0:o.uuid)||""])},staleTime:60*60*1e3,gcTime:45*60*1e3,enabled:$e.isClient&&!!((s=t==null?void 0:t.profile)!=null&&s.uuid)&&n!==!1,retry:Ba("accountLeaguesPolicy"),retryDelay:za("accountLeaguesPolicy",e)}},cW=(e,t,n,r)=>{var s,i;return{queryKey:["stashes",(s=t==null?void 0:t.profile)==null?void 0:s.uuid,n??null],queryFn:({signal:o})=>{var l;return yE(n,o,["stashes",((l=t==null?void 0:t.profile)==null?void 0:l.uuid)||""])},staleTime:30*60*1e3,gcTime:20*60*1e3,enabled:$e.isClient&&!!((i=t==null?void 0:t.profile)!=null&&i.uuid)&&!!n&&r!==!1,retry:Ba("stashesPolicy"),retryDelay:za("stashesPolicy",e)}},up=(e,t,n,r,s,i,o,l)=>{var f;const c={stashOptions:i},u=l??"stash";return{queryKey:[u,(f=t==null?void 0:t.profile)==null?void 0:f.uuid,n??null,r.id],queryFn:async({signal:a})=>{var p,m;if(!((p=t==null?void 0:t.profile)!=null&&p.uuid)||!n)return[];if(console.log(`Fetching stash ${r.id} for user ${t.profile.uuid} in league ${n}`),a.addEventListener("abort",()=>{console.warn("Abort detected. ")}),c.stashOptions){const{setStashes:g,queryClient:y,action:v}=c.stashOptions;v==="unselect"?a.addEventListener("abort",()=>{console.log("Abort detected. Unselecting stashes"),g(I=>I.filter(_=>_.id!==r.id))}):v==="unselectUnfetched"&&a.addEventListener("abort",()=>{console.log("Abort detected. Unselecting stashes"),g(I=>I.filter(_=>{var k;if(_.id!==r.id)return!0;const S=y.getQueryData(["stash",(k=t==null?void 0:t.profile)==null?void 0:k.uuid,n??null,_.id]);return!(!S||S.length===0)}))})}const d=await vE(n,r.tabId,a,[u,((m=t==null?void 0:t.profile)==null?void 0:m.uuid)||""]);let h=[];return d.type==="MapStash"?h=hI(d,n):d.items&&(h=d.items.map(g=>(g.stashTabId=r.id,g))),Y2.withGroup(h).map(g=>({...g,stash:r}))},staleTime:30*60*1e3,gcTime:10*60*1e3,enabled:$e.isClient&&s!==!1,retry:Ba("stashPolicy"),retryDelay:za("stashPolicy",e)}},kE=e=>{var t;return{queryKey:["profile"],queryFn:()=>pE(),staleTime:60*60*1e3,enabled:$e.isClient&&!!((t=e==null?void 0:e.profile)!=null&&t.uuid)}},uW=(e,t)=>({queryKey:["profile",e],queryFn:()=>mE(e),staleTime:60*60*1e3,enabled:$e.isClient&&!!e&&t!==!1}),dW=(e,t)=>({queryKey:["stashLayout",e,t],queryFn:async()=>uE(`${e}/stash-layouts/${t.layout}.json`),staleTime:24*60*60*1e3,gcTime:24*60*60*1e3,enabled:$e.isClient&&!!t.layout}),ia=(e,t)=>({queryKey:["valuations",e,t],queryFn:()=>fE(e,t),staleTime:30*60*1e3,gcTime:30*60*1e3,enabled:$e.isClient&&!!e&&!!t,refetchInterval:30*60*1e3}),IE=(e,t,n)=>({queryKey:["valuations",e,t,n],queryFn:()=>hE(e,t,n),staleTime:30*60*1e3,gcTime:30*60*1e3,enabled:$e.isClient&&!!e&&!!t,refetchInterval:30*60*1e3}),fW=(e,t)=>({queryKey:["summaries",e,t],queryFn:()=>dE(e,t),staleTime:30*60*1e3,gcTime:30*60*1e3,enabled:$e.isClient&&!!e&&!!t,refetchInterval:30*60*1e3});var Dr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Pr=typeof window>"u"||"Deno"in globalThis;function ut(){}function _E(e,t){return typeof e=="function"?e(t):e}function Xc(e){return typeof e=="number"&&e>=0&&e!==1/0}function cv(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Kn(e,t){return typeof e=="function"?e(t):e}function Ut(e,t){return typeof e=="function"?e(t):e}function Gc(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==bd(o,t.options))return!1}else if(!Cs(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function dp(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(er(t.options.mutationKey)!==er(i))return!1}else if(!Cs(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function bd(e,t){return((t==null?void 0:t.queryKeyHashFn)||er)(e)}function er(e){return JSON.stringify(e,(t,n)=>Jc(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Cs(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Cs(e[n],t[n])):!1}function vd(e,t){if(e===t)return e;const n=fp(e)&&fp(t);if(n||Jc(e)&&Jc(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{},c=new Set(r);let u=0;for(let f=0;f<o;f++){const a=n?f:i[f];(!n&&c.has(a)||n)&&e[a]===void 0&&t[a]===void 0?(l[a]=void 0,u++):(l[a]=vd(e[a],t[a]),l[a]===e[a]&&e[a]!==void 0&&u++)}return s===o&&u===s?e:l}return t}function oa(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function fp(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jc(e){if(!hp(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!hp(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hp(e){return Object.prototype.toString.call(e)==="[object Object]"}function TE(e){return new Promise(t=>{setTimeout(t,e)})}function Yc(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?vd(e,t):t}function EE(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function CE(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var wd=Symbol();function uv(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===wd?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function dv(e,t){return typeof e=="function"?e(...t):!!e}var vr,Wn,ds,ly,AE=(ly=class extends Dr{constructor(){super();ue(this,vr);ue(this,Wn);ue(this,ds);oe(this,ds,n=>{if(!Pr&&window.addEventListener){const r=()=>n();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){D(this,Wn)||this.setEventListener(D(this,ds))}onUnsubscribe(){var n;this.hasListeners()||((n=D(this,Wn))==null||n.call(this),oe(this,Wn,void 0))}setEventListener(n){var r;oe(this,ds,n),(r=D(this,Wn))==null||r.call(this),oe(this,Wn,n(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(n){D(this,vr)!==n&&(oe(this,vr,n),this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(r=>{r(n)})}isFocused(){var n;return typeof D(this,vr)=="boolean"?D(this,vr):((n=globalThis.document)==null?void 0:n.visibilityState)!=="hidden"}},vr=new WeakMap,Wn=new WeakMap,ds=new WeakMap,ly),xd=new AE,PE=e=>setTimeout(e,0);function LE(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=PE;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Qe=LE(),fs,Un,hs,cy,OE=(cy=class extends Dr{constructor(){super();ue(this,fs,!0);ue(this,Un);ue(this,hs);oe(this,hs,n=>{if(!Pr&&window.addEventListener){const r=()=>n(!0),s=()=>n(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){D(this,Un)||this.setEventListener(D(this,hs))}onUnsubscribe(){var n;this.hasListeners()||((n=D(this,Un))==null||n.call(this),oe(this,Un,void 0))}setEventListener(n){var r;oe(this,hs,n),(r=D(this,Un))==null||r.call(this),oe(this,Un,n(this.setOnline.bind(this)))}setOnline(n){D(this,fs)!==n&&(oe(this,fs,n),this.listeners.forEach(r=>{r(n)}))}isOnline(){return D(this,fs)}},fs=new WeakMap,Un=new WeakMap,hs=new WeakMap,cy),aa=new OE;function Kc(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function jE(e){return Math.min(1e3*2**e,3e4)}function fv(e){return(e??"online")==="online"?aa.isOnline():!0}var Sd=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Bl(e){return e instanceof Sd}function hv(e){let t=!1,n=0,r=!1,s;const i=Kc(),o=m=>{var g;r||(d(new Sd(m)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>xd.isFocused()&&(e.networkMode==="always"||aa.isOnline())&&e.canRun(),f=()=>fv(e.networkMode)&&e.canRun(),a=m=>{var g;r||(r=!0,(g=e.onSuccess)==null||g.call(e,m),s==null||s(),i.resolve(m))},d=m=>{var g;r||(r=!0,(g=e.onError)==null||g.call(e,m),s==null||s(),i.reject(m))},h=()=>new Promise(m=>{var g;s=y=>{(r||u())&&m(y)},(g=e.onPause)==null||g.call(e)}).then(()=>{var m;s=void 0,r||((m=e.onContinue)==null||m.call(e))}),p=()=>{if(r)return;let m;const g=n===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(a).catch(y=>{var k;if(r)return;const v=e.retry??(Pr?0:3),I=e.retryDelay??jE,_=typeof I=="function"?I(n,y):I,S=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(t||!S){d(y);return}n++,(k=e.onFail)==null||k.call(e,n,y),TE(_).then(()=>u()?void 0:h()).then(()=>{t?d(y):p()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?p():h().then(p),i)}}var wr,uy,pv=(uy=class{constructor(){ue(this,wr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xc(this.gcTime)&&oe(this,wr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Pr?1/0:5*60*1e3))}clearGcTimeout(){D(this,wr)&&(clearTimeout(D(this,wr)),oe(this,wr,void 0))}},wr=new WeakMap,uy),ps,ms,Pt,xr,lt,Di,Sr,Nt,pn,dy,RE=(dy=class extends pv{constructor(n){super();ue(this,Nt);ue(this,ps);ue(this,ms);ue(this,Pt);ue(this,xr);ue(this,lt);ue(this,Di);ue(this,Sr);oe(this,Sr,!1),oe(this,Di,n.defaultOptions),this.setOptions(n.options),this.observers=[],oe(this,xr,n.client),oe(this,Pt,D(this,xr).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,oe(this,ps,DE(this.options)),this.state=n.state??D(this,ps),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=D(this,lt))==null?void 0:n.promise}setOptions(n){this.options={...D(this,Di),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,Pt).remove(this)}setData(n,r){const s=Yc(this.state.data,n,this.options);return me(this,Nt,pn).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){me(this,Nt,pn).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=D(this,lt))==null?void 0:s.promise;return(i=D(this,lt))==null||i.cancel(n),r?r.then(ut).catch(ut):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,ps))}isActive(){return this.observers.some(n=>Ut(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Kn(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!cv(this.state.dataUpdatedAt,n)}onFocus(){var n,r;(n=this.observers.find(s=>s.shouldFetchOnWindowFocus()))==null||n.refetch({cancelRefetch:!1}),(r=D(this,lt))==null||r.continue()}onOnline(){var n,r;(n=this.observers.find(s=>s.shouldFetchOnReconnect()))==null||n.refetch({cancelRefetch:!1}),(r=D(this,lt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),D(this,Pt).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(D(this,lt)&&(D(this,Sr)?D(this,lt).cancel({revert:!0}):D(this,lt).cancelRetry()),this.scheduleGc()),D(this,Pt).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||me(this,Nt,pn).call(this,{type:"invalidate"})}fetch(n,r){var u,f,a;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(D(this,lt))return D(this,lt).continueRetry(),D(this,lt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const s=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(oe(this,Sr,!0),s.signal)})},o=()=>{const d=uv(this.options,r),h=(()=>{const p={client:D(this,xr),queryKey:this.queryKey,meta:this.meta};return i(p),p})();return oe(this,Sr,!1),this.options.persister?this.options.persister(d,h,this):d(h)},l=(()=>{const d={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:D(this,xr),state:this.state,fetchFn:o};return i(d),d})();(u=this.options.behavior)==null||u.onFetch(l,this),oe(this,ms,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&me(this,Nt,pn).call(this,{type:"fetch",meta:(a=l.fetchOptions)==null?void 0:a.meta});const c=d=>{var h,p,m,g;Bl(d)&&d.silent||me(this,Nt,pn).call(this,{type:"error",error:d}),Bl(d)||((p=(h=D(this,Pt).config).onError)==null||p.call(h,d,this),(g=(m=D(this,Pt).config).onSettled)==null||g.call(m,this.state.data,d,this)),this.scheduleGc()};return oe(this,lt,hv({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:d=>{var h,p,m,g;if(d===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(y){c(y);return}(p=(h=D(this,Pt).config).onSuccess)==null||p.call(h,d,this),(g=(m=D(this,Pt).config).onSettled)==null||g.call(m,d,this.state.error,this),this.scheduleGc()},onError:c,onFail:(d,h)=>{me(this,Nt,pn).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{me(this,Nt,pn).call(this,{type:"pause"})},onContinue:()=>{me(this,Nt,pn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),D(this,lt).start()}},ps=new WeakMap,ms=new WeakMap,Pt=new WeakMap,xr=new WeakMap,lt=new WeakMap,Di=new WeakMap,Sr=new WeakMap,Nt=new WeakSet,pn=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...mv(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Bl(i)&&i.revert&&D(this,ms)?{...D(this,ms),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Qe.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),D(this,Pt).notify({query:this,type:"updated",action:n})})},dy);function mv(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fv(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function DE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var yt,ke,Ni,ht,$r,gs,Vn,Bn,Fi,ys,bs,Mr,kr,zn,vs,Te,ci,Zc,eu,tu,nu,ru,su,iu,gv,fy,$d=(fy=class extends Dr{constructor(n,r){super();ue(this,Te);ue(this,yt);ue(this,ke);ue(this,Ni);ue(this,ht);ue(this,$r);ue(this,gs);ue(this,Vn);ue(this,Bn);ue(this,Fi);ue(this,ys);ue(this,bs);ue(this,Mr);ue(this,kr);ue(this,zn);ue(this,vs,new Set);this.options=r,oe(this,yt,n),oe(this,Bn,null),oe(this,Vn,Kc()),this.options.experimental_prefetchInRender||D(this,Vn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(D(this,ke).addObserver(this),pp(D(this,ke),this.options)?me(this,Te,ci).call(this):this.updateResult(),me(this,Te,nu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ou(D(this,ke),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ou(D(this,ke),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,me(this,Te,ru).call(this),me(this,Te,su).call(this),D(this,ke).removeObserver(this)}setOptions(n){const r=this.options,s=D(this,ke);if(this.options=D(this,yt).defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ut(this.options.enabled,D(this,ke))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");me(this,Te,iu).call(this),D(this,ke).setOptions(this.options),r._defaulted&&!oa(this.options,r)&&D(this,yt).getQueryCache().notify({type:"observerOptionsUpdated",query:D(this,ke),observer:this});const i=this.hasListeners();i&&mp(D(this,ke),s,this.options,r)&&me(this,Te,ci).call(this),this.updateResult(),i&&(D(this,ke)!==s||Ut(this.options.enabled,D(this,ke))!==Ut(r.enabled,D(this,ke))||Kn(this.options.staleTime,D(this,ke))!==Kn(r.staleTime,D(this,ke)))&&me(this,Te,Zc).call(this);const o=me(this,Te,eu).call(this);i&&(D(this,ke)!==s||Ut(this.options.enabled,D(this,ke))!==Ut(r.enabled,D(this,ke))||o!==D(this,zn))&&me(this,Te,tu).call(this,o)}getOptimisticResult(n){const r=D(this,yt).getQueryCache().build(D(this,yt),n),s=this.createResult(r,n);return FE(this,s)&&(oe(this,ht,s),oe(this,gs,this.options),oe(this,$r,D(this,ke).state)),s}getCurrentResult(){return D(this,ht)}trackResult(n,r){return new Proxy(n,{get:(s,i)=>(this.trackProp(i),r==null||r(i),Reflect.get(s,i))})}trackProp(n){D(this,vs).add(n)}getCurrentQuery(){return D(this,ke)}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const r=D(this,yt).defaultQueryOptions(n),s=D(this,yt).getQueryCache().build(D(this,yt),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(n){return me(this,Te,ci).call(this,{...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),D(this,ht)))}createResult(n,r){var b;const s=D(this,ke),i=this.options,o=D(this,ht),l=D(this,$r),c=D(this,gs),u=n!==s?n.state:D(this,Ni),{state:f}=n;let a={...f},d=!1,h;if(r._optimisticResults){const M=this.hasListeners(),w=!M&&pp(n,r),E=M&&mp(n,s,r,i);(w||E)&&(a={...a,...mv(f.data,n.options)}),r._optimisticResults==="isRestoring"&&(a.fetchStatus="idle")}let{error:p,errorUpdatedAt:m,status:g}=a;h=a.data;let y=!1;if(r.placeholderData!==void 0&&h===void 0&&g==="pending"){let M;o!=null&&o.isPlaceholderData&&r.placeholderData===(c==null?void 0:c.placeholderData)?(M=o.data,y=!0):M=typeof r.placeholderData=="function"?r.placeholderData((b=D(this,bs))==null?void 0:b.state.data,D(this,bs)):r.placeholderData,M!==void 0&&(g="success",h=Yc(o==null?void 0:o.data,M,r),d=!0)}if(r.select&&h!==void 0&&!y)if(o&&h===(l==null?void 0:l.data)&&r.select===D(this,Fi))h=D(this,ys);else try{oe(this,Fi,r.select),h=r.select(h),h=Yc(o==null?void 0:o.data,h,r),oe(this,ys,h),oe(this,Bn,null)}catch(M){oe(this,Bn,M)}D(this,Bn)&&(p=D(this,Bn),h=D(this,ys),m=Date.now(),g="error");const v=a.fetchStatus==="fetching",I=g==="pending",_=g==="error",S=I&&v,k=h!==void 0,$={status:g,fetchStatus:a.fetchStatus,isPending:I,isSuccess:g==="success",isError:_,isInitialLoading:S,isLoading:S,data:h,dataUpdatedAt:a.dataUpdatedAt,error:p,errorUpdatedAt:m,failureCount:a.fetchFailureCount,failureReason:a.fetchFailureReason,errorUpdateCount:a.errorUpdateCount,isFetched:a.dataUpdateCount>0||a.errorUpdateCount>0,isFetchedAfterMount:a.dataUpdateCount>u.dataUpdateCount||a.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!I,isLoadingError:_&&!k,isPaused:a.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:_&&k,isStale:Md(n,r),refetch:this.refetch,promise:D(this,Vn)};if(this.options.experimental_prefetchInRender){const M=L=>{$.status==="error"?L.reject($.error):$.data!==void 0&&L.resolve($.data)},w=()=>{const L=oe(this,Vn,$.promise=Kc());M(L)},E=D(this,Vn);switch(E.status){case"pending":n.queryHash===s.queryHash&&M(E);break;case"fulfilled":($.status==="error"||$.data!==E.value)&&w();break;case"rejected":($.status!=="error"||$.error!==E.reason)&&w();break}}return $}updateResult(){const n=D(this,ht),r=this.createResult(D(this,ke),this.options);if(oe(this,$r,D(this,ke).state),oe(this,gs,this.options),D(this,$r).data!==void 0&&oe(this,bs,D(this,ke)),oa(r,n))return;oe(this,ht,r);const s=()=>{if(!n)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!D(this,vs).size)return!0;const l=new Set(o??D(this,vs));return this.options.throwOnError&&l.add("error"),Object.keys(D(this,ht)).some(c=>{const u=c;return D(this,ht)[u]!==n[u]&&l.has(u)})};me(this,Te,gv).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&me(this,Te,nu).call(this)}},yt=new WeakMap,ke=new WeakMap,Ni=new WeakMap,ht=new WeakMap,$r=new WeakMap,gs=new WeakMap,Vn=new WeakMap,Bn=new WeakMap,Fi=new WeakMap,ys=new WeakMap,bs=new WeakMap,Mr=new WeakMap,kr=new WeakMap,zn=new WeakMap,vs=new WeakMap,Te=new WeakSet,ci=function(n){me(this,Te,iu).call(this);let r=D(this,ke).fetch(this.options,n);return n!=null&&n.throwOnError||(r=r.catch(ut)),r},Zc=function(){me(this,Te,ru).call(this);const n=Kn(this.options.staleTime,D(this,ke));if(Pr||D(this,ht).isStale||!Xc(n))return;const r=cv(D(this,ht).dataUpdatedAt,n)+1;oe(this,Mr,setTimeout(()=>{D(this,ht).isStale||this.updateResult()},r))},eu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(D(this,ke)):this.options.refetchInterval)??!1},tu=function(n){me(this,Te,su).call(this),oe(this,zn,n),!(Pr||Ut(this.options.enabled,D(this,ke))===!1||!Xc(D(this,zn))||D(this,zn)===0)&&oe(this,kr,setInterval(()=>{(this.options.refetchIntervalInBackground||xd.isFocused())&&me(this,Te,ci).call(this)},D(this,zn)))},nu=function(){me(this,Te,Zc).call(this),me(this,Te,tu).call(this,me(this,Te,eu).call(this))},ru=function(){D(this,Mr)&&(clearTimeout(D(this,Mr)),oe(this,Mr,void 0))},su=function(){D(this,kr)&&(clearInterval(D(this,kr)),oe(this,kr,void 0))},iu=function(){const n=D(this,yt).getQueryCache().build(D(this,yt),this.options);if(n===D(this,ke))return;const r=D(this,ke);oe(this,ke,n),oe(this,Ni,n.state),this.hasListeners()&&(r==null||r.removeObserver(this),n.addObserver(this))},gv=function(n){Qe.batch(()=>{n.listeners&&this.listeners.forEach(r=>{r(D(this,ht))}),D(this,yt).getQueryCache().notify({query:D(this,ke),type:"observerResultsUpdated"})})},fy);function NE(e,t){return Ut(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function pp(e,t){return NE(e,t)||e.state.data!==void 0&&ou(e,t,t.refetchOnMount)}function ou(e,t,n){if(Ut(t.enabled,e)!==!1&&Kn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Md(e,t)}return!1}function mp(e,t,n,r){return(e!==t||Ut(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Md(e,n)}function Md(e,t){return Ut(t.enabled,e)!==!1&&e.isStaleByTime(Kn(t.staleTime,e))}function FE(e,t){return!oa(e.getCurrentResult(),t)}function WE(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var UE=x.createContext(WE()),yv=()=>x.useContext(UE),bv=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},vv=e=>{x.useEffect(()=>{e.clearReset()},[e])},wv=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||dv(n,[e.error,r])),xv=x.createContext(!1),Sv=()=>x.useContext(xv);xv.Provider;var $v=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Mv=(e,t)=>e.isLoading&&e.isFetching&&!t,au=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,la=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function VE(e,t,n){var a,d,h,p,m,g;const r=Sv(),s=yv(),i=on(n),o=i.defaultQueryOptions(e);(d=(a=i.getDefaultOptions().queries)==null?void 0:a._experimental_beforeQuery)==null||d.call(a,o),o._optimisticResults=r?"isRestoring":"optimistic",$v(o),bv(o,s),vv(s);const l=!i.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),f=!r&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(y=>{const v=f?c.subscribe(Qe.batchCalls(y)):ut;return c.updateResult(),v},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),au(o,u))throw la(o,c,s);if(wv({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,u),o.experimental_prefetchInRender&&!Pr&&Mv(u,r)&&((g=l?la(o,c,s):(m=i.getQueryCache().get(o.queryHash))==null?void 0:m.promise)==null||g.catch(ut).finally(()=>{c.updateResult()})),o.notifyOnChangeProps?u:c.trackResult(u)}function tr(e,t){return VE(e,$d,t)}const gp=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,yp=e=>"init"in e,bp=e=>!!e.write,vp=e=>"v"in e||"e"in e,go=e=>{if("e"in e)throw e.e;return e.v},ca=new WeakMap,wp=e=>{var t;return ua(e)&&!!((t=ca.get(e))!=null&&t[0])},BE=e=>{const t=ca.get(e);t!=null&&t[0]&&(t[0]=!1,t[1].forEach(n=>n()))},kv=(e,t)=>{let n=ca.get(e);if(!n){n=[!0,new Set],ca.set(e,n);const r=()=>{n[0]=!1};e.then(r,r)}n[1].add(t)},ua=e=>typeof(e==null?void 0:e.then)=="function",Iv=(e,t,n)=>{n.p.has(e)||(n.p.add(e),t.then(()=>{n.p.delete(e)},()=>{n.p.delete(e)}))},zl=(e,t,n)=>{const r=n(e),s="v"in r,i=r.v;if(ua(t))for(const o of r.d.keys())Iv(e,t,n(o));r.v=t,delete r.e,(!s||!Object.is(i,r.v))&&(++r.n,ua(i)&&BE(i))},xp=(e,t,n)=>{var r;const s=new Set;for(const i of((r=n.get(e))==null?void 0:r.t)||[])n.has(i)&&s.add(i);for(const i of t.p)s.add(i);return s},zE=Symbol(),HE=(e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new Set,s=new Set,i=new Set,o={},l=(d,...h)=>d.read(...h),c=(d,...h)=>d.write(...h),u=(d,h)=>{var p;return(p=d.unstable_onInit)==null?void 0:p.call(d,h)},f=(d,h)=>{var p;return(p=d.onMount)==null?void 0:p.call(d,h)},...a)=>{const d=a[0]||($=>{let b=e.get($);return b||(b={d:new Map,p:new Set,n:0},e.set($,b),u==null||u($,k)),b}),h=a[1]||(()=>{const $=[],b=M=>{try{M()}catch(w){$.push(w)}};do{o.f&&b(o.f);const M=new Set,w=M.add.bind(M);r.forEach(E=>{var L;return(L=t.get(E))==null?void 0:L.l.forEach(w)}),r.clear(),i.forEach(w),i.clear(),s.forEach(w),s.clear(),M.forEach(b),r.size&&p()}while(r.size||i.size||s.size);if($.length)throw new AggregateError($)}),p=a[2]||(()=>{const $=[],b=new WeakSet,M=new WeakSet,w=Array.from(r);for(;w.length;){const E=w[w.length-1],L=d(E);if(M.has(E)){w.pop();continue}if(b.has(E)){n.get(E)===L.n&&$.push([E,L]),M.add(E),w.pop();continue}b.add(E);for(const Q of xp(E,L,t))b.has(Q)||w.push(Q)}for(let E=$.length-1;E>=0;--E){const[L,Q]=$[E];let W=!1;for(const U of Q.d.keys())if(U!==L&&r.has(U)){W=!0;break}W&&(m(L),v(L)),n.delete(L)}}),m=a[3]||($=>{var b;const M=d($);if(vp(M)&&(t.has($)&&n.get($)!==M.n||Array.from(M.d).every(([H,F])=>m(H).n===F)))return M;M.d.clear();let w=!0;const E=()=>{t.has($)&&(v($),p(),h())},L=H=>{var F;if(gp($,H)){const te=d(H);if(!vp(te))if(yp(H))zl(H,H.init,d);else throw new Error("no atom init");return go(te)}const Z=m(H);try{return go(Z)}finally{M.d.set(H,Z.n),wp(M.v)&&Iv($,M.v,Z),(F=t.get(H))==null||F.t.add($),w||E()}};let Q,W;const U={get signal(){return Q||(Q=new AbortController),Q.signal},get setSelf(){return!W&&bp($)&&(W=(...H)=>{if(!w)try{return y($,...H)}finally{p(),h()}}),W}},N=M.n;try{const H=l($,L,U);return zl($,H,d),ua(H)&&(kv(H,()=>Q==null?void 0:Q.abort()),H.then(E,E)),M}catch(H){return delete M.v,M.e=H,++M.n,M}finally{w=!1,N!==M.n&&n.get($)===N&&(n.set($,M.n),r.add($),(b=o.c)==null||b.call(o,$))}}),g=a[4]||($=>{const b=[$];for(;b.length;){const M=b.pop(),w=d(M);for(const E of xp(M,w,t)){const L=d(E);n.set(E,L.n),b.push(E)}}}),y=a[5]||(($,...b)=>{let M=!0;const w=L=>go(m(L)),E=(L,...Q)=>{var W;const U=d(L);try{if(gp($,L)){if(!yp(L))throw new Error("atom not writable");const N=U.n,H=Q[0];zl(L,H,d),v(L),N!==U.n&&(r.add(L),(W=o.c)==null||W.call(o,L),g(L));return}else return y(L,...Q)}finally{M||(p(),h())}};try{return c($,w,E,...b)}finally{M=!1}}),v=a[6]||($=>{var b;const M=d($),w=t.get($);if(w&&!wp(M.v)){for(const[E,L]of M.d)if(!w.d.has(E)){const Q=d(E);I(E).t.add($),w.d.add(E),L!==Q.n&&(r.add(E),(b=o.c)==null||b.call(o,E),g(E))}for(const E of w.d||[])if(!M.d.has(E)){w.d.delete(E);const L=_(E);L==null||L.t.delete($)}}}),I=a[7]||($=>{var b;const M=d($);let w=t.get($);if(!w){m($);for(const E of M.d.keys())I(E).t.add($);if(w={l:new Set,d:new Set(M.d.keys()),t:new Set},t.set($,w),(b=o.m)==null||b.call(o,$),bp($)){const E=()=>{let L=!0;const Q=(...W)=>{try{return y($,...W)}finally{L||(p(),h())}};try{const W=f($,Q);W&&(w.u=()=>{L=!0;try{W()}finally{L=!1}})}finally{L=!1}};s.add(E)}}return w}),_=a[8]||($=>{var b;const M=d($);let w=t.get($);if(w&&!w.l.size&&!Array.from(w.t).some(E=>{var L;return(L=t.get(E))==null?void 0:L.d.has($)})){w.u&&i.add(w.u),w=void 0,t.delete($),(b=o.u)==null||b.call(o,$);for(const E of M.d.keys()){const L=_(E);L==null||L.t.delete($)}return}return w}),S=[e,t,n,r,s,i,o,l,c,u,f,d,h,p,m,g,y,v,I,_],k={get:$=>go(m($)),set:($,...b)=>{try{return y($,...b)}finally{p(),h()}},sub:($,b)=>{const M=I($).l;return M.add(b),h(),()=>{M.delete(b),_($),h()}}};return Object.defineProperty(k,zE,{value:S}),k},qE=HE,Sp=kv;let QE=0;function Ji(e,t){const n=`atom${++QE}`,r={toString(){return n}};return typeof e=="function"?r.read=e:(r.init=e,r.read=XE,r.write=GE),r}function XE(e){return e(this)}function GE(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}function kd(){return qE()}let Hl;function JE(){return Hl||(Hl=kd()),Hl}const _v=x.createContext(void 0);function Tv(e){return x.useContext(_v)||JE()}function YE({children:e,store:t}){const n=x.useRef(void 0);return!t&&!n.current&&(n.current=kd()),x.createElement(_v.Provider,{value:t||n.current},e)}const lu=e=>typeof(e==null?void 0:e.then)=="function",cu=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},KE=bn.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(cu(e),e)}),ql=new WeakMap,$p=(e,t)=>{let n=ql.get(e);return n||(n=new Promise((r,s)=>{let i=e;const o=u=>f=>{i===u&&r(f)},l=u=>f=>{i===u&&s(f)},c=()=>{try{const u=t();lu(u)?(ql.set(u,n),i=u,u.then(o(u),l(u)),Sp(u,c)):r(u)}catch(u){s(u)}};e.then(o(e),l(e)),Sp(e,c)}),ql.set(e,n)),n};function Nr(e,t){const{delay:n,unstable_promiseStatus:r=!bn.use}={},s=Tv(),[[i,o,l],c]=x.useReducer(f=>{const a=s.get(e);return Object.is(f[0],a)&&f[1]===s&&f[2]===e?f:[a,s,e]},void 0,()=>[s.get(e),s,e]);let u=i;if((o!==s||l!==e)&&(c(),u=s.get(e)),x.useEffect(()=>{const f=s.sub(e,()=>{if(r)try{const a=s.get(e);lu(a)&&cu($p(a,()=>s.get(e)))}catch{}if(typeof n=="number"){setTimeout(c,n);return}c()});return c(),f},[s,e,n,r]),x.useDebugValue(u),lu(u)){const f=$p(u,()=>s.get(e));return r&&cu(f),KE(f)}return u}function Yi(e,t){const n=Tv();return x.useCallback((...r)=>n.set(e,...r),[n,e])}function Ev(e,t){return[Nr(e),Yi(e)]}const ZE=()=>{const{t:e}=an(["common","notification"]),t=Ta(),n=cn(c=>c.socket),[r,s]=Ev(kt),i=ka(),{data:o}=tr(kE(r)),l=x.useCallback(c=>{n.emit(c),i||n.disconnect(),localStorage.removeItem("doNotShareJwt"),s(null)},[s,i,n]);return x.useEffect(()=>{r&&o&&o.banned&&(l("removeToken"),t(e("notification:info.title.banned"),"error",{app:"poexchange",toastId:"banned"}))},[o,r]),x.useEffect(()=>{const c=()=>{r&&(l("removeTokenOnly"),t(e("notification:info.title.banned"),"error",{app:"poexchange",toastId:"banned"}))};return n.on("got-banned",c),()=>{n.off("got-banned",c)}},[r,n]),x.useEffect(()=>{const c=()=>{localStorage.removeItem("doNotShareJwt"),r&&l("removeTokenOnly")};return n.on("got-logged-out",c),()=>{n.off("got-logged-out",c)}},[n]),x.useEffect(()=>{!i&&!r&&n.connected&&n.disconnect()},[r,i,n]),null},eC=x.memo(ZE);async function wW(e){return(await Pe().post("/notifications",e)).data}async function tC(e){return(await Pe().post("/notifications/mark-read",e)).data}async function nC(e){return(await Pe().post("/notifications/delete-notifications",e)).data}async function rC(e){return(await Pe().get(`/notifications/${av(e)}`)).data}async function sC(e){const t=await Pe().get(`/notifications/trade/${e}`);if(!t.data)throw new Error;return(!t.data.meta.subCategory||t.data.meta.subCategory==="ALL")&&(t.data.meta.subCategory=""),t.data}const xW=e=>({queryKey:["trade-notification",e],queryFn:()=>sC(e),staleTime:5*60*1e3,gcTime:0,enabled:$e.isClient}),iC=(e,t,n)=>{var r;return{queryKey:["notifications"],queryFn:async()=>await rC(t),staleTime:1/0,enabled:$e.isClient&&!!((r=e==null?void 0:e.profile)!=null&&r.uuid)&&n!==!1,retry:!0}},Cv="%[a-f0-9]{2}",Mp=new RegExp("("+Cv+")|([^%]+?)","gi"),kp=new RegExp("("+Cv+")+","gi");function uu(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;const n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],uu(n),uu(r))}function oC(e){try{return decodeURIComponent(e)}catch{let t=e.match(Mp)||[];for(let n=1;n<t.length;n++)e=uu(t,n).join(""),t=e.match(Mp)||[];return e}}function aC(e){const t={"%FE%FF":"","%FF%FE":""};let n=kp.exec(e);for(;n;){try{t[n[0]]=decodeURIComponent(n[0])}catch{const s=oC(n[0]);s!==n[0]&&(t[n[0]]=s)}n=kp.exec(e)}t["%C2"]="";const r=Object.keys(t);for(const s of r)e=e.replace(new RegExp(s,"g"),t[s]);return e}function lC(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return aC(e)}}function cC(e,t){if(typeof e!="string")throw new TypeError("Expected the arguments to be of type `string`");if(e===""||t==="")return[];const n=e.indexOf(t);return n===-1?[]:[e.slice(0,n),e.slice(n+t.length)]}const uC=e=>e==null,dC=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Ip=Symbol("encodeFragmentIdentifier");function fC(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const s=n.length;return r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Ke(t,e),"[",s,"]"].join("")]:[...n,[Ke(t,e),"[",Ke(s,e),"]=",Ke(r,e)].join("")]};case"bracket":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Ke(t,e),"[]"].join("")]:[...n,[Ke(t,e),"[]=",Ke(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,[Ke(t,e),":list="].join("")]:[...n,[Ke(t,e),":list=",Ke(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t=e.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,s)=>s===void 0||e.skipNull&&s===null||e.skipEmptyString&&s===""?r:(s=s===null?"":s,r.length===0?[[Ke(n,e),t,Ke(s,e)].join("")]:[[r,Ke(s,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>r===void 0||e.skipNull&&r===null||e.skipEmptyString&&r===""?n:r===null?[...n,Ke(t,e)]:[...n,[Ke(t,e),"=",Ke(r,e)].join("")]}}function hC(e){let t;switch(e.arrayFormat){case"index":return(n,r,s)=>{if(t=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!t){s[n]=r;return}s[n]===void 0&&(s[n]={}),s[n][t[1]]=r};case"bracket":return(n,r,s)=>{if(t=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!t){s[n]=r;return}if(s[n]===void 0){s[n]=[r];return}s[n]=[...s[n],r]};case"colon-list-separator":return(n,r,s)=>{if(t=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!t){s[n]=r;return}if(s[n]===void 0){s[n]=[r];return}s[n]=[...s[n],r]};case"comma":case"separator":return(n,r,s)=>{const i=typeof r=="string"&&r.includes(e.arrayFormatSeparator),o=typeof r=="string"&&!i&&Nn(r,e).includes(e.arrayFormatSeparator);r=o?Nn(r,e):r;const l=i||o?r.split(e.arrayFormatSeparator).map(c=>Nn(c,e)):r===null?r:Nn(r,e);s[n]=l};case"bracket-separator":return(n,r,s)=>{const i=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!i){s[n]=r&&Nn(r,e);return}const o=r===null?[]:Nn(r,e).split(e.arrayFormatSeparator);if(s[n]===void 0){s[n]=o;return}s[n]=[...s[n],...o]};default:return(n,r,s)=>{if(s[n]===void 0){s[n]=r;return}s[n]=[...[s[n]].flat(),r]}}}function Av(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Ke(e,t){return t.encode?t.strict?dC(e):encodeURIComponent(e):e}function Nn(e,t){return t.decode?lC(e):e}function Pv(e){return Array.isArray(e)?e.sort():typeof e=="object"?Pv(Object.keys(e)).sort((t,n)=>Number(t)-Number(n)).map(t=>e[t]):e}function Lv(e){const t=e.indexOf("#");return t!==-1&&(e=e.slice(0,t)),e}function pC(e){let t="";const n=e.indexOf("#");return n!==-1&&(t=e.slice(n)),t}function _p(e,t,n){return n==="string"&&typeof e=="string"?e:typeof n=="function"&&typeof e=="string"?n(e):n==="boolean"&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")?e.toLowerCase()==="true":n==="boolean"&&e!==null&&(e.toLowerCase()==="1"||e.toLowerCase()==="0")?e.toLowerCase()==="1":n==="string[]"&&t.arrayFormat!=="none"&&typeof e=="string"?[e]:n==="number[]"&&t.arrayFormat!=="none"&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?[Number(e)]:n==="number"&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?Number(e):t.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")?e.toLowerCase()==="true":t.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?Number(e):e}function mC(e){e=Lv(e);const t=e.indexOf("?");return t===-1?"":e.slice(t+1)}function gC(e,t){t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null),...t},Av(t.arrayFormatSeparator);const n=hC(t),r=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return r;for(const s of e.split("&")){if(s==="")continue;const i=t.decode?s.replaceAll("+"," "):s;let[o,l]=cC(i,"=");o===void 0&&(o=i),l=l===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?l:Nn(l,t),n(Nn(o,t),l,r)}for(const[s,i]of Object.entries(r))if(typeof i=="object"&&i!==null&&t.types[s]!=="string")for(const[o,l]of Object.entries(i)){const c=t.types[s]?t.types[s].replace("[]",""):void 0;i[o]=_p(l,t,c)}else typeof i=="object"&&i!==null&&t.types[s]==="string"?r[s]=Object.values(i).join(t.arrayFormatSeparator):r[s]=_p(i,t,t.types[s]);return t.sort===!1?r:(t.sort===!0?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((s,i)=>{const o=r[i];return s[i]=o&&typeof o=="object"&&!Array.isArray(o)?Pv(o):o,s},Object.create(null))}function yC(e,t){if(!e)return"";t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t},Av(t.arrayFormatSeparator);const n=o=>t.skipNull&&uC(e[o])||t.skipEmptyString&&e[o]==="",r=fC(t),s={};for(const[o,l]of Object.entries(e))n(o)||(s[o]=l);const i=Object.keys(s);return t.sort!==!1&&i.sort(t.sort),i.map(o=>{const l=e[o];return l===void 0?"":l===null?Ke(o,t):Array.isArray(l)?l.length===0&&t.arrayFormat==="bracket-separator"?Ke(o,t)+"[]":l.reduce(r(o),[]).join("&"):Ke(o,t)+"="+Ke(l,t)}).filter(o=>o.length>0).join("&")}function Fr(e,t){t={encode:!0,strict:!0,[Ip]:!0,...t};const n=Lv(e.url).split("?")[0]||"",r=mC(e.url),s={...gC(r,{sort:!1}),...e.query};let i=yC(s,t);i&&(i=`?${i}`);let o=pC(e.url);if(typeof e.fragmentIdentifier=="string"){const l=new URL(n);l.hash=e.fragmentIdentifier,o=t[Ip]?l.hash:`#${e.fragmentIdentifier}`}return`${n}${i}${o}`}const bC=async(e,t,n,r)=>(await Pe().get(Fr({url:`/services/${e}/${t}/${n}`,query:{serviceName:r}}))).data,vC=async(e,t)=>(await Pe().get(Fr({url:`/services/${e}/my/list`,query:{league:t}}))).data,wC=async()=>{await Pe().post(Fr({url:"/services/relistAllServices"}))},SW=async e=>{await Pe().post(Fr({url:"/services/addOrUpdateList"}),e)},$W=async(e,t)=>{await Pe().patch(Fr({url:`/services/update/${e}`}),t)},xC=async()=>(await Pe().get(Fr({url:"/vouches/my/list"}))).data,SC=async e=>(await Pe().get(Fr({url:`/vouches/user/${e}`}))).data;var Qt,pt,Ir,Xt,jn,hy,$C=(hy=class extends pv{constructor(n){super();ue(this,Xt);ue(this,Qt);ue(this,pt);ue(this,Ir);this.mutationId=n.mutationId,oe(this,pt,n.mutationCache),oe(this,Qt,[]),this.state=n.state||Ov(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){D(this,Qt).includes(n)||(D(this,Qt).push(n),this.clearGcTimeout(),D(this,pt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){oe(this,Qt,D(this,Qt).filter(r=>r!==n)),this.scheduleGc(),D(this,pt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){D(this,Qt).length||(this.state.status==="pending"?this.scheduleGc():D(this,pt).remove(this))}continue(){var n;return((n=D(this,Ir))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,l,c,u,f,a,d,h,p,m,g,y,v,I,_,S,k,$,b,M;const r=()=>{me(this,Xt,jn).call(this,{type:"continue"})};oe(this,Ir,hv({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(w,E)=>{me(this,Xt,jn).call(this,{type:"failed",failureCount:w,error:E})},onPause:()=>{me(this,Xt,jn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,pt).canRun(this)}));const s=this.state.status==="pending",i=!D(this,Ir).canStart();try{if(s)r();else{me(this,Xt,jn).call(this,{type:"pending",variables:n,isPaused:i}),await((l=(o=D(this,pt).config).onMutate)==null?void 0:l.call(o,n,this));const E=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));E!==this.state.context&&me(this,Xt,jn).call(this,{type:"pending",context:E,variables:n,isPaused:i})}const w=await D(this,Ir).start();return await((a=(f=D(this,pt).config).onSuccess)==null?void 0:a.call(f,w,n,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,w,n,this.state.context)),await((m=(p=D(this,pt).config).onSettled)==null?void 0:m.call(p,w,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,w,null,n,this.state.context)),me(this,Xt,jn).call(this,{type:"success",data:w}),w}catch(w){try{throw await((I=(v=D(this,pt).config).onError)==null?void 0:I.call(v,w,n,this.state.context,this)),await((S=(_=this.options).onError)==null?void 0:S.call(_,w,n,this.state.context)),await(($=(k=D(this,pt).config).onSettled)==null?void 0:$.call(k,void 0,w,this.state.variables,this.state.context,this)),await((M=(b=this.options).onSettled)==null?void 0:M.call(b,void 0,w,n,this.state.context)),w}finally{me(this,Xt,jn).call(this,{type:"error",error:w})}}finally{D(this,pt).runNext(this)}}},Qt=new WeakMap,pt=new WeakMap,Ir=new WeakMap,Xt=new WeakSet,jn=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Qe.batch(()=>{D(this,Qt).forEach(s=>{s.onMutationUpdate(n)}),D(this,pt).notify({mutation:this,type:"updated",action:n})})},hy);function Ov(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hn,qn,bt,mn,Sn,Ho,du,py,MC=(py=class extends Dr{constructor(n,r){super();ue(this,Sn);ue(this,Hn);ue(this,qn);ue(this,bt);ue(this,mn);oe(this,Hn,n),this.setOptions(r),this.bindMethods(),me(this,Sn,Ho).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=D(this,Hn).defaultMutationOptions(n),oa(this.options,r)||D(this,Hn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:D(this,bt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&er(r.mutationKey)!==er(this.options.mutationKey)?this.reset():((s=D(this,bt))==null?void 0:s.state.status)==="pending"&&D(this,bt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||((n=D(this,bt))==null||n.removeObserver(this))}onMutationUpdate(n){me(this,Sn,Ho).call(this),me(this,Sn,du).call(this,n)}getCurrentResult(){return D(this,qn)}reset(){var n;(n=D(this,bt))==null||n.removeObserver(this),oe(this,bt,void 0),me(this,Sn,Ho).call(this),me(this,Sn,du).call(this)}mutate(n,r){var s;return oe(this,mn,r),(s=D(this,bt))==null||s.removeObserver(this),oe(this,bt,D(this,Hn).getMutationCache().build(D(this,Hn),this.options)),D(this,bt).addObserver(this),D(this,bt).execute(n)}},Hn=new WeakMap,qn=new WeakMap,bt=new WeakMap,mn=new WeakMap,Sn=new WeakSet,Ho=function(){var r;const n=((r=D(this,bt))==null?void 0:r.state)??Ov();oe(this,qn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},du=function(n){Qe.batch(()=>{var r,s,i,o,l,c,u,f;if(D(this,mn)&&this.hasListeners()){const a=D(this,qn).variables,d=D(this,qn).context;(n==null?void 0:n.type)==="success"?((s=(r=D(this,mn)).onSuccess)==null||s.call(r,n.data,a,d),(o=(i=D(this,mn)).onSettled)==null||o.call(i,n.data,null,a,d)):(n==null?void 0:n.type)==="error"&&((c=(l=D(this,mn)).onError)==null||c.call(l,n.error,a,d),(f=(u=D(this,mn)).onSettled)==null||f.call(u,void 0,n.error,a,d))}this.listeners.forEach(a=>{a(D(this,qn))})})},py);function Si(e,t){const n=on(t),[r]=x.useState(()=>new MC(n,e));x.useEffect(()=>{r.setOptions(e)},[r,e]);const s=x.useSyncExternalStore(x.useCallback(o=>r.subscribe(Qe.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=x.useCallback((o,l)=>{r.mutate(o,l).catch(ut)},[r]);if(s.error&&dv(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const Tp=e=>Symbol.iterator in e,Ep=e=>"entries"in e,Cp=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[s,i]of n)if(!Object.is(i,r.get(s)))return!1;return!0},kC=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let s=n.next(),i=r.next();for(;!s.done&&!i.done;){if(!Object.is(s.value,i.value))return!1;s=n.next(),i=r.next()}return!!s.done&&!!i.done};function IC(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:Tp(e)&&Tp(t)?Ep(e)&&Ep(t)?Cp(e,t):kC(e,t):Cp({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function Lr(e){const t=bn.useRef(void 0);return n=>{const r=e(n);return IC(t.current,r)?t.current:t.current=r}}var Ql={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var Ap;function _C(){return Ap||(Ap=1,function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var a=this||n;return a._counter=1e3,a._html5AudioPool=[],a.html5PoolSize=10,a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a._canPlayEvent="canplaythrough",a._navigator=typeof window<"u"&&window.navigator?window.navigator:null,a.masterGain=null,a.noAudio=!1,a.usingWebAudio=!0,a.autoSuspend=!0,a.ctx=null,a.autoUnlock=!0,a._setup(),a},volume:function(a){var d=this||n;if(a=parseFloat(a),d.ctx||f(),typeof a<"u"&&a>=0&&a<=1){if(d._volume=a,d._muted)return d;d.usingWebAudio&&d.masterGain.gain.setValueAtTime(a,n.ctx.currentTime);for(var h=0;h<d._howls.length;h++)if(!d._howls[h]._webAudio)for(var p=d._howls[h]._getSoundIds(),m=0;m<p.length;m++){var g=d._howls[h]._soundById(p[m]);g&&g._node&&(g._node.volume=g._volume*a)}return d}return d._volume},mute:function(a){var d=this||n;d.ctx||f(),d._muted=a,d.usingWebAudio&&d.masterGain.gain.setValueAtTime(a?0:d._volume,n.ctx.currentTime);for(var h=0;h<d._howls.length;h++)if(!d._howls[h]._webAudio)for(var p=d._howls[h]._getSoundIds(),m=0;m<p.length;m++){var g=d._howls[h]._soundById(p[m]);g&&g._node&&(g._node.muted=a?!0:g._muted)}return d},stop:function(){for(var a=this||n,d=0;d<a._howls.length;d++)a._howls[d].stop();return a},unload:function(){for(var a=this||n,d=a._howls.length-1;d>=0;d--)a._howls[d].unload();return a.usingWebAudio&&a.ctx&&typeof a.ctx.close<"u"&&(a.ctx.close(),a.ctx=null,f()),a},codecs:function(a){return(this||n)._codecs[a.replace(/^x-/,"")]},_setup:function(){var a=this||n;if(a.state=a.ctx&&a.ctx.state||"suspended",a._autoSuspend(),!a.usingWebAudio)if(typeof Audio<"u")try{var d=new Audio;typeof d.oncanplaythrough>"u"&&(a._canPlayEvent="canplay")}catch{a.noAudio=!0}else a.noAudio=!0;try{var d=new Audio;d.muted&&(a.noAudio=!0)}catch{}return a.noAudio||a._setupCodecs(),a},_setupCodecs:function(){var a=this||n,d=null;try{d=typeof Audio<"u"?new Audio:null}catch{return a}if(!d||typeof d.canPlayType!="function")return a;var h=d.canPlayType("audio/mpeg;").replace(/^no$/,""),p=a._navigator?a._navigator.userAgent:"",m=p.match(/OPR\/(\d+)/g),g=m&&parseInt(m[0].split("/")[1],10)<33,y=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1,v=p.match(/Version\/(.*?) /),I=y&&v&&parseInt(v[1],10)<15;return a._codecs={mp3:!!(!g&&(h||d.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!h,opus:!!d.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!d.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(d.canPlayType('audio/wav; codecs="1"')||d.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!d.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!d.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(d.canPlayType("audio/x-m4a;")||d.canPlayType("audio/m4a;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(d.canPlayType("audio/x-m4b;")||d.canPlayType("audio/m4b;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(d.canPlayType("audio/x-mp4;")||d.canPlayType("audio/mp4;")||d.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!I&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!I&&d.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!d.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(d.canPlayType("audio/x-flac;")||d.canPlayType("audio/flac;")).replace(/^no$/,"")},a},_unlockAudio:function(){var a=this||n;if(!(a._audioUnlocked||!a.ctx)){a._audioUnlocked=!1,a.autoUnlock=!1,!a._mobileUnloaded&&a.ctx.sampleRate!==44100&&(a._mobileUnloaded=!0,a.unload()),a._scratchBuffer=a.ctx.createBuffer(1,1,22050);var d=function(h){for(;a._html5AudioPool.length<a.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,a._releaseHtml5Audio(p)}catch{a.noAudio=!0;break}for(var m=0;m<a._howls.length;m++)if(!a._howls[m]._webAudio)for(var g=a._howls[m]._getSoundIds(),y=0;y<g.length;y++){var v=a._howls[m]._soundById(g[y]);v&&v._node&&!v._node._unlocked&&(v._node._unlocked=!0,v._node.load())}a._autoResume();var I=a.ctx.createBufferSource();I.buffer=a._scratchBuffer,I.connect(a.ctx.destination),typeof I.start>"u"?I.noteOn(0):I.start(0),typeof a.ctx.resume=="function"&&a.ctx.resume(),I.onended=function(){I.disconnect(0),a._audioUnlocked=!0,document.removeEventListener("touchstart",d,!0),document.removeEventListener("touchend",d,!0),document.removeEventListener("click",d,!0),document.removeEventListener("keydown",d,!0);for(var _=0;_<a._howls.length;_++)a._howls[_]._emit("unlock")}};return document.addEventListener("touchstart",d,!0),document.addEventListener("touchend",d,!0),document.addEventListener("click",d,!0),document.addEventListener("keydown",d,!0),a}},_obtainHtml5Audio:function(){var a=this||n;if(a._html5AudioPool.length)return a._html5AudioPool.pop();var d=new Audio().play();return d&&typeof Promise<"u"&&(d instanceof Promise||typeof d.then=="function")&&d.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(a){var d=this||n;return a._unlocked&&d._html5AudioPool.push(a),d},_autoSuspend:function(){var a=this;if(!(!a.autoSuspend||!a.ctx||typeof a.ctx.suspend>"u"||!n.usingWebAudio)){for(var d=0;d<a._howls.length;d++)if(a._howls[d]._webAudio){for(var h=0;h<a._howls[d]._sounds.length;h++)if(!a._howls[d]._sounds[h]._paused)return a}return a._suspendTimer&&clearTimeout(a._suspendTimer),a._suspendTimer=setTimeout(function(){if(a.autoSuspend){a._suspendTimer=null,a.state="suspending";var p=function(){a.state="suspended",a._resumeAfterSuspend&&(delete a._resumeAfterSuspend,a._autoResume())};a.ctx.suspend().then(p,p)}},3e4),a}},_autoResume:function(){var a=this;if(!(!a.ctx||typeof a.ctx.resume>"u"||!n.usingWebAudio))return a.state==="running"&&a.ctx.state!=="interrupted"&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):a.state==="suspended"||a.state==="running"&&a.ctx.state==="interrupted"?(a.ctx.resume().then(function(){a.state="running";for(var d=0;d<a._howls.length;d++)a._howls[d]._emit("resume")}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):a.state==="suspending"&&(a._resumeAfterSuspend=!0),a}};var n=new t,r=function(a){var d=this;if(!a.src||a.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}d.init(a)};r.prototype={init:function(a){var d=this;return n.ctx||f(),d._autoplay=a.autoplay||!1,d._format=typeof a.format!="string"?a.format:[a.format],d._html5=a.html5||!1,d._muted=a.mute||!1,d._loop=a.loop||!1,d._pool=a.pool||5,d._preload=typeof a.preload=="boolean"||a.preload==="metadata"?a.preload:!0,d._rate=a.rate||1,d._sprite=a.sprite||{},d._src=typeof a.src!="string"?a.src:[a.src],d._volume=a.volume!==void 0?a.volume:1,d._xhr={method:a.xhr&&a.xhr.method?a.xhr.method:"GET",headers:a.xhr&&a.xhr.headers?a.xhr.headers:null,withCredentials:a.xhr&&a.xhr.withCredentials?a.xhr.withCredentials:!1},d._duration=0,d._state="unloaded",d._sounds=[],d._endTimers={},d._queue=[],d._playLock=!1,d._onend=a.onend?[{fn:a.onend}]:[],d._onfade=a.onfade?[{fn:a.onfade}]:[],d._onload=a.onload?[{fn:a.onload}]:[],d._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],d._onplayerror=a.onplayerror?[{fn:a.onplayerror}]:[],d._onpause=a.onpause?[{fn:a.onpause}]:[],d._onplay=a.onplay?[{fn:a.onplay}]:[],d._onstop=a.onstop?[{fn:a.onstop}]:[],d._onmute=a.onmute?[{fn:a.onmute}]:[],d._onvolume=a.onvolume?[{fn:a.onvolume}]:[],d._onrate=a.onrate?[{fn:a.onrate}]:[],d._onseek=a.onseek?[{fn:a.onseek}]:[],d._onunlock=a.onunlock?[{fn:a.onunlock}]:[],d._onresume=[],d._webAudio=n.usingWebAudio&&!d._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(d),d._autoplay&&d._queue.push({event:"play",action:function(){d.play()}}),d._preload&&d._preload!=="none"&&d.load(),d},load:function(){var a=this,d=null;if(n.noAudio){a._emit("loaderror",null,"No audio support.");return}typeof a._src=="string"&&(a._src=[a._src]);for(var h=0;h<a._src.length;h++){var p,m;if(a._format&&a._format[h])p=a._format[h];else{if(m=a._src[h],typeof m!="string"){a._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}p=/^data:audio\/([^;,]+);/i.exec(m),p||(p=/\.([^.]+)$/.exec(m.split("?",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),p&&n.codecs(p)){d=a._src[h];break}}if(!d){a._emit("loaderror",null,"No codec support for selected audio sources.");return}return a._src=d,a._state="loading",window.location.protocol==="https:"&&d.slice(0,5)==="http:"&&(a._html5=!0,a._webAudio=!1),new s(a),a._webAudio&&o(a),a},play:function(a,d){var h=this,p=null;if(typeof a=="number")p=a,a=null;else{if(typeof a=="string"&&h._state==="loaded"&&!h._sprite[a])return null;if(typeof a>"u"&&(a="__default",!h._playLock)){for(var m=0,g=0;g<h._sounds.length;g++)h._sounds[g]._paused&&!h._sounds[g]._ended&&(m++,p=h._sounds[g]._id);m===1?a=null:p=null}}var y=p?h._soundById(p):h._inactiveSound();if(!y)return null;if(p&&!a&&(a=y._sprite||"__default"),h._state!=="loaded"){y._sprite=a,y._ended=!1;var v=y._id;return h._queue.push({event:"play",action:function(){h.play(v)}}),v}if(p&&!y._paused)return d||h._loadQueue("play"),y._id;h._webAudio&&n._autoResume();var I=Math.max(0,y._seek>0?y._seek:h._sprite[a][0]/1e3),_=Math.max(0,(h._sprite[a][0]+h._sprite[a][1])/1e3-I),S=_*1e3/Math.abs(y._rate),k=h._sprite[a][0]/1e3,$=(h._sprite[a][0]+h._sprite[a][1])/1e3;y._sprite=a,y._ended=!1;var b=function(){y._paused=!1,y._seek=I,y._start=k,y._stop=$,y._loop=!!(y._loop||h._sprite[a][2])};if(I>=$){h._ended(y);return}var M=y._node;if(h._webAudio){var w=function(){h._playLock=!1,b(),h._refreshBuffer(y);var W=y._muted||h._muted?0:y._volume;M.gain.setValueAtTime(W,n.ctx.currentTime),y._playStart=n.ctx.currentTime,typeof M.bufferSource.start>"u"?y._loop?M.bufferSource.noteGrainOn(0,I,86400):M.bufferSource.noteGrainOn(0,I,_):y._loop?M.bufferSource.start(0,I,86400):M.bufferSource.start(0,I,_),S!==1/0&&(h._endTimers[y._id]=setTimeout(h._ended.bind(h,y),S)),d||setTimeout(function(){h._emit("play",y._id),h._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?w():(h._playLock=!0,h.once("resume",w),h._clearTimer(y._id))}else{var E=function(){M.currentTime=I,M.muted=y._muted||h._muted||n._muted||M.muted,M.volume=y._volume*n.volume(),M.playbackRate=y._rate;try{var W=M.play();if(W&&typeof Promise<"u"&&(W instanceof Promise||typeof W.then=="function")?(h._playLock=!0,b(),W.then(function(){h._playLock=!1,M._unlocked=!0,d?h._loadQueue():h._emit("play",y._id)}).catch(function(){h._playLock=!1,h._emit("playerror",y._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),y._ended=!0,y._paused=!0})):d||(h._playLock=!1,b(),h._emit("play",y._id)),M.playbackRate=y._rate,M.paused){h._emit("playerror",y._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}a!=="__default"||y._loop?h._endTimers[y._id]=setTimeout(h._ended.bind(h,y),S):(h._endTimers[y._id]=function(){h._ended(y),M.removeEventListener("ended",h._endTimers[y._id],!1)},M.addEventListener("ended",h._endTimers[y._id],!1))}catch(U){h._emit("playerror",y._id,U)}};M.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(M.src=h._src,M.load());var L=window&&window.ejecta||!M.readyState&&n._navigator.isCocoonJS;if(M.readyState>=3||L)E();else{h._playLock=!0,h._state="loading";var Q=function(){h._state="loaded",E(),M.removeEventListener(n._canPlayEvent,Q,!1)};M.addEventListener(n._canPlayEvent,Q,!1),h._clearTimer(y._id)}}return y._id},pause:function(a){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"pause",action:function(){d.pause(a)}}),d;for(var h=d._getSoundIds(a),p=0;p<h.length;p++){d._clearTimer(h[p]);var m=d._soundById(h[p]);if(m&&!m._paused&&(m._seek=d.seek(h[p]),m._rateSeek=0,m._paused=!0,d._stopFade(h[p]),m._node))if(d._webAudio){if(!m._node.bufferSource)continue;typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),d._cleanBuffer(m._node)}else(!isNaN(m._node.duration)||m._node.duration===1/0)&&m._node.pause();arguments[1]||d._emit("pause",m?m._id:null)}return d},stop:function(a,d){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"stop",action:function(){h.stop(a)}}),h;for(var p=h._getSoundIds(a),m=0;m<p.length;m++){h._clearTimer(p[m]);var g=h._soundById(p[m]);g&&(g._seek=g._start||0,g._rateSeek=0,g._paused=!0,g._ended=!0,h._stopFade(p[m]),g._node&&(h._webAudio?g._node.bufferSource&&(typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),h._cleanBuffer(g._node)):(!isNaN(g._node.duration)||g._node.duration===1/0)&&(g._node.currentTime=g._start||0,g._node.pause(),g._node.duration===1/0&&h._clearSound(g._node))),d||h._emit("stop",g._id))}return h},mute:function(a,d){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"mute",action:function(){h.mute(a,d)}}),h;if(typeof d>"u")if(typeof a=="boolean")h._muted=a;else return h._muted;for(var p=h._getSoundIds(d),m=0;m<p.length;m++){var g=h._soundById(p[m]);g&&(g._muted=a,g._interval&&h._stopFade(g._id),h._webAudio&&g._node?g._node.gain.setValueAtTime(a?0:g._volume,n.ctx.currentTime):g._node&&(g._node.muted=n._muted?!0:a),h._emit("mute",g._id))}return h},volume:function(){var a=this,d=arguments,h,p;if(d.length===0)return a._volume;if(d.length===1||d.length===2&&typeof d[1]>"u"){var m=a._getSoundIds(),g=m.indexOf(d[0]);g>=0?p=parseInt(d[0],10):h=parseFloat(d[0])}else d.length>=2&&(h=parseFloat(d[0]),p=parseInt(d[1],10));var y;if(typeof h<"u"&&h>=0&&h<=1){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"volume",action:function(){a.volume.apply(a,d)}}),a;typeof p>"u"&&(a._volume=h),p=a._getSoundIds(p);for(var v=0;v<p.length;v++)y=a._soundById(p[v]),y&&(y._volume=h,d[2]||a._stopFade(p[v]),a._webAudio&&y._node&&!y._muted?y._node.gain.setValueAtTime(h,n.ctx.currentTime):y._node&&!y._muted&&(y._node.volume=h*n.volume()),a._emit("volume",y._id))}else return y=p?a._soundById(p):a._sounds[0],y?y._volume:0;return a},fade:function(a,d,h,p){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"fade",action:function(){m.fade(a,d,h,p)}}),m;a=Math.min(Math.max(0,parseFloat(a)),1),d=Math.min(Math.max(0,parseFloat(d)),1),h=parseFloat(h),m.volume(a,p);for(var g=m._getSoundIds(p),y=0;y<g.length;y++){var v=m._soundById(g[y]);if(v){if(p||m._stopFade(g[y]),m._webAudio&&!v._muted){var I=n.ctx.currentTime,_=I+h/1e3;v._volume=a,v._node.gain.setValueAtTime(a,I),v._node.gain.linearRampToValueAtTime(d,_)}m._startFadeInterval(v,a,d,h,g[y],typeof p>"u")}}return m},_startFadeInterval:function(a,d,h,p,m,g){var y=this,v=d,I=h-d,_=Math.abs(I/.01),S=Math.max(4,_>0?p/_:p),k=Date.now();a._fadeTo=h,a._interval=setInterval(function(){var $=(Date.now()-k)/p;k=Date.now(),v+=I*$,v=Math.round(v*100)/100,I<0?v=Math.max(h,v):v=Math.min(h,v),y._webAudio?a._volume=v:y.volume(v,a._id,!0),g&&(y._volume=v),(h<d&&v<=h||h>d&&v>=h)&&(clearInterval(a._interval),a._interval=null,a._fadeTo=null,y.volume(h,a._id),y._emit("fade",a._id))},S)},_stopFade:function(a){var d=this,h=d._soundById(a);return h&&h._interval&&(d._webAudio&&h._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(h._interval),h._interval=null,d.volume(h._fadeTo,a),h._fadeTo=null,d._emit("fade",a)),d},loop:function(){var a=this,d=arguments,h,p,m;if(d.length===0)return a._loop;if(d.length===1)if(typeof d[0]=="boolean")h=d[0],a._loop=h;else return m=a._soundById(parseInt(d[0],10)),m?m._loop:!1;else d.length===2&&(h=d[0],p=parseInt(d[1],10));for(var g=a._getSoundIds(p),y=0;y<g.length;y++)m=a._soundById(g[y]),m&&(m._loop=h,a._webAudio&&m._node&&m._node.bufferSource&&(m._node.bufferSource.loop=h,h&&(m._node.bufferSource.loopStart=m._start||0,m._node.bufferSource.loopEnd=m._stop,a.playing(g[y])&&(a.pause(g[y],!0),a.play(g[y],!0)))));return a},rate:function(){var a=this,d=arguments,h,p;if(d.length===0)p=a._sounds[0]._id;else if(d.length===1){var m=a._getSoundIds(),g=m.indexOf(d[0]);g>=0?p=parseInt(d[0],10):h=parseFloat(d[0])}else d.length===2&&(h=parseFloat(d[0]),p=parseInt(d[1],10));var y;if(typeof h=="number"){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"rate",action:function(){a.rate.apply(a,d)}}),a;typeof p>"u"&&(a._rate=h),p=a._getSoundIds(p);for(var v=0;v<p.length;v++)if(y=a._soundById(p[v]),y){a.playing(p[v])&&(y._rateSeek=a.seek(p[v]),y._playStart=a._webAudio?n.ctx.currentTime:y._playStart),y._rate=h,a._webAudio&&y._node&&y._node.bufferSource?y._node.bufferSource.playbackRate.setValueAtTime(h,n.ctx.currentTime):y._node&&(y._node.playbackRate=h);var I=a.seek(p[v]),_=(a._sprite[y._sprite][0]+a._sprite[y._sprite][1])/1e3-I,S=_*1e3/Math.abs(y._rate);(a._endTimers[p[v]]||!y._paused)&&(a._clearTimer(p[v]),a._endTimers[p[v]]=setTimeout(a._ended.bind(a,y),S)),a._emit("rate",y._id)}}else return y=a._soundById(p),y?y._rate:a._rate;return a},seek:function(){var a=this,d=arguments,h,p;if(d.length===0)a._sounds.length&&(p=a._sounds[0]._id);else if(d.length===1){var m=a._getSoundIds(),g=m.indexOf(d[0]);g>=0?p=parseInt(d[0],10):a._sounds.length&&(p=a._sounds[0]._id,h=parseFloat(d[0]))}else d.length===2&&(h=parseFloat(d[0]),p=parseInt(d[1],10));if(typeof p>"u")return 0;if(typeof h=="number"&&(a._state!=="loaded"||a._playLock))return a._queue.push({event:"seek",action:function(){a.seek.apply(a,d)}}),a;var y=a._soundById(p);if(y)if(typeof h=="number"&&h>=0){var v=a.playing(p);v&&a.pause(p,!0),y._seek=h,y._ended=!1,a._clearTimer(p),!a._webAudio&&y._node&&!isNaN(y._node.duration)&&(y._node.currentTime=h);var I=function(){v&&a.play(p,!0),a._emit("seek",p)};if(v&&!a._webAudio){var _=function(){a._playLock?setTimeout(_,0):I()};setTimeout(_,0)}else I()}else if(a._webAudio){var S=a.playing(p)?n.ctx.currentTime-y._playStart:0,k=y._rateSeek?y._rateSeek-y._seek:0;return y._seek+(k+S*Math.abs(y._rate))}else return y._node.currentTime;return a},playing:function(a){var d=this;if(typeof a=="number"){var h=d._soundById(a);return h?!h._paused:!1}for(var p=0;p<d._sounds.length;p++)if(!d._sounds[p]._paused)return!0;return!1},duration:function(a){var d=this,h=d._duration,p=d._soundById(a);return p&&(h=d._sprite[p._sprite][1]/1e3),h},state:function(){return this._state},unload:function(){for(var a=this,d=a._sounds,h=0;h<d.length;h++)d[h]._paused||a.stop(d[h]._id),a._webAudio||(a._clearSound(d[h]._node),d[h]._node.removeEventListener("error",d[h]._errorFn,!1),d[h]._node.removeEventListener(n._canPlayEvent,d[h]._loadFn,!1),d[h]._node.removeEventListener("ended",d[h]._endFn,!1),n._releaseHtml5Audio(d[h]._node)),delete d[h]._node,a._clearTimer(d[h]._id);var p=n._howls.indexOf(a);p>=0&&n._howls.splice(p,1);var m=!0;for(h=0;h<n._howls.length;h++)if(n._howls[h]._src===a._src||a._src.indexOf(n._howls[h]._src)>=0){m=!1;break}return m&&delete i[a._src],n.noAudio=!1,a._state="unloaded",a._sounds=[],a=null,null},on:function(a,d,h,p){var m=this,g=m["_on"+a];return typeof d=="function"&&g.push(p?{id:h,fn:d,once:p}:{id:h,fn:d}),m},off:function(a,d,h){var p=this,m=p["_on"+a],g=0;if(typeof d=="number"&&(h=d,d=null),d||h)for(g=0;g<m.length;g++){var y=h===m[g].id;if(d===m[g].fn&&y||!d&&y){m.splice(g,1);break}}else if(a)p["_on"+a]=[];else{var v=Object.keys(p);for(g=0;g<v.length;g++)v[g].indexOf("_on")===0&&Array.isArray(p[v[g]])&&(p[v[g]]=[])}return p},once:function(a,d,h){var p=this;return p.on(a,d,h,1),p},_emit:function(a,d,h){for(var p=this,m=p["_on"+a],g=m.length-1;g>=0;g--)(!m[g].id||m[g].id===d||a==="load")&&(setTimeout((function(y){y.call(this,d,h)}).bind(p,m[g].fn),0),m[g].once&&p.off(a,m[g].fn,m[g].id));return p._loadQueue(a),p},_loadQueue:function(a){var d=this;if(d._queue.length>0){var h=d._queue[0];h.event===a&&(d._queue.shift(),d._loadQueue()),a||h.action()}return d},_ended:function(a){var d=this,h=a._sprite;if(!d._webAudio&&a._node&&!a._node.paused&&!a._node.ended&&a._node.currentTime<a._stop)return setTimeout(d._ended.bind(d,a),100),d;var p=!!(a._loop||d._sprite[h][2]);if(d._emit("end",a._id),!d._webAudio&&p&&d.stop(a._id,!0).play(a._id),d._webAudio&&p){d._emit("play",a._id),a._seek=a._start||0,a._rateSeek=0,a._playStart=n.ctx.currentTime;var m=(a._stop-a._start)*1e3/Math.abs(a._rate);d._endTimers[a._id]=setTimeout(d._ended.bind(d,a),m)}return d._webAudio&&!p&&(a._paused=!0,a._ended=!0,a._seek=a._start||0,a._rateSeek=0,d._clearTimer(a._id),d._cleanBuffer(a._node),n._autoSuspend()),!d._webAudio&&!p&&d.stop(a._id,!0),d},_clearTimer:function(a){var d=this;if(d._endTimers[a]){if(typeof d._endTimers[a]!="function")clearTimeout(d._endTimers[a]);else{var h=d._soundById(a);h&&h._node&&h._node.removeEventListener("ended",d._endTimers[a],!1)}delete d._endTimers[a]}return d},_soundById:function(a){for(var d=this,h=0;h<d._sounds.length;h++)if(a===d._sounds[h]._id)return d._sounds[h];return null},_inactiveSound:function(){var a=this;a._drain();for(var d=0;d<a._sounds.length;d++)if(a._sounds[d]._ended)return a._sounds[d].reset();return new s(a)},_drain:function(){var a=this,d=a._pool,h=0,p=0;if(!(a._sounds.length<d)){for(p=0;p<a._sounds.length;p++)a._sounds[p]._ended&&h++;for(p=a._sounds.length-1;p>=0;p--){if(h<=d)return;a._sounds[p]._ended&&(a._webAudio&&a._sounds[p]._node&&a._sounds[p]._node.disconnect(0),a._sounds.splice(p,1),h--)}}},_getSoundIds:function(a){var d=this;if(typeof a>"u"){for(var h=[],p=0;p<d._sounds.length;p++)h.push(d._sounds[p]._id);return h}else return[a]},_refreshBuffer:function(a){var d=this;return a._node.bufferSource=n.ctx.createBufferSource(),a._node.bufferSource.buffer=i[d._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop||0),a._node.bufferSource.playbackRate.setValueAtTime(a._rate,n.ctx.currentTime),d},_cleanBuffer:function(a){var d=this,h=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!a.bufferSource)return d;if(n._scratchBuffer&&a.bufferSource&&(a.bufferSource.onended=null,a.bufferSource.disconnect(0),h))try{a.bufferSource.buffer=n._scratchBuffer}catch{}return a.bufferSource=null,d},_clearSound:function(a){var d=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);d||(a.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(a){this._parent=a,this.init()};s.prototype={init:function(){var a=this,d=a._parent;return a._muted=d._muted,a._loop=d._loop,a._volume=d._volume,a._rate=d._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++n._counter,d._sounds.push(a),a.create(),a},create:function(){var a=this,d=a._parent,h=n._muted||a._muted||a._parent._muted?0:a._volume;return d._webAudio?(a._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),a._node.gain.setValueAtTime(h,n.ctx.currentTime),a._node.paused=!0,a._node.connect(n.masterGain)):n.noAudio||(a._node=n._obtainHtml5Audio(),a._errorFn=a._errorListener.bind(a),a._node.addEventListener("error",a._errorFn,!1),a._loadFn=a._loadListener.bind(a),a._node.addEventListener(n._canPlayEvent,a._loadFn,!1),a._endFn=a._endListener.bind(a),a._node.addEventListener("ended",a._endFn,!1),a._node.src=d._src,a._node.preload=d._preload===!0?"auto":d._preload,a._node.volume=h*n.volume(),a._node.load()),a},reset:function(){var a=this,d=a._parent;return a._muted=d._muted,a._loop=d._loop,a._volume=d._volume,a._rate=d._rate,a._seek=0,a._rateSeek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++n._counter,a},_errorListener:function(){var a=this;a._parent._emit("loaderror",a._id,a._node.error?a._node.error.code:0),a._node.removeEventListener("error",a._errorFn,!1)},_loadListener:function(){var a=this,d=a._parent;d._duration=Math.ceil(a._node.duration*10)/10,Object.keys(d._sprite).length===0&&(d._sprite={__default:[0,d._duration*1e3]}),d._state!=="loaded"&&(d._state="loaded",d._emit("load"),d._loadQueue()),a._node.removeEventListener(n._canPlayEvent,a._loadFn,!1)},_endListener:function(){var a=this,d=a._parent;d._duration===1/0&&(d._duration=Math.ceil(a._node.duration*10)/10,d._sprite.__default[1]===1/0&&(d._sprite.__default[1]=d._duration*1e3),d._ended(a)),a._node.removeEventListener("ended",a._endFn,!1)}};var i={},o=function(a){var d=a._src;if(i[d]){a._duration=i[d].duration,u(a);return}if(/^data:[^;]+;base64,/.test(d)){for(var h=atob(d.split(",")[1]),p=new Uint8Array(h.length),m=0;m<h.length;++m)p[m]=h.charCodeAt(m);c(p.buffer,a)}else{var g=new XMLHttpRequest;g.open(a._xhr.method,d,!0),g.withCredentials=a._xhr.withCredentials,g.responseType="arraybuffer",a._xhr.headers&&Object.keys(a._xhr.headers).forEach(function(y){g.setRequestHeader(y,a._xhr.headers[y])}),g.onload=function(){var y=(g.status+"")[0];if(y!=="0"&&y!=="2"&&y!=="3"){a._emit("loaderror",null,"Failed loading audio file with status: "+g.status+".");return}c(g.response,a)},g.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete i[d],a.load())},l(g)}},l=function(a){try{a.send()}catch{a.onerror()}},c=function(a,d){var h=function(){d._emit("loaderror",null,"Decoding audio data failed.")},p=function(m){m&&d._sounds.length>0?(i[d._src]=m,u(d,m)):h()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(a).then(p).catch(h):n.ctx.decodeAudioData(a,p,h)},u=function(a,d){d&&!a._duration&&(a._duration=d.duration),Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue())},f=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var a=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),d=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),h=d?parseInt(d[1],10):null;if(a&&h&&h<9){var p=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!p&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof yn<"u"?(yn.HowlerGlobal=t,yn.Howler=n,yn.Howl=r,yn.Sound=s):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=s)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var s=r._howls.length-1;s>=0;s--)r._howls[s].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,s){var i=this;if(!i.ctx||!i.ctx.listener)return i;if(r=typeof r!="number"?i._pos[1]:r,s=typeof s!="number"?i._pos[2]:s,typeof n=="number")i._pos=[n,r,s],typeof i.ctx.listener.positionX<"u"?(i.ctx.listener.positionX.setTargetAtTime(i._pos[0],Howler.ctx.currentTime,.1),i.ctx.listener.positionY.setTargetAtTime(i._pos[1],Howler.ctx.currentTime,.1),i.ctx.listener.positionZ.setTargetAtTime(i._pos[2],Howler.ctx.currentTime,.1)):i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]);else return i._pos;return i},HowlerGlobal.prototype.orientation=function(n,r,s,i,o,l){var c=this;if(!c.ctx||!c.ctx.listener)return c;var u=c._orientation;if(r=typeof r!="number"?u[1]:r,s=typeof s!="number"?u[2]:s,i=typeof i!="number"?u[3]:i,o=typeof o!="number"?u[4]:o,l=typeof l!="number"?u[5]:l,typeof n=="number")c._orientation=[n,r,s,i,o,l],typeof c.ctx.listener.forwardX<"u"?(c.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),c.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),c.ctx.listener.forwardZ.setTargetAtTime(s,Howler.ctx.currentTime,.1),c.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),c.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),c.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):c.ctx.listener.setOrientation(n,r,s,i,o,l);else return u;return c},Howl.prototype.init=function(n){return function(r){var s=this;return s._orientation=r.orientation||[1,0,0],s._stereo=r.stereo||null,s._pos=r.pos||null,s._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},s._onstereo=r.onstereo?[{fn:r.onstereo}]:[],s._onpos=r.onpos?[{fn:r.onpos}]:[],s._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"stereo",action:function(){s.stereo(n,r)}}),s;var i=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")s._stereo=n,s._pos=[n,0,0];else return s._stereo;for(var o=s._getSoundIds(r),l=0;l<o.length;l++){var c=s._soundById(o[l]);if(c)if(typeof n=="number")c._stereo=n,c._pos=[n,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",(!c._panner||!c._panner.pan)&&t(c,i),i==="spatial"?typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):c._panner.setPosition(n,0,0):c._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),s._emit("stereo",c._id);else return c._stereo}return s},Howl.prototype.pos=function(n,r,s,i){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(n,r,s,i)}}),o;if(r=typeof r!="number"?0:r,s=typeof s!="number"?-.5:s,typeof i>"u")if(typeof n=="number")o._pos=[n,r,s];else return o._pos;for(var l=o._getSoundIds(i),c=0;c<l.length;c++){var u=o._soundById(l[c]);if(u)if(typeof n=="number")u._pos=[n,r,s],u._node&&((!u._panner||u._panner.pan)&&t(u,"spatial"),typeof u._panner.positionX<"u"?(u._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(s,Howler.ctx.currentTime)):u._panner.setPosition(n,r,s)),o._emit("pos",u._id);else return u._pos}return o},Howl.prototype.orientation=function(n,r,s,i){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(n,r,s,i)}}),o;if(r=typeof r!="number"?o._orientation[1]:r,s=typeof s!="number"?o._orientation[2]:s,typeof i>"u")if(typeof n=="number")o._orientation=[n,r,s];else return o._orientation;for(var l=o._getSoundIds(i),c=0;c<l.length;c++){var u=o._soundById(l[c]);if(u)if(typeof n=="number")u._orientation=[n,r,s],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),t(u,"spatial")),typeof u._panner.orientationX<"u"?(u._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(s,Howler.ctx.currentTime)):u._panner.setOrientation(n,r,s)),o._emit("orientation",u._id);else return u._orientation}return o},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,s,i,o;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")s=r[0],typeof i>"u"&&(s.pannerAttr||(s.pannerAttr={coneInnerAngle:s.coneInnerAngle,coneOuterAngle:s.coneOuterAngle,coneOuterGain:s.coneOuterGain,distanceModel:s.distanceModel,maxDistance:s.maxDistance,refDistance:s.refDistance,rolloffFactor:s.rolloffFactor,panningModel:s.panningModel}),n._pannerAttr={coneInnerAngle:typeof s.pannerAttr.coneInnerAngle<"u"?s.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof s.pannerAttr.coneOuterAngle<"u"?s.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof s.pannerAttr.coneOuterGain<"u"?s.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof s.pannerAttr.distanceModel<"u"?s.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof s.pannerAttr.maxDistance<"u"?s.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof s.pannerAttr.refDistance<"u"?s.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof s.pannerAttr.rolloffFactor<"u"?s.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof s.pannerAttr.panningModel<"u"?s.pannerAttr.panningModel:n._panningModel});else return o=n._soundById(parseInt(r[0],10)),o?o._pannerAttr:n._pannerAttr;else r.length===2&&(s=r[0],i=parseInt(r[1],10));for(var l=n._getSoundIds(i),c=0;c<l.length;c++)if(o=n._soundById(l[c]),o){var u=o._pannerAttr;u={coneInnerAngle:typeof s.coneInnerAngle<"u"?s.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:typeof s.coneOuterAngle<"u"?s.coneOuterAngle:u.coneOuterAngle,coneOuterGain:typeof s.coneOuterGain<"u"?s.coneOuterGain:u.coneOuterGain,distanceModel:typeof s.distanceModel<"u"?s.distanceModel:u.distanceModel,maxDistance:typeof s.maxDistance<"u"?s.maxDistance:u.maxDistance,refDistance:typeof s.refDistance<"u"?s.refDistance:u.refDistance,rolloffFactor:typeof s.rolloffFactor<"u"?s.rolloffFactor:u.rolloffFactor,panningModel:typeof s.panningModel<"u"?s.panningModel:u.panningModel};var f=o._panner;f||(o._pos||(o._pos=n._pos||[0,0,-.5]),t(o,"spatial"),f=o._panner),f.coneInnerAngle=u.coneInnerAngle,f.coneOuterAngle=u.coneOuterAngle,f.coneOuterGain=u.coneOuterGain,f.distanceModel=u.distanceModel,f.maxDistance=u.maxDistance,f.refDistance=u.refDistance,f.rolloffFactor=u.rolloffFactor,f.panningModel=u.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,s=r._parent;r._orientation=s._orientation,r._stereo=s._stereo,r._pos=s._pos,r._pannerAttr=s._pannerAttr,n.call(this),r._stereo?s.stereo(r._stereo):r._pos&&s.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,s=r._parent;return r._orientation=s._orientation,r._stereo=s._stereo,r._pos=s._pos,r._pannerAttr=s._pannerAttr,r._stereo?s.stereo(r._stereo):r._pos?s.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,s._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()}(Ql)),Ql}var Pp=_C();function TC(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function EC(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function CC(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Lp=e=>Array.isArray(e)?e:[e];function AC(e){const t=Array.isArray(e[0])?e[0]:e;return CC(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function PC(e,t){const n=[],{length:r}=e;for(let s=0;s<r;s++)n.push(e[s].apply(null,t));return n}var LC=class{constructor(t){this.value=t}deref(){return this.value}},OC=typeof WeakRef<"u"?WeakRef:LC,jC=0,Op=1;function yo(){return{s:jC,v:void 0,o:null,p:null}}function jv(e,t={}){let n=yo();const{resultEqualityCheck:r}=t;let s,i=0;function o(){var a;let l=n;const{length:c}=arguments;for(let d=0,h=c;d<h;d++){const p=arguments[d];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=l.o;m===null&&(l.o=m=new WeakMap);const g=m.get(p);g===void 0?(l=yo(),m.set(p,l)):l=g}else{let m=l.p;m===null&&(l.p=m=new Map);const g=m.get(p);g===void 0?(l=yo(),m.set(p,l)):l=g}}const u=l;let f;if(l.s===Op)f=l.v;else if(f=e.apply(null,arguments),i++,r){const d=((a=s==null?void 0:s.deref)==null?void 0:a.call(s))??s;d!=null&&r(d,f)&&(f=d,i!==0&&i--),s=typeof f=="object"&&f!==null||typeof f=="function"?new OC(f):f}return u.s=Op,u.v=f,f}return o.clearCache=()=>{n=yo(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function RC(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...s)=>{let i=0,o=0,l,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),TC(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const f={...n,...c},{memoize:a,memoizeOptions:d=[],argsMemoize:h=jv,argsMemoizeOptions:p=[]}=f,m=Lp(d),g=Lp(p),y=AC(s),v=a(function(){return i++,u.apply(null,arguments)},...m),I=h(function(){o++;const _=PC(y,arguments);return l=v.apply(null,_),l},...g);return Object.assign(I,{resultFunc:u,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:a,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var Rv=RC(jv),DC=Object.assign((e,t=Rv)=>{EC(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((i,o,l)=>(i[n[l]]=o,i),{}))},{withTypes:()=>DC}),Xl={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var jp;function NC(){return jp||(jp=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,i){function o(u,f){if(!s[u]){if(!r[u]){var a=typeof Yn=="function"&&Yn;if(!f&&a)return a(u,!0);if(l)return l(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var h=s[u]={exports:{}};r[u][0].call(h.exports,function(p){var m=r[u][1][p];return o(m||p)},h,h.exports,n,r,s,i)}return s[u].exports}for(var l=typeof Yn=="function"&&Yn,c=0;c<i.length;c++)o(i[c]);return o}({1:[function(n,r,s){(function(i){var o=i.MutationObserver||i.WebKitMutationObserver,l;if(o){var c=0,u=new o(p),f=i.document.createTextNode("");u.observe(f,{characterData:!0}),l=function(){f.data=c=++c%2}}else if(!i.setImmediate&&typeof i.MessageChannel<"u"){var a=new i.MessageChannel;a.port1.onmessage=p,l=function(){a.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?l=function(){var g=i.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},i.document.documentElement.appendChild(g)}:l=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var g,y,v=h.length;v;){for(y=h,h=[],g=-1;++g<v;)y[g]();v=h.length}d=!1}r.exports=m;function m(g){h.push(g)===1&&!d&&l()}}).call(this,typeof yn<"u"?yn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,s){var i=n(1);function o(){}var l={},c=["REJECTED"],u=["FULFILLED"],f=["PENDING"];r.exports=a;function a(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,S!==o&&m(this,S)}a.prototype.catch=function(S){return this.then(null,S)},a.prototype.then=function(S,k){if(typeof S!="function"&&this.state===u||typeof k!="function"&&this.state===c)return this;var $=new this.constructor(o);if(this.state!==f){var b=this.state===u?S:k;h($,b,this.outcome)}else this.queue.push(new d($,S,k));return $};function d(S,k,$){this.promise=S,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof $=="function"&&(this.onRejected=$,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(S){l.resolve(this.promise,S)},d.prototype.otherCallFulfilled=function(S){h(this.promise,this.onFulfilled,S)},d.prototype.callRejected=function(S){l.reject(this.promise,S)},d.prototype.otherCallRejected=function(S){h(this.promise,this.onRejected,S)};function h(S,k,$){i(function(){var b;try{b=k($)}catch(M){return l.reject(S,M)}b===S?l.reject(S,new TypeError("Cannot resolve promise with itself")):l.resolve(S,b)})}l.resolve=function(S,k){var $=g(p,k);if($.status==="error")return l.reject(S,$.value);var b=$.value;if(b)m(S,b);else{S.state=u,S.outcome=k;for(var M=-1,w=S.queue.length;++M<w;)S.queue[M].callFulfilled(k)}return S},l.reject=function(S,k){S.state=c,S.outcome=k;for(var $=-1,b=S.queue.length;++$<b;)S.queue[$].callRejected(k);return S};function p(S){var k=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof k=="function")return function(){k.apply(S,arguments)}}function m(S,k){var $=!1;function b(L){$||($=!0,l.reject(S,L))}function M(L){$||($=!0,l.resolve(S,L))}function w(){k(M,b)}var E=g(w);E.status==="error"&&b(E.value)}function g(S,k){var $={};try{$.value=S(k),$.status="success"}catch(b){$.status="error",$.value=b}return $}a.resolve=y;function y(S){return S instanceof this?S:l.resolve(new this(o),S)}a.reject=v;function v(S){var k=new this(o);return l.reject(k,S)}a.all=I;function I(S){var k=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var $=S.length,b=!1;if(!$)return this.resolve([]);for(var M=new Array($),w=0,E=-1,L=new this(o);++E<$;)Q(S[E],E);return L;function Q(W,U){k.resolve(W).then(N,function(H){b||(b=!0,l.reject(L,H))});function N(H){M[U]=H,++w===$&&!b&&(b=!0,l.resolve(L,M))}}}a.race=_;function _(S){var k=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var $=S.length,b=!1;if(!$)return this.resolve([]);for(var M=-1,w=new this(o);++M<$;)E(S[M]);return w;function E(L){k.resolve(L).then(function(Q){b||(b=!0,l.resolve(w,Q))},function(Q){b||(b=!0,l.reject(w,Q))})}}},{1:1}],3:[function(n,r,s){(function(i){typeof i.Promise!="function"&&(i.Promise=n(2))}).call(this,typeof yn<"u"?yn:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,s){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C};function o(C,j){if(!(C instanceof j))throw new TypeError("Cannot call a class as a function")}function l(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=l();function u(){try{if(!c||!c.open)return!1;var C=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),j=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!C||j)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function f(C,j){C=C||[],j=j||{};try{return new Blob(C,j)}catch(z){if(z.name!=="TypeError")throw z;for(var R=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,B=new R,V=0;V<C.length;V+=1)B.append(C[V]);return B.getBlob(j.type)}}typeof Promise>"u"&&n(3);var a=Promise;function d(C,j){j&&C.then(function(R){j(null,R)},function(R){j(R)})}function h(C,j,R){typeof j=="function"&&C.then(j),typeof R=="function"&&C.catch(R)}function p(C){return typeof C!="string"&&(console.warn(C+" used as a key, but it is not a string."),C=String(C)),C}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",y=void 0,v={},I=Object.prototype.toString,_="readonly",S="readwrite";function k(C){for(var j=C.length,R=new ArrayBuffer(j),B=new Uint8Array(R),V=0;V<j;V++)B[V]=C.charCodeAt(V);return R}function $(C){return new a(function(j){var R=C.transaction(g,S),B=f([""]);R.objectStore(g).put(B,"key"),R.onabort=function(V){V.preventDefault(),V.stopPropagation(),j(!1)},R.oncomplete=function(){var V=navigator.userAgent.match(/Chrome\/(\d+)/),z=navigator.userAgent.match(/Edge\//);j(z||!V||parseInt(V[1],10)>=43)}}).catch(function(){return!1})}function b(C){return typeof y=="boolean"?a.resolve(y):$(C).then(function(j){return y=j,y})}function M(C){var j=v[C.name],R={};R.promise=new a(function(B,V){R.resolve=B,R.reject=V}),j.deferredOperations.push(R),j.dbReady?j.dbReady=j.dbReady.then(function(){return R.promise}):j.dbReady=R.promise}function w(C){var j=v[C.name],R=j.deferredOperations.pop();if(R)return R.resolve(),R.promise}function E(C,j){var R=v[C.name],B=R.deferredOperations.pop();if(B)return B.reject(j),B.promise}function L(C,j){return new a(function(R,B){if(v[C.name]=v[C.name]||Me(),C.db)if(j)M(C),C.db.close();else return R(C.db);var V=[C.name];j&&V.push(C.version);var z=c.open.apply(c,V);j&&(z.onupgradeneeded=function(K){var ee=z.result;try{ee.createObjectStore(C.storeName),K.oldVersion<=1&&ee.createObjectStore(g)}catch(se){if(se.name==="ConstraintError")console.warn('The database "'+C.name+'" has been upgraded from version '+K.oldVersion+" to version "+K.newVersion+', but the storage "'+C.storeName+'" already exists.');else throw se}}),z.onerror=function(K){K.preventDefault(),B(z.error)},z.onsuccess=function(){var K=z.result;K.onversionchange=function(ee){ee.target.close()},R(K),w(C)}})}function Q(C){return L(C,!1)}function W(C){return L(C,!0)}function U(C,j){if(!C.db)return!0;var R=!C.db.objectStoreNames.contains(C.storeName),B=C.version<C.db.version,V=C.version>C.db.version;if(B&&(C.version!==j&&console.warn('The database "'+C.name+`" can't be downgraded from version `+C.db.version+" to version "+C.version+"."),C.version=C.db.version),V||R){if(R){var z=C.db.version+1;z>C.version&&(C.version=z)}return!0}return!1}function N(C){return new a(function(j,R){var B=new FileReader;B.onerror=R,B.onloadend=function(V){var z=btoa(V.target.result||"");j({__local_forage_encoded_blob:!0,data:z,type:C.type})},B.readAsBinaryString(C)})}function H(C){var j=k(atob(C.data));return f([j],{type:C.type})}function F(C){return C&&C.__local_forage_encoded_blob}function Z(C){var j=this,R=j._initReady().then(function(){var B=v[j._dbInfo.name];if(B&&B.dbReady)return B.dbReady});return h(R,C,C),R}function te(C){M(C);for(var j=v[C.name],R=j.forages,B=0;B<R.length;B++){var V=R[B];V._dbInfo.db&&(V._dbInfo.db.close(),V._dbInfo.db=null)}return C.db=null,Q(C).then(function(z){return C.db=z,U(C)?W(C):z}).then(function(z){C.db=j.db=z;for(var K=0;K<R.length;K++)R[K]._dbInfo.db=z}).catch(function(z){throw E(C,z),z})}function ae(C,j,R,B){B===void 0&&(B=1);try{var V=C.db.transaction(C.storeName,j);R(null,V)}catch(z){if(B>0&&(!C.db||z.name==="InvalidStateError"||z.name==="NotFoundError"))return a.resolve().then(function(){if(!C.db||z.name==="NotFoundError"&&!C.db.objectStoreNames.contains(C.storeName)&&C.version<=C.db.version)return C.db&&(C.version=C.db.version+1),W(C)}).then(function(){return te(C).then(function(){ae(C,j,R,B-1)})}).catch(R);R(z)}}function Me(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function fe(C){var j=this,R={db:null};if(C)for(var B in C)R[B]=C[B];var V=v[R.name];V||(V=Me(),v[R.name]=V),V.forages.push(j),j._initReady||(j._initReady=j.ready,j.ready=Z);var z=[];function K(){return a.resolve()}for(var ee=0;ee<V.forages.length;ee++){var se=V.forages[ee];se!==j&&z.push(se._initReady().catch(K))}var re=V.forages.slice(0);return a.all(z).then(function(){return R.db=V.db,Q(R)}).then(function(ne){return R.db=ne,U(R,j._defaultConfig.version)?W(R):ne}).then(function(ne){R.db=V.db=ne,j._dbInfo=R;for(var pe=0;pe<re.length;pe++){var Se=re[pe];Se!==j&&(Se._dbInfo.db=R.db,Se._dbInfo.version=R.version)}})}function ye(C,j){var R=this;C=p(C);var B=new a(function(V,z){R.ready().then(function(){ae(R._dbInfo,_,function(K,ee){if(K)return z(K);try{var se=ee.objectStore(R._dbInfo.storeName),re=se.get(C);re.onsuccess=function(){var ne=re.result;ne===void 0&&(ne=null),F(ne)&&(ne=H(ne)),V(ne)},re.onerror=function(){z(re.error)}}catch(ne){z(ne)}})}).catch(z)});return d(B,j),B}function Le(C,j){var R=this,B=new a(function(V,z){R.ready().then(function(){ae(R._dbInfo,_,function(K,ee){if(K)return z(K);try{var se=ee.objectStore(R._dbInfo.storeName),re=se.openCursor(),ne=1;re.onsuccess=function(){var pe=re.result;if(pe){var Se=pe.value;F(Se)&&(Se=H(Se));var Oe=C(Se,pe.key,ne++);Oe!==void 0?V(Oe):pe.continue()}else V()},re.onerror=function(){z(re.error)}}catch(pe){z(pe)}})}).catch(z)});return d(B,j),B}function Je(C,j,R){var B=this;C=p(C);var V=new a(function(z,K){var ee;B.ready().then(function(){return ee=B._dbInfo,I.call(j)==="[object Blob]"?b(ee.db).then(function(se){return se?j:N(j)}):j}).then(function(se){ae(B._dbInfo,S,function(re,ne){if(re)return K(re);try{var pe=ne.objectStore(B._dbInfo.storeName);se===null&&(se=void 0);var Se=pe.put(se,C);ne.oncomplete=function(){se===void 0&&(se=null),z(se)},ne.onabort=ne.onerror=function(){var Oe=Se.error?Se.error:Se.transaction.error;K(Oe)}}catch(Oe){K(Oe)}})}).catch(K)});return d(V,R),V}function G(C,j){var R=this;C=p(C);var B=new a(function(V,z){R.ready().then(function(){ae(R._dbInfo,S,function(K,ee){if(K)return z(K);try{var se=ee.objectStore(R._dbInfo.storeName),re=se.delete(C);ee.oncomplete=function(){V()},ee.onerror=function(){z(re.error)},ee.onabort=function(){var ne=re.error?re.error:re.transaction.error;z(ne)}}catch(ne){z(ne)}})}).catch(z)});return d(B,j),B}function Y(C){var j=this,R=new a(function(B,V){j.ready().then(function(){ae(j._dbInfo,S,function(z,K){if(z)return V(z);try{var ee=K.objectStore(j._dbInfo.storeName),se=ee.clear();K.oncomplete=function(){B()},K.onabort=K.onerror=function(){var re=se.error?se.error:se.transaction.error;V(re)}}catch(re){V(re)}})}).catch(V)});return d(R,C),R}function T(C){var j=this,R=new a(function(B,V){j.ready().then(function(){ae(j._dbInfo,_,function(z,K){if(z)return V(z);try{var ee=K.objectStore(j._dbInfo.storeName),se=ee.count();se.onsuccess=function(){B(se.result)},se.onerror=function(){V(se.error)}}catch(re){V(re)}})}).catch(V)});return d(R,C),R}function A(C,j){var R=this,B=new a(function(V,z){if(C<0){V(null);return}R.ready().then(function(){ae(R._dbInfo,_,function(K,ee){if(K)return z(K);try{var se=ee.objectStore(R._dbInfo.storeName),re=!1,ne=se.openKeyCursor();ne.onsuccess=function(){var pe=ne.result;if(!pe){V(null);return}C===0||re?V(pe.key):(re=!0,pe.advance(C))},ne.onerror=function(){z(ne.error)}}catch(pe){z(pe)}})}).catch(z)});return d(B,j),B}function O(C){var j=this,R=new a(function(B,V){j.ready().then(function(){ae(j._dbInfo,_,function(z,K){if(z)return V(z);try{var ee=K.objectStore(j._dbInfo.storeName),se=ee.openKeyCursor(),re=[];se.onsuccess=function(){var ne=se.result;if(!ne){B(re);return}re.push(ne.key),ne.continue()},se.onerror=function(){V(se.error)}}catch(ne){V(ne)}})}).catch(V)});return d(R,C),R}function q(C,j){j=m.apply(this,arguments);var R=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||R.name,C.storeName=C.storeName||R.storeName);var B=this,V;if(!C.name)V=a.reject("Invalid arguments");else{var z=C.name===R.name&&B._dbInfo.db,K=z?a.resolve(B._dbInfo.db):Q(C).then(function(ee){var se=v[C.name],re=se.forages;se.db=ee;for(var ne=0;ne<re.length;ne++)re[ne]._dbInfo.db=ee;return ee});C.storeName?V=K.then(function(ee){if(ee.objectStoreNames.contains(C.storeName)){var se=ee.version+1;M(C);var re=v[C.name],ne=re.forages;ee.close();for(var pe=0;pe<ne.length;pe++){var Se=ne[pe];Se._dbInfo.db=null,Se._dbInfo.version=se}var Oe=new a(function(Ee,Ye){var Ue=c.open(C.name,se);Ue.onerror=function(Et){var wl=Ue.result;wl.close(),Ye(Et)},Ue.onupgradeneeded=function(){var Et=Ue.result;Et.deleteObjectStore(C.storeName)},Ue.onsuccess=function(){var Et=Ue.result;Et.close(),Ee(Et)}});return Oe.then(function(Ee){re.db=Ee;for(var Ye=0;Ye<ne.length;Ye++){var Ue=ne[Ye];Ue._dbInfo.db=Ee,w(Ue._dbInfo)}}).catch(function(Ee){throw(E(C,Ee)||a.resolve()).catch(function(){}),Ee})}}):V=K.then(function(ee){M(C);var se=v[C.name],re=se.forages;ee.close();for(var ne=0;ne<re.length;ne++){var pe=re[ne];pe._dbInfo.db=null}var Se=new a(function(Oe,Ee){var Ye=c.deleteDatabase(C.name);Ye.onerror=function(){var Ue=Ye.result;Ue&&Ue.close(),Ee(Ye.error)},Ye.onblocked=function(){console.warn('dropInstance blocked for database "'+C.name+'" until all open connections are closed')},Ye.onsuccess=function(){var Ue=Ye.result;Ue&&Ue.close(),Oe(Ue)}});return Se.then(function(Oe){se.db=Oe;for(var Ee=0;Ee<re.length;Ee++){var Ye=re[Ee];w(Ye._dbInfo)}}).catch(function(Oe){throw(E(C,Oe)||a.resolve()).catch(function(){}),Oe})})}return d(V,j),V}var J={_driver:"asyncStorage",_initStorage:fe,_support:u(),iterate:Le,getItem:ye,setItem:Je,removeItem:G,clear:Y,length:T,key:A,keys:O,dropInstance:q};function ie(){return typeof openDatabase=="function"}var he="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",we="~~local_forage_type~",Ce=/^~~local_forage_type~([^~]+)~/,Fe="__lfsc__:",_e=Fe.length,Ae="arbf",ze="blob",We="si08",un="ui08",Ks="uic8",Xf="si16",Gf="si32",Jf="ur16",Yf="ui32",Kf="fl32",Zf="fl64",eh=_e+Ae.length,th=Object.prototype.toString;function nh(C){var j=C.length*.75,R=C.length,B,V=0,z,K,ee,se;C[C.length-1]==="="&&(j--,C[C.length-2]==="="&&j--);var re=new ArrayBuffer(j),ne=new Uint8Array(re);for(B=0;B<R;B+=4)z=he.indexOf(C[B]),K=he.indexOf(C[B+1]),ee=he.indexOf(C[B+2]),se=he.indexOf(C[B+3]),ne[V++]=z<<2|K>>4,ne[V++]=(K&15)<<4|ee>>2,ne[V++]=(ee&3)<<6|se&63;return re}function gl(C){var j=new Uint8Array(C),R="",B;for(B=0;B<j.length;B+=3)R+=he[j[B]>>2],R+=he[(j[B]&3)<<4|j[B+1]>>4],R+=he[(j[B+1]&15)<<2|j[B+2]>>6],R+=he[j[B+2]&63];return j.length%3===2?R=R.substring(0,R.length-1)+"=":j.length%3===1&&(R=R.substring(0,R.length-2)+"=="),R}function sS(C,j){var R="";if(C&&(R=th.call(C)),C&&(R==="[object ArrayBuffer]"||C.buffer&&th.call(C.buffer)==="[object ArrayBuffer]")){var B,V=Fe;C instanceof ArrayBuffer?(B=C,V+=Ae):(B=C.buffer,R==="[object Int8Array]"?V+=We:R==="[object Uint8Array]"?V+=un:R==="[object Uint8ClampedArray]"?V+=Ks:R==="[object Int16Array]"?V+=Xf:R==="[object Uint16Array]"?V+=Jf:R==="[object Int32Array]"?V+=Gf:R==="[object Uint32Array]"?V+=Yf:R==="[object Float32Array]"?V+=Kf:R==="[object Float64Array]"?V+=Zf:j(new Error("Failed to get type for BinaryArray"))),j(V+gl(B))}else if(R==="[object Blob]"){var z=new FileReader;z.onload=function(){var K=we+C.type+"~"+gl(this.result);j(Fe+ze+K)},z.readAsArrayBuffer(C)}else try{j(JSON.stringify(C))}catch(K){console.error("Couldn't convert value into a JSON string: ",C),j(null,K)}}function iS(C){if(C.substring(0,_e)!==Fe)return JSON.parse(C);var j=C.substring(eh),R=C.substring(_e,eh),B;if(R===ze&&Ce.test(j)){var V=j.match(Ce);B=V[1],j=j.substring(V[0].length)}var z=nh(j);switch(R){case Ae:return z;case ze:return f([z],{type:B});case We:return new Int8Array(z);case un:return new Uint8Array(z);case Ks:return new Uint8ClampedArray(z);case Xf:return new Int16Array(z);case Jf:return new Uint16Array(z);case Gf:return new Int32Array(z);case Yf:return new Uint32Array(z);case Kf:return new Float32Array(z);case Zf:return new Float64Array(z);default:throw new Error("Unkown type: "+R)}}var yl={serialize:sS,deserialize:iS,stringToBuffer:nh,bufferToString:gl};function rh(C,j,R,B){C.executeSql("CREATE TABLE IF NOT EXISTS "+j.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],R,B)}function oS(C){var j=this,R={db:null};if(C)for(var B in C)R[B]=typeof C[B]!="string"?C[B].toString():C[B];var V=new a(function(z,K){try{R.db=openDatabase(R.name,String(R.version),R.description,R.size)}catch(ee){return K(ee)}R.db.transaction(function(ee){rh(ee,R,function(){j._dbInfo=R,z()},function(se,re){K(re)})},K)});return R.serializer=yl,V}function Pn(C,j,R,B,V,z){C.executeSql(R,B,V,function(K,ee){ee.code===ee.SYNTAX_ERR?K.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[j.storeName],function(se,re){re.rows.length?z(se,ee):rh(se,j,function(){se.executeSql(R,B,V,z)},z)},z):z(K,ee)},z)}function aS(C,j){var R=this;C=p(C);var B=new a(function(V,z){R.ready().then(function(){var K=R._dbInfo;K.db.transaction(function(ee){Pn(ee,K,"SELECT * FROM "+K.storeName+" WHERE key = ? LIMIT 1",[C],function(se,re){var ne=re.rows.length?re.rows.item(0).value:null;ne&&(ne=K.serializer.deserialize(ne)),V(ne)},function(se,re){z(re)})})}).catch(z)});return d(B,j),B}function lS(C,j){var R=this,B=new a(function(V,z){R.ready().then(function(){var K=R._dbInfo;K.db.transaction(function(ee){Pn(ee,K,"SELECT * FROM "+K.storeName,[],function(se,re){for(var ne=re.rows,pe=ne.length,Se=0;Se<pe;Se++){var Oe=ne.item(Se),Ee=Oe.value;if(Ee&&(Ee=K.serializer.deserialize(Ee)),Ee=C(Ee,Oe.key,Se+1),Ee!==void 0){V(Ee);return}}V()},function(se,re){z(re)})})}).catch(z)});return d(B,j),B}function sh(C,j,R,B){var V=this;C=p(C);var z=new a(function(K,ee){V.ready().then(function(){j===void 0&&(j=null);var se=j,re=V._dbInfo;re.serializer.serialize(j,function(ne,pe){pe?ee(pe):re.db.transaction(function(Se){Pn(Se,re,"INSERT OR REPLACE INTO "+re.storeName+" (key, value) VALUES (?, ?)",[C,ne],function(){K(se)},function(Oe,Ee){ee(Ee)})},function(Se){if(Se.code===Se.QUOTA_ERR){if(B>0){K(sh.apply(V,[C,se,R,B-1]));return}ee(Se)}})})}).catch(ee)});return d(z,R),z}function cS(C,j,R){return sh.apply(this,[C,j,R,1])}function uS(C,j){var R=this;C=p(C);var B=new a(function(V,z){R.ready().then(function(){var K=R._dbInfo;K.db.transaction(function(ee){Pn(ee,K,"DELETE FROM "+K.storeName+" WHERE key = ?",[C],function(){V()},function(se,re){z(re)})})}).catch(z)});return d(B,j),B}function dS(C){var j=this,R=new a(function(B,V){j.ready().then(function(){var z=j._dbInfo;z.db.transaction(function(K){Pn(K,z,"DELETE FROM "+z.storeName,[],function(){B()},function(ee,se){V(se)})})}).catch(V)});return d(R,C),R}function fS(C){var j=this,R=new a(function(B,V){j.ready().then(function(){var z=j._dbInfo;z.db.transaction(function(K){Pn(K,z,"SELECT COUNT(key) as c FROM "+z.storeName,[],function(ee,se){var re=se.rows.item(0).c;B(re)},function(ee,se){V(se)})})}).catch(V)});return d(R,C),R}function hS(C,j){var R=this,B=new a(function(V,z){R.ready().then(function(){var K=R._dbInfo;K.db.transaction(function(ee){Pn(ee,K,"SELECT key FROM "+K.storeName+" WHERE id = ? LIMIT 1",[C+1],function(se,re){var ne=re.rows.length?re.rows.item(0).key:null;V(ne)},function(se,re){z(re)})})}).catch(z)});return d(B,j),B}function pS(C){var j=this,R=new a(function(B,V){j.ready().then(function(){var z=j._dbInfo;z.db.transaction(function(K){Pn(K,z,"SELECT key FROM "+z.storeName,[],function(ee,se){for(var re=[],ne=0;ne<se.rows.length;ne++)re.push(se.rows.item(ne).key);B(re)},function(ee,se){V(se)})})}).catch(V)});return d(R,C),R}function mS(C){return new a(function(j,R){C.transaction(function(B){B.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(V,z){for(var K=[],ee=0;ee<z.rows.length;ee++)K.push(z.rows.item(ee).name);j({db:C,storeNames:K})},function(V,z){R(z)})},function(B){R(B)})})}function gS(C,j){j=m.apply(this,arguments);var R=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||R.name,C.storeName=C.storeName||R.storeName);var B=this,V;return C.name?V=new a(function(z){var K;C.name===R.name?K=B._dbInfo.db:K=openDatabase(C.name,"","",0),C.storeName?z({db:K,storeNames:[C.storeName]}):z(mS(K))}).then(function(z){return new a(function(K,ee){z.db.transaction(function(se){function re(Oe){return new a(function(Ee,Ye){se.executeSql("DROP TABLE IF EXISTS "+Oe,[],function(){Ee()},function(Ue,Et){Ye(Et)})})}for(var ne=[],pe=0,Se=z.storeNames.length;pe<Se;pe++)ne.push(re(z.storeNames[pe]));a.all(ne).then(function(){K()}).catch(function(Oe){ee(Oe)})},function(se){ee(se)})})}):V=a.reject("Invalid arguments"),d(V,j),V}var yS={_driver:"webSQLStorage",_initStorage:oS,_support:ie(),iterate:lS,getItem:aS,setItem:cS,removeItem:uS,clear:dS,length:fS,key:hS,keys:pS,dropInstance:gS};function bS(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function ih(C,j){var R=C.name+"/";return C.storeName!==j.storeName&&(R+=C.storeName+"/"),R}function vS(){var C="_localforage_support_test";try{return localStorage.setItem(C,!0),localStorage.removeItem(C),!1}catch{return!0}}function wS(){return!vS()||localStorage.length>0}function xS(C){var j=this,R={};if(C)for(var B in C)R[B]=C[B];return R.keyPrefix=ih(C,j._defaultConfig),wS()?(j._dbInfo=R,R.serializer=yl,a.resolve()):a.reject()}function SS(C){var j=this,R=j.ready().then(function(){for(var B=j._dbInfo.keyPrefix,V=localStorage.length-1;V>=0;V--){var z=localStorage.key(V);z.indexOf(B)===0&&localStorage.removeItem(z)}});return d(R,C),R}function $S(C,j){var R=this;C=p(C);var B=R.ready().then(function(){var V=R._dbInfo,z=localStorage.getItem(V.keyPrefix+C);return z&&(z=V.serializer.deserialize(z)),z});return d(B,j),B}function MS(C,j){var R=this,B=R.ready().then(function(){for(var V=R._dbInfo,z=V.keyPrefix,K=z.length,ee=localStorage.length,se=1,re=0;re<ee;re++){var ne=localStorage.key(re);if(ne.indexOf(z)===0){var pe=localStorage.getItem(ne);if(pe&&(pe=V.serializer.deserialize(pe)),pe=C(pe,ne.substring(K),se++),pe!==void 0)return pe}}});return d(B,j),B}function kS(C,j){var R=this,B=R.ready().then(function(){var V=R._dbInfo,z;try{z=localStorage.key(C)}catch{z=null}return z&&(z=z.substring(V.keyPrefix.length)),z});return d(B,j),B}function IS(C){var j=this,R=j.ready().then(function(){for(var B=j._dbInfo,V=localStorage.length,z=[],K=0;K<V;K++){var ee=localStorage.key(K);ee.indexOf(B.keyPrefix)===0&&z.push(ee.substring(B.keyPrefix.length))}return z});return d(R,C),R}function _S(C){var j=this,R=j.keys().then(function(B){return B.length});return d(R,C),R}function TS(C,j){var R=this;C=p(C);var B=R.ready().then(function(){var V=R._dbInfo;localStorage.removeItem(V.keyPrefix+C)});return d(B,j),B}function ES(C,j,R){var B=this;C=p(C);var V=B.ready().then(function(){j===void 0&&(j=null);var z=j;return new a(function(K,ee){var se=B._dbInfo;se.serializer.serialize(j,function(re,ne){if(ne)ee(ne);else try{localStorage.setItem(se.keyPrefix+C,re),K(z)}catch(pe){(pe.name==="QuotaExceededError"||pe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ee(pe),ee(pe)}})})});return d(V,R),V}function CS(C,j){if(j=m.apply(this,arguments),C=typeof C!="function"&&C||{},!C.name){var R=this.config();C.name=C.name||R.name,C.storeName=C.storeName||R.storeName}var B=this,V;return C.name?V=new a(function(z){C.storeName?z(ih(C,B._defaultConfig)):z(C.name+"/")}).then(function(z){for(var K=localStorage.length-1;K>=0;K--){var ee=localStorage.key(K);ee.indexOf(z)===0&&localStorage.removeItem(ee)}}):V=a.reject("Invalid arguments"),d(V,j),V}var AS={_driver:"localStorageWrapper",_initStorage:xS,_support:bS(),iterate:MS,getItem:$S,setItem:ES,removeItem:TS,clear:SS,length:_S,key:kS,keys:IS,dropInstance:CS},PS=function(C,j){return C===j||typeof C=="number"&&typeof j=="number"&&isNaN(C)&&isNaN(j)},LS=function(C,j){for(var R=C.length,B=0;B<R;){if(PS(C[B],j))return!0;B++}return!1},oh=Array.isArray||function(C){return Object.prototype.toString.call(C)==="[object Array]"},Zs={},ah={},Br={INDEXEDDB:J,WEBSQL:yS,LOCALSTORAGE:AS},OS=[Br.INDEXEDDB._driver,Br.WEBSQL._driver,Br.LOCALSTORAGE._driver],oo=["dropInstance"],bl=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(oo),jS={description:"",driver:OS.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function RS(C,j){C[j]=function(){var R=arguments;return C.ready().then(function(){return C[j].apply(C,R)})}}function vl(){for(var C=1;C<arguments.length;C++){var j=arguments[C];if(j)for(var R in j)j.hasOwnProperty(R)&&(oh(j[R])?arguments[0][R]=j[R].slice():arguments[0][R]=j[R])}return arguments[0]}var DS=function(){function C(j){o(this,C);for(var R in Br)if(Br.hasOwnProperty(R)){var B=Br[R],V=B._driver;this[R]=V,Zs[V]||this.defineDriver(B)}this._defaultConfig=vl({},jS),this._config=vl({},this._defaultConfig,j),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return C.prototype.config=function(j){if((typeof j>"u"?"undefined":i(j))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var R in j){if(R==="storeName"&&(j[R]=j[R].replace(/\W/g,"_")),R==="version"&&typeof j[R]!="number")return new Error("Database version must be a number.");this._config[R]=j[R]}return"driver"in j&&j.driver?this.setDriver(this._config.driver):!0}else return typeof j=="string"?this._config[j]:this._config},C.prototype.defineDriver=function(j,R,B){var V=new a(function(z,K){try{var ee=j._driver,se=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!j._driver){K(se);return}for(var re=bl.concat("_initStorage"),ne=0,pe=re.length;ne<pe;ne++){var Se=re[ne],Oe=!LS(oo,Se);if((Oe||j[Se])&&typeof j[Se]!="function"){K(se);return}}var Ee=function(){for(var Ue=function(FS){return function(){var WS=new Error("Method "+FS+" is not implemented by the current driver"),lh=a.reject(WS);return d(lh,arguments[arguments.length-1]),lh}},Et=0,wl=oo.length;Et<wl;Et++){var xl=oo[Et];j[xl]||(j[xl]=Ue(xl))}};Ee();var Ye=function(Ue){Zs[ee]&&console.info("Redefining LocalForage driver: "+ee),Zs[ee]=j,ah[ee]=Ue,z()};"_support"in j?j._support&&typeof j._support=="function"?j._support().then(Ye,K):Ye(!!j._support):Ye(!0)}catch(Ue){K(Ue)}});return h(V,R,B),V},C.prototype.driver=function(){return this._driver||null},C.prototype.getDriver=function(j,R,B){var V=Zs[j]?a.resolve(Zs[j]):a.reject(new Error("Driver not found."));return h(V,R,B),V},C.prototype.getSerializer=function(j){var R=a.resolve(yl);return h(R,j),R},C.prototype.ready=function(j){var R=this,B=R._driverSet.then(function(){return R._ready===null&&(R._ready=R._initDriver()),R._ready});return h(B,j,j),B},C.prototype.setDriver=function(j,R,B){var V=this;oh(j)||(j=[j]);var z=this._getSupportedDrivers(j);function K(){V._config.driver=V.driver()}function ee(ne){return V._extend(ne),K(),V._ready=V._initStorage(V._config),V._ready}function se(ne){return function(){var pe=0;function Se(){for(;pe<ne.length;){var Oe=ne[pe];return pe++,V._dbInfo=null,V._ready=null,V.getDriver(Oe).then(ee).catch(Se)}K();var Ee=new Error("No available storage method found.");return V._driverSet=a.reject(Ee),V._driverSet}return Se()}}var re=this._driverSet!==null?this._driverSet.catch(function(){return a.resolve()}):a.resolve();return this._driverSet=re.then(function(){var ne=z[0];return V._dbInfo=null,V._ready=null,V.getDriver(ne).then(function(pe){V._driver=pe._driver,K(),V._wrapLibraryMethodsWithReady(),V._initDriver=se(z)})}).catch(function(){K();var ne=new Error("No available storage method found.");return V._driverSet=a.reject(ne),V._driverSet}),h(this._driverSet,R,B),this._driverSet},C.prototype.supports=function(j){return!!ah[j]},C.prototype._extend=function(j){vl(this,j)},C.prototype._getSupportedDrivers=function(j){for(var R=[],B=0,V=j.length;B<V;B++){var z=j[B];this.supports(z)&&R.push(z)}return R},C.prototype._wrapLibraryMethodsWithReady=function(){for(var j=0,R=bl.length;j<R;j++)RS(this,bl[j])},C.prototype.createInstance=function(j){return new C(j)},C}(),NS=new DS;r.exports=NS},{3:3}]},{},[4])(4)})}(Xl)),Xl.exports}var FC=NC();const fu=Fs(FC),WC={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_DISCORD_CLIEND_ID:"1226960482423017643",VITE_DISCORD_REDIRECT_URI:"https://poexchange.maxroll.gg/discord/connect",VITE_GGG_CLIENT_ID:"maxrollpoeplanner",VITE_GGG_REDIRECT_URI:"https://poexchange.maxroll.gg/ggg/connect",VITE_MAXROLL_URL:"https://maxroll.gg",VITE_R2_PUBLIC_URL:"https://poexchange-insights.maxroll.gg",VITE_WEBAPI_URL:"https://api.poexchange.maxroll.gg"},$i=new Map,bo=e=>{const t=$i.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},UC=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=$i.get(n.name);if(r)return{type:"tracked",store:e,...r};const s={connection:t.connect(n),stores:{}};return $i.set(n.name,s),{type:"tracked",store:e,...s}},VC=(e,t)=>{if(t===void 0)return;const n=$i.get(e);n&&(delete n.stores[t],Object.keys(n.stores).length===0&&$i.delete(e))},BC=e=>{var t,n;if(!e)return;const r=e.split(`
`),s=r.findIndex(o=>o.includes("api.setState"));if(s<0)return;const i=((t=r[s+1])==null?void 0:t.trim())||"";return(n=/.+ (.+) .+/.exec(i))==null?void 0:n[1]},zC=(e,t={})=>(n,r,s)=>{const{enabled:i,anonymousActionType:o,store:l,...c}=t;let u;try{u=(i??(WC?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return e(n,r,s);const{connection:f,...a}=UC(l,u,c);let d=!0;s.setState=(m,g,y)=>{const v=n(m,g);if(!d)return v;const I=BC(new Error().stack),_=y===void 0?{type:o||I||"anonymous"}:typeof y=="string"?{type:y}:y;return l===void 0?(f==null||f.send(_,r()),v):(f==null||f.send({..._,type:`${l}/${_.type}`},{...bo(c.name),[l]:s.getState()}),v)},s.devtools={cleanup:()=>{f&&typeof f.unsubscribe=="function"&&f.unsubscribe(),VC(c.name,l)}};const h=(...m)=>{const g=d;d=!1,n(...m),d=g},p=e(s.setState,r,s);if(a.type==="untracked"?f==null||f.init(p):(a.stores[a.store]=s,f==null||f.init(Object.fromEntries(Object.entries(a.stores).map(([m,g])=>[m,m===a.store?p:g.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){const m=s.dispatch;s.dispatch=(...g)=>{m(...g)}}return f.subscribe(m=>{var g;switch(m.type){case"ACTION":if(typeof m.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Gl(m.payload,y=>{if(y.type==="__setState"){if(l===void 0){h(y.state);return}Object.keys(y.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const v=y.state[l];if(v==null)return;JSON.stringify(s.getState())!==JSON.stringify(v)&&h(v);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(y)});case"DISPATCH":switch(m.payload.type){case"RESET":return h(p),l===void 0?f==null?void 0:f.init(s.getState()):f==null?void 0:f.init(bo(c.name));case"COMMIT":if(l===void 0){f==null||f.init(s.getState());return}return f==null?void 0:f.init(bo(c.name));case"ROLLBACK":return Gl(m.state,y=>{if(l===void 0){h(y),f==null||f.init(s.getState());return}h(y[l]),f==null||f.init(bo(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Gl(m.state,y=>{if(l===void 0){h(y);return}JSON.stringify(s.getState())!==JSON.stringify(y[l])&&h(y[l])});case"IMPORT_STATE":{const{nextLiftedState:y}=m.payload,v=(g=y.computedStates.slice(-1)[0])==null?void 0:g.state;if(!v)return;h(l===void 0?v:v[l]),f==null||f.send(null,y);return}case"PAUSE_RECORDING":return d=!d}return}}),p},_W=zC,Gl=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)};function Ga(e,t){let n;try{n=e()}catch{return}return{getItem:r=>{var s;const i=l=>l===null?null:JSON.parse(l,void 0),o=(s=n.getItem(r))!=null?s:null;return o instanceof Promise?o.then(i):i(o)},setItem:(r,s)=>n.setItem(r,JSON.stringify(s,void 0)),removeItem:r=>n.removeItem(r)}}const hu=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return hu(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return hu(r)(n)}}}},HC=(e,t)=>(n,r,s)=>{let i={storage:Ga(()=>localStorage),partialize:m=>m,version:0,merge:(m,g)=>({...g,...m}),...t},o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...m)},r,s);const f=()=>{const m=i.partialize({...r()});return u.setItem(i.name,{state:m,version:i.version})},a=s.setState;s.setState=(m,g)=>{a(m,g),f()};const d=e((...m)=>{n(...m),f()},r,s);s.getInitialState=()=>d;let h;const p=()=>{var m,g;if(!u)return;o=!1,l.forEach(v=>{var I;return v((I=r())!=null?I:d)});const y=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(m=r())!=null?m:d))||void 0;return hu(u.getItem.bind(u))(i.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==i.version){if(i.migrate){const I=i.migrate(v.state,v.version);return I instanceof Promise?I.then(_=>[!0,_]):[!0,I]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var I;const[_,S]=v;if(h=i.merge(S,(I=r())!=null?I:d),n(h,!0),_)return f()}).then(()=>{y==null||y(h,void 0),h=r(),o=!0,c.forEach(v=>v(h))}).catch(v=>{y==null||y(void 0,v)})};return s.persist={setOptions:m=>{i={...i,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},i.skipHydration||p(),h||d},Id=HC,Rp=e=>{let t;const n=new Set,r=(l,c)=>{const u=typeof l=="function"?l(t):l;if(!Object.is(u,t)){const f=t;t=c??(typeof u!="object"||u===null)?u:Object.assign({},t,u),n.forEach(a=>a(t,f))}},s=()=>t,i={setState:r,getState:s,getInitialState:()=>o,subscribe:l=>(n.add(l),()=>n.delete(l))},o=t=e(r,s,i);return i},qC=e=>e?Rp(e):Rp,QC=e=>e;function Ja(e,t=QC){const n=bn.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return bn.useDebugValue(n),n}const Dp=e=>{const t=qC(e),n=r=>Ja(t,r);return Object.assign(n,t),n},_d=e=>e?Dp(e):Dp,XC=fu.createInstance({name:"webstore"}),GC=()=>{const e={customSounds:[],defaultSounds:[{name:"default",assetName:"/tabNotification1.wav"},{name:"default2",assetName:"/tabNotification2.wav"}],tabNotificationSound:{name:"default2",isCustom:!1,volume:1},tradeNotificationSound:{name:"default",isCustom:!1,volume:1},serviceNotificationSound:{name:"default2",isCustom:!1,volume:1}};return _d()(Id(t=>({...e,addCustomSound:n=>t(r=>{const s=r.customSounds||[];return s.find(i=>i.name===n.name)?{customSounds:s.map(i=>i.name===n.name?{...i,encodedBase64Sound:n.encodedBase64Sound}:i)}:{customSounds:[...s,n]}}),removeUnusedCustomSounds:()=>{t(n=>{var s,i,o;const r=[(s=n.tabNotificationSound)!=null&&s.isCustom?n.tabNotificationSound.name:void 0,(i=n.tradeNotificationSound)!=null&&i.isCustom?n.tradeNotificationSound.name:void 0,(o=n.serviceNotificationSound)!=null&&o.isCustom?n.serviceNotificationSound.name:void 0].filter(Boolean);return{customSounds:n.customSounds.filter(l=>r.includes(l.name))}})},setTabNotificationSound:(n,r=!1,s=1)=>t(n?{tabNotificationSound:{name:n,isCustom:r,volume:s}}:{tabNotificationSound:void 0}),setTradeNotificationSound:(n,r=!1,s=1)=>t(n?{tradeNotificationSound:{name:n,isCustom:r,volume:s}}:{tradeNotificationSound:void 0}),setServiceNotificationSound:(n,r=!1,s=1)=>t(n?{serviceNotificationSound:{name:n,isCustom:r,volume:s}}:{serviceNotificationSound:void 0})}),{name:"poexchange-notification-settings-store",storage:Ga(()=>XC),partialize:t=>({customSounds:t.customSounds,tabNotificationSound:t.tabNotificationSound,tradeNotificationSound:t.tradeNotificationSound,serviceNotificationSound:t.serviceNotificationSound}),version:1}))},Dv=x.createContext(null),JC=({children:e})=>{const t=x.useRef();return t.current||(t.current=GC()),P.jsx(Dv.Provider,{value:t.current,children:e})},Np=e=>{const t=x.useContext(Dv);if(!t)throw new Error("notificationSettingsStoreContext must be use within NotificationSettingsStoreProvider");return Ja(t,e)},YC=Rv([e=>e.customSounds,e=>e.defaultSounds,(e,t)=>t],(e,t,n)=>{var s;if(n.isCustom)return(s=e==null?void 0:e.find(i=>i.name===n.name))==null?void 0:s.encodedBase64Sound;const r=t==null?void 0:t.find(i=>i.name===n.name);if(r)return`${KS.assetUrl}${r==null?void 0:r.assetName}`}),Nv=e=>{const t=x.useRef(),n=cn(o=>o.tabActive),r=(o,l)=>{switch(l){case"tabNotificationSound":return o.tabNotificationSound;case"tradeNotificationSound":return o.tradeNotificationSound;case"serviceNotificationSound":return o.serviceNotificationSound}},s=Np(o=>r(o,e)),i=Np(o=>s?YC(o,s):void 0);return x.useCallback(()=>{var o;if(t.current)if(s&&i&&t.current.name!==s.name)t.current.sound.unload(),t.current.name=s.name,t.current.sound=new Pp.Howl({src:i,volume:s.volume});else if(!s||!i){t.current.sound.unload(),t.current=void 0;return}else t.current.sound.volume(s.volume);else if(s&&i)t.current={name:s.name,sound:new Pp.Howl({src:i,volume:s.volume})};else return;n&&((o=t.current)==null||o.sound.play())},[i,s,n])};function Fp(e,t){const n=new Set(t);return e.filter(r=>!n.has(r))}function KC(e,t,n){const r=e.slice(0);return r[t]=n,r}var ws,Lt,xs,Ss,Ot,Qn,Wi,Ui,Vi,at,pu,mu,gu,yu,bu,my,ZC=(my=class extends Dr{constructor(n,r,s){super();ue(this,at);ue(this,ws);ue(this,Lt);ue(this,xs);ue(this,Ss);ue(this,Ot);ue(this,Qn);ue(this,Wi);ue(this,Ui);ue(this,Vi,[]);oe(this,ws,n),oe(this,Ss,s),oe(this,xs,[]),oe(this,Ot,[]),oe(this,Lt,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&D(this,Ot).forEach(n=>{n.subscribe(r=>{me(this,at,yu).call(this,n,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,D(this,Ot).forEach(n=>{n.destroy()})}setQueries(n,r){oe(this,xs,n),oe(this,Ss,r),Qe.batch(()=>{const s=D(this,Ot),i=me(this,at,gu).call(this,D(this,xs));oe(this,Vi,i),i.forEach(u=>u.observer.setOptions(u.defaultedQueryOptions));const o=i.map(u=>u.observer),l=o.map(u=>u.getCurrentResult()),c=o.some((u,f)=>u!==s[f]);s.length===o.length&&!c||(oe(this,Ot,o),oe(this,Lt,l),this.hasListeners()&&(Fp(s,o).forEach(u=>{u.destroy()}),Fp(o,s).forEach(u=>{u.subscribe(f=>{me(this,at,yu).call(this,u,f)})}),me(this,at,bu).call(this)))})}getCurrentResult(){return D(this,Lt)}getQueries(){return D(this,Ot).map(n=>n.getCurrentQuery())}getObservers(){return D(this,Ot)}getOptimisticResult(n,r){const s=me(this,at,gu).call(this,n),i=s.map(o=>o.observer.getOptimisticResult(o.defaultedQueryOptions));return[i,o=>me(this,at,mu).call(this,o??i,r),()=>me(this,at,pu).call(this,i,s)]}},ws=new WeakMap,Lt=new WeakMap,xs=new WeakMap,Ss=new WeakMap,Ot=new WeakMap,Qn=new WeakMap,Wi=new WeakMap,Ui=new WeakMap,Vi=new WeakMap,at=new WeakSet,pu=function(n,r){return r.map((s,i)=>{const o=n[i];return s.defaultedQueryOptions.notifyOnChangeProps?o:s.observer.trackResult(o,l=>{r.forEach(c=>{c.observer.trackProp(l)})})})},mu=function(n,r){return r?((!D(this,Qn)||D(this,Lt)!==D(this,Ui)||r!==D(this,Wi))&&(oe(this,Wi,r),oe(this,Ui,D(this,Lt)),oe(this,Qn,vd(D(this,Qn),r(n)))),D(this,Qn)):n},gu=function(n){const r=new Map(D(this,Ot).map(i=>[i.options.queryHash,i])),s=[];return n.forEach(i=>{const o=D(this,ws).defaultQueryOptions(i),l=r.get(o.queryHash);l?s.push({defaultedQueryOptions:o,observer:l}):s.push({defaultedQueryOptions:o,observer:new $d(D(this,ws),o)})}),s},yu=function(n,r){const s=D(this,Ot).indexOf(n);s!==-1&&(oe(this,Lt,KC(D(this,Lt),s,r)),me(this,at,bu).call(this))},bu=function(){var n;if(this.hasListeners()){const r=D(this,Qn),s=me(this,at,pu).call(this,D(this,Lt),D(this,Vi)),i=me(this,at,mu).call(this,s,(n=D(this,Ss))==null?void 0:n.combine);r!==i&&Qe.batch(()=>{this.listeners.forEach(o=>{o(D(this,Lt))})})}},my);function Fv({queries:e,...t},n){const r=on(n),s=Sv(),i=yv(),o=x.useMemo(()=>e.map(p=>{const m=r.defaultQueryOptions(p);return m._optimisticResults=s?"isRestoring":"optimistic",m}),[e,r,s]);o.forEach(p=>{$v(p),bv(p,i)}),vv(i);const[l]=x.useState(()=>new ZC(r,o,t)),[c,u,f]=l.getOptimisticResult(o,t.combine),a=!s&&t.subscribed!==!1;x.useSyncExternalStore(x.useCallback(p=>a?l.subscribe(Qe.batchCalls(p)):ut,[l,a]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),x.useEffect(()=>{l.setQueries(o,t)},[o,t,l]);const d=c.some((p,m)=>au(o[m],p))?c.flatMap((p,m)=>{const g=o[m];if(g){const y=new $d(r,g);if(au(g,p))return la(g,y,i);Mv(p,s)&&la(g,y,i)}return[]}):[];if(d.length>0)throw Promise.all(d);const h=c.find((p,m)=>{const g=o[m];return g&&wv({result:p,errorResetBoundary:i,throwOnError:g.throwOnError,query:r.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(h!=null&&h.error)throw h.error;return u(f())}const Wv=(e,t)=>{if(!e)return;const n=Us.find(r=>r.name===e);return t?n==null?void 0:n.subCategories.find(r=>r.name===t):n},e3=(e,t)=>{const n=x.useMemo(()=>e?[...new Set(e.map(u=>u.meta.league))]:[],[e]),r=x.useMemo(()=>e?[...new Set(e.map(u=>{var f;return((f=Wv(u.meta.category,u.meta.subCategory))==null?void 0:f.tags)||[]}).flat())]:[],[e,t]),s=x.useCallback(u=>{const f={},a=u.every(p=>!p.isPending);a&&u.length>0&&u.filter(p=>p.data).map(p=>p.data).forEach(p=>{f[p.meta.league]={...f[p.meta.league],...p.valuations}});const d=u.some(p=>p.isError),h=u.some(p=>p.isFetching);return{valuations:a?f:void 0,isValuationPending:!a,isValuationFetching:h,isValuationError:d}},[n,r]),{valuations:i,isValuationPending:o,isValuationFetching:l,isValuationError:c}=Fv({queries:n.map(u=>r.map(f=>ia(u,f))).flat(),combine:s});return{valuations:i,isValuationPending:o,isValuationFetching:l,isValuationError:c}};function EW(e){return Pe().post("/listings",e)}async function t3(){return(await Pe().get("/listings/my")).data.map(e=>({...e,meta:{...e.meta,subCategory:!e.meta.subCategory||e.meta.subCategory==="ALL"?"":e.meta.subCategory,timestampMs:e.meta.timestampMs-2e3,totalPrice:e.items.reduce((t,n)=>n.price*n.quantity+t,0)}})).sort((e,t)=>t.meta.timestampMs-e.meta.timestampMs)}function CW(e,t,n,r){return Pe().delete(`/listings/${e.toLowerCase()}/${t}/${n||"ALL"}/${r?"delete":"deactivate"}`)}async function n3(e,t,n){const r=await Pe().get(`/listings/${e.toLowerCase()}/${t}/${av(n)}`);return r.data.forEach(s=>{(!s.meta.subCategory||s.meta.subCategory==="ALL")&&(s.meta.subCategory="")}),r.data}async function r3(e){return(await Pe().get(`/listings/expanded/${e}`)).data}const AW=(e,t,n,r,s)=>({queryKey:["listings",e,(t==null?void 0:t.name)||"ALL"],queryFn:async()=>{const i=await n3(e,(t==null?void 0:t.name)||"ALL",r),o=de.utc().valueOf();return s(o-6e3),i},staleTime:10*1e3,gcTime:0,enabled:$e.isClient,refetchInterval:6e3,refetchIntervalInBackground:n,retry:!0}),Uv=e=>{var t,n;return{queryKey:["my-listings",(t=e==null?void 0:e.profile)==null?void 0:t.uuid],queryFn:()=>t3(),staleTime:30*60*1e3,enabled:$e.isClient&&!!((n=e==null?void 0:e.profile)!=null&&n.uuid)}},PW=(e,t)=>({queryKey:["expanded-listing-info",e],queryFn:()=>r3(e||""),staleTime:5*60*1e3,gcTime:5*1e3,enabled:$e.isClient&&!!e&&t!==!1}),s3=(e,t,n)=>{let r=0,s=0,i=0,o=0,l;return e.forEach(c=>{const u=n===!1?c.quantity:c.selectedQuantity,f=c.price*u;r+=f,o+=(t??0)*u,c.primaryValuation!==void 0&&(s+=f,i+=c.primaryValuation*u)}),s&&i&&(l=s/i*100),{multiplier:l?vt(l,1):void 0,calculatedTotalPrice:vt(r,4),calculatedExtraPrice:vt(o,4)}},Wp=(e,t,n="toMax",r={})=>{let s=e.items;r.updateQuantities&&r.selectedItems&&(s=s.map(a=>{var h;let d=a.rawItems;return a.rawItems&&a.selectedQuantity!==void 0&&(d=[],(h=a.rawItems)==null||h.forEach(p=>{const m=r.selectedItems.find(y=>y.id===p.id);if(m&&(m.stackSize||1)===(p.stackSize||1))return;let g=p;m&&(g={...p},g.stackSize=(p.stackSize||1)-(m.stackSize||1)),d.push(g)})),{...a,quantity:a.selectedQuantity!==void 0?a.quantity-a.selectedQuantity:a.quantity,selectedQuantity:a.selectedQuantity!==void 0?a.quantity-a.selectedQuantity:void 0,rawItems:d}}).filter(a=>a.quantity>0&&(!r.unselectedItems||!r.unselectedItems[a.pHash||a.hash])));const i=s.map(a=>{var g,y,v,I,_,S,k,$;const d=t==null?void 0:t[a.pHash||a.hash];if(!a.s)return console.log("No item summary found",a),null;let h;(g=a.rawItems)!=null&&g[0]&&r.customGroup&&(h=(I=(v=(y=r.categoryItem)==null?void 0:y.customProps)==null?void 0:v.call(y,a.rawItems[0],r.customGroup))==null?void 0:I[0]);let p=a.price,m;return r.updatePrices&&(r.overprices&&r.overprices[a.hash]?m=r.overprices[a.hash]:h!==void 0?m=h:r.basePrice?m=r.basePrice:d!=null&&d.primaryValue&&(m=d.primaryValue),m&&(p=vt(m*(r.multiplier??100)/100,4))),{pHash:a.pHash,tHash:a.tHash,hash:a.hash,price:p,quantity:a.quantity,displayName:(_=a.s)==null?void 0:_.k,icon:`https://web.poecdn.com/gen/image/${(S=a.s)==null?void 0:S.i}`,unsafeHashProperties:(k=a.s)==null?void 0:k.p,tag:($=a.s)==null?void 0:$.t,primaryValuation:d==null?void 0:d.primaryValue,valuation:d,selectedQuantity:a.selectedQuantity??(n==="toMax"?a.quantity:0),items:a.rawItems}});if(i.some(a=>a===null)){console.warn("Some items are missing. Removing listing",i);return}const o=i,{multiplier:l,calculatedTotalPrice:c,calculatedExtraPrice:u}=s3(o,e.meta.regexExtraPrice,r.updateQuantities),f=Wv(e.meta.category,e.meta.subCategory);return{userId:e.userId,uuid:e.uuid,inactive:e.inactive,deleted:e.deleted,discord:e.discord,twitch:e.twitch,meta:{...e.meta,multiplier:l,calculatedTotalPrice:c,calculatedExtraPrice:u,icon:(f==null?void 0:f.icon)||"",altIcon:""},items:o}},i3="_whisperNotify_1cr9y_1",o3="_whisperAnimating_1cr9y_11",Up={whisperNotify:i3,whisperAnimating:o3};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Vp=e=>{const t=l3(e);return t.charAt(0).toUpperCase()+t.slice(1)},Vv=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),c3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...u3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Vv("lucide",s),...!i&&!c3(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,f])=>x.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=(e,t)=>{const n=x.forwardRef(({className:r,...s},i)=>x.createElement(d3,{ref:i,iconNode:t,className:Vv(`lucide-${a3(Vp(e))}`,`lucide-${e}`,r),...s}));return n.displayName=Vp(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],h3=qs("copy",f3);function p3({pos:e,onClose:t=()=>{}}){const[n,r]=bn.useState(!1);return bn.useEffect(()=>{setTimeout(()=>r(!0),1)},[]),bn.useEffect(()=>{setTimeout(()=>{t()},1e3)},[t]),P.jsx("div",{className:je(Up.whisperNotify,{[Up.whisperAnimating]:n}),style:e,children:P.jsx(h3,{className:"h-4 w-4"})})}const vu=({children:e,disabled:t})=>{const[n,r]=x.useState(0),[s,i]=x.useState(),o=document==null?void 0:document.getElementById("poex");return P.jsxs(P.Fragment,{children:[o&&s&&td.createPortal(P.jsx(p3,{pos:{left:s.x,top:s.y}},`${s.x}_${s.y}_${n}`),o),e&&P.jsx(yb,{onClick:l=>{t||(i({x:l.clientX,y:l.clientY}),r(c=>c+1))},children:e})]})},Td=x.createContext(void 0),Bv=({poe:e,league:t,children:n})=>{const r=x.useCallback(i=>{const o=i.valuations.cceb40e33d9237cb6a06037e739e40aa9a548c70.primaryValue;return vt(o,2)},[]),{data:s}=tr({...ia(t,"currency"),select:r,enabled:!!t&&e==="poe1"});return P.jsx(Td.Provider,{value:s,children:n})},LW=({children:e,value:t})=>P.jsx(Td.Provider,{value:t,children:e}),m3=()=>x.useContext(Td);function Ze(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function g3(e,t){const n=x.createContext(t),r=i=>{const{children:o,...l}=i,c=x.useMemo(()=>l,Object.values(l));return P.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(i){const o=x.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Ki(e,t=[]){let n=[];function r(i,o){const l=x.createContext(o),c=n.length;n=[...n,o];const u=a=>{var y;const{scope:d,children:h,...p}=a,m=((y=d==null?void 0:d[e])==null?void 0:y[c])||l,g=x.useMemo(()=>p,Object.values(p));return P.jsx(m.Provider,{value:g,children:h})};u.displayName=i+"Provider";function f(a,d){var m;const h=((m=d==null?void 0:d[e])==null?void 0:m[c])||l,p=x.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${a}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=n.map(o=>x.createContext(o));return function(o){const l=(o==null?void 0:o[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return s.scopeName=e,[r,y3(s,...t)]}function y3(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(s){const i=r.reduce((o,{useScope:l,scopeName:c})=>{const u=l(s)[`__scope${c}`];return{...o,...u}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var b3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rt=b3.reduce((e,t)=>{const n=Pa(`Primitive.${t}`),r=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function v3(e,t){e&&td.flushSync(()=>e.dispatchEvent(t))}function As(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function w3(e,t=globalThis==null?void 0:globalThis.document){const n=As(e);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var x3="DismissableLayer",wu="dismissableLayer.update",S3="dismissableLayer.pointerDownOutside",$3="dismissableLayer.focusOutside",Bp,zv=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ya=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(zv),[f,a]=x.useState(null),d=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=x.useState({}),p=gt(t,$=>a($)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),v=f?m.indexOf(f):-1,I=u.layersWithOutsidePointerEventsDisabled.size>0,_=v>=y,S=I3($=>{const b=$.target,M=[...u.branches].some(w=>w.contains(b));!_||M||(s==null||s($),o==null||o($),$.defaultPrevented||(l==null||l()))},d),k=_3($=>{const b=$.target;[...u.branches].some(M=>M.contains(b))||(i==null||i($),o==null||o($),$.defaultPrevented||(l==null||l()))},d);return w3($=>{v===u.layers.size-1&&(r==null||r($),!$.defaultPrevented&&l&&($.preventDefault(),l()))},d),x.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Bp=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),zp(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=Bp)}},[f,d,n,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),zp())},[f,u]),x.useEffect(()=>{const $=()=>h({});return document.addEventListener(wu,$),()=>document.removeEventListener(wu,$)},[]),P.jsx(rt.div,{...c,ref:p,style:{pointerEvents:I?_?"auto":"none":void 0,...e.style},onFocusCapture:Ze(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ze(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ze(e.onPointerDownCapture,S.onPointerDownCapture)})});Ya.displayName=x3;var M3="DismissableLayerBranch",k3=x.forwardRef((e,t)=>{const n=x.useContext(zv),r=x.useRef(null),s=gt(t,r);return x.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),P.jsx(rt.div,{...e,ref:s})});k3.displayName=M3;function I3(e,t=globalThis==null?void 0:globalThis.document){const n=As(e),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){Hv(S3,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function _3(e,t=globalThis==null?void 0:globalThis.document){const n=As(e),r=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!r.current&&Hv($3,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function zp(){const e=new CustomEvent(wu);document.dispatchEvent(e)}function Hv(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?v3(s,i):s.dispatchEvent(i)}var Jl=0;function qv(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Hp()),document.body.insertAdjacentElement("beforeend",e[1]??Hp()),Jl++,()=>{Jl===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Jl--}},[])}function Hp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Yl="focusScope.autoFocusOnMount",Kl="focusScope.autoFocusOnUnmount",qp={bubbles:!1,cancelable:!0},T3="FocusScope",Ed=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=x.useState(null),u=As(s),f=As(i),a=x.useRef(null),d=gt(t,m=>c(m)),h=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let m=function(I){if(h.paused||!l)return;const _=I.target;l.contains(_)?a.current=_:Rn(a.current,{select:!0})},g=function(I){if(h.paused||!l)return;const _=I.relatedTarget;_!==null&&(l.contains(_)||Rn(a.current,{select:!0}))},y=function(I){if(document.activeElement===document.body)for(const _ of I)_.removedNodes.length>0&&Rn(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),v.disconnect()}}},[r,l,h.paused]),x.useEffect(()=>{if(l){Xp.add(h);const m=document.activeElement;if(!l.contains(m)){const g=new CustomEvent(Yl,qp);l.addEventListener(Yl,u),l.dispatchEvent(g),g.defaultPrevented||(E3(O3(Qv(l)),{select:!0}),document.activeElement===m&&Rn(l))}return()=>{l.removeEventListener(Yl,u),setTimeout(()=>{const g=new CustomEvent(Kl,qp);l.addEventListener(Kl,f),l.dispatchEvent(g),g.defaultPrevented||Rn(m??document.body,{select:!0}),l.removeEventListener(Kl,f),Xp.remove(h)},0)}}},[l,u,f,h]);const p=x.useCallback(m=>{if(!n&&!r||h.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(g&&y){const v=m.currentTarget,[I,_]=C3(v);I&&_?!m.shiftKey&&y===_?(m.preventDefault(),n&&Rn(I,{select:!0})):m.shiftKey&&y===I&&(m.preventDefault(),n&&Rn(_,{select:!0})):y===v&&m.preventDefault()}},[n,r,h.paused]);return P.jsx(rt.div,{tabIndex:-1,...o,ref:d,onKeyDown:p})});Ed.displayName=T3;function E3(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Rn(r,{select:t}),document.activeElement!==n)return}function C3(e){const t=Qv(e),n=Qp(t,e),r=Qp(t.reverse(),e);return[n,r]}function Qv(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Qp(e,t){for(const n of e)if(!A3(n,{upTo:t}))return n}function A3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function P3(e){return e instanceof HTMLInputElement&&"select"in e}function Rn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&P3(e)&&t&&e.select()}}var Xp=L3();function L3(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Gp(e,t),e.unshift(t)},remove(t){var n;e=Gp(e,t),(n=e[0])==null||n.resume()}}}function Gp(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function O3(e){return e.filter(t=>t.tagName!=="A")}var nr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},j3=vy[" useId ".trim().toString()]||(()=>{}),R3=0;function pi(e){const[t,n]=x.useState(j3());return nr(()=>{n(r=>r??String(R3++))},[e]),e||(t?`radix-${t}`:"")}const D3=["top","right","bottom","left"],rr=Math.min,Mt=Math.max,da=Math.round,vo=Math.floor,en=e=>({x:e,y:e}),N3={left:"right",right:"left",bottom:"top",top:"bottom"},F3={start:"end",end:"start"};function xu(e,t,n){return Mt(e,rr(t,n))}function $n(e,t){return typeof e=="function"?e(t):e}function Mn(e){return e.split("-")[0]}function Qs(e){return e.split("-")[1]}function Cd(e){return e==="x"?"y":"x"}function Ad(e){return e==="y"?"height":"width"}function Zt(e){return["top","bottom"].includes(Mn(e))?"y":"x"}function Pd(e){return Cd(Zt(e))}function W3(e,t,n){n===void 0&&(n=!1);const r=Qs(e),s=Pd(e),i=Ad(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=fa(o)),[o,fa(o)]}function U3(e){const t=fa(e);return[Su(e),t,Su(t)]}function Su(e){return e.replace(/start|end/g,t=>F3[t])}function V3(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:o;default:return[]}}function B3(e,t,n,r){const s=Qs(e);let i=V3(Mn(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Su)))),i}function fa(e){return e.replace(/left|right|bottom|top/g,t=>N3[t])}function z3(e){return{top:0,right:0,bottom:0,left:0,...e}}function Xv(e){return typeof e!="number"?z3(e):{top:e,right:e,bottom:e,left:e}}function ha(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Jp(e,t,n){let{reference:r,floating:s}=e;const i=Zt(t),o=Pd(t),l=Ad(o),c=Mn(t),u=i==="y",f=r.x+r.width/2-s.width/2,a=r.y+r.height/2-s.height/2,d=r[l]/2-s[l]/2;let h;switch(c){case"top":h={x:f,y:r.y-s.height};break;case"bottom":h={x:f,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:a};break;case"left":h={x:r.x-s.width,y:a};break;default:h={x:r.x,y:r.y}}switch(Qs(t)){case"start":h[o]-=d*(n&&u?-1:1);break;case"end":h[o]+=d*(n&&u?-1:1);break}return h}const H3=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:a}=Jp(u,r,c),d=r,h={},p=0;for(let m=0;m<l.length;m++){const{name:g,fn:y}=l[m],{x:v,y:I,data:_,reset:S}=await y({x:f,y:a,initialPlacement:r,placement:d,strategy:s,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});f=v??f,a=I??a,h={...h,[g]:{...h[g],..._}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:f,y:a}=Jp(u,d,c)),m=-1)}return{x:f,y:a,placement:d,strategy:s,middlewareData:h}};async function Mi(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:a="floating",altBoundary:d=!1,padding:h=0}=$n(t,e),p=Xv(h),m=l[d?a==="floating"?"reference":"floating":a],g=ha(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(m)))==null||n?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),y=a==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),I=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},_=ha(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:v,strategy:c}):y);return{top:(g.top-_.top+p.top)/I.y,bottom:(_.bottom-g.bottom+p.bottom)/I.y,left:(g.left-_.left+p.left)/I.x,right:(_.right-g.right+p.right)/I.x}}const q3=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=$n(e,t)||{};if(u==null)return{};const a=Xv(f),d={x:n,y:r},h=Pd(s),p=Ad(h),m=await o.getDimensions(u),g=h==="y",y=g?"top":"left",v=g?"bottom":"right",I=g?"clientHeight":"clientWidth",_=i.reference[p]+i.reference[h]-d[h]-i.floating[p],S=d[h]-i.reference[h],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let $=k?k[I]:0;(!$||!await(o.isElement==null?void 0:o.isElement(k)))&&($=l.floating[I]||i.floating[p]);const b=_/2-S/2,M=$/2-m[p]/2-1,w=rr(a[y],M),E=rr(a[v],M),L=w,Q=$-m[p]-E,W=$/2-m[p]/2+b,U=xu(L,W,Q),N=!c.arrow&&Qs(s)!=null&&W!==U&&i.reference[p]/2-(W<L?w:E)-m[p]/2<0,H=N?W<L?W-L:W-Q:0;return{[h]:d[h]+H,data:{[h]:U,centerOffset:W-U-H,...N&&{alignmentOffset:H}},reset:N}}}),Q3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:a=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=$n(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=Mn(s),v=Zt(l),I=Mn(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=d||(I||!m?[fa(l)]:U3(l)),k=p!=="none";!d&&k&&S.push(...B3(l,m,p,_));const $=[l,...S],b=await Mi(t,g),M=[];let w=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&M.push(b[y]),a){const W=W3(s,o,_);M.push(b[W[0]],b[W[1]])}if(w=[...w,{placement:s,overflows:M}],!M.every(W=>W<=0)){var E,L;const W=(((E=i.flip)==null?void 0:E.index)||0)+1,U=$[W];if(U&&(!(a==="alignment"&&v!==Zt(U))||w.every(H=>H.overflows[0]>0&&Zt(H.placement)===v)))return{data:{index:W,overflows:w},reset:{placement:U}};let N=(L=w.filter(H=>H.overflows[0]<=0).sort((H,F)=>H.overflows[1]-F.overflows[1])[0])==null?void 0:L.placement;if(!N)switch(h){case"bestFit":{var Q;const H=(Q=w.filter(F=>{if(k){const Z=Zt(F.placement);return Z===v||Z==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(Z=>Z>0).reduce((Z,te)=>Z+te,0)]).sort((F,Z)=>F[1]-Z[1])[0])==null?void 0:Q[0];H&&(N=H);break}case"initialPlacement":N=l;break}if(s!==N)return{reset:{placement:N}}}return{}}}};function Yp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Kp(e){return D3.some(t=>e[t]>=0)}const X3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=$n(e,t);switch(r){case"referenceHidden":{const i=await Mi(t,{...s,elementContext:"reference"}),o=Yp(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Kp(o)}}}case"escaped":{const i=await Mi(t,{...s,altBoundary:!0}),o=Yp(i,n.floating);return{data:{escapedOffsets:o,escaped:Kp(o)}}}default:return{}}}}};async function G3(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Mn(n),l=Qs(n),c=Zt(n)==="y",u=["left","top"].includes(o)?-1:1,f=i&&c?-1:1,a=$n(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof a=="number"?{mainAxis:a,crossAxis:0,alignmentAxis:null}:{mainAxis:a.mainAxis||0,crossAxis:a.crossAxis||0,alignmentAxis:a.alignmentAxis};return l&&typeof p=="number"&&(h=l==="end"?p*-1:p),c?{x:h*f,y:d*u}:{x:d*u,y:h*f}}const J3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await G3(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},Y3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:y,y:v}=g;return{x:y,y:v}}},...c}=$n(e,t),u={x:n,y:r},f=await Mi(t,c),a=Zt(Mn(s)),d=Cd(a);let h=u[d],p=u[a];if(i){const g=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=h+f[g],I=h-f[y];h=xu(v,h,I)}if(o){const g=a==="y"?"top":"left",y=a==="y"?"bottom":"right",v=p+f[g],I=p-f[y];p=xu(v,p,I)}const m=l.fn({...t,[d]:h,[a]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[d]:i,[a]:o}}}}}},K3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=$n(e,t),f={x:n,y:r},a=Zt(s),d=Cd(a);let h=f[d],p=f[a];const m=$n(l,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const I=d==="y"?"height":"width",_=i.reference[d]-i.floating[I]+g.mainAxis,S=i.reference[d]+i.reference[I]-g.mainAxis;h<_?h=_:h>S&&(h=S)}if(u){var y,v;const I=d==="y"?"width":"height",_=["top","left"].includes(Mn(s)),S=i.reference[a]-i.floating[I]+(_&&((y=o.offset)==null?void 0:y[a])||0)+(_?0:g.crossAxis),k=i.reference[a]+i.reference[I]+(_?0:((v=o.offset)==null?void 0:v[a])||0)-(_?g.crossAxis:0);p<S?p=S:p>k&&(p=k)}return{[d]:h,[a]:p}}}},Z3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=$n(e,t),f=await Mi(t,u),a=Mn(s),d=Qs(s),h=Zt(s)==="y",{width:p,height:m}=i.floating;let g,y;a==="top"||a==="bottom"?(g=a,y=d===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=a,g=d==="end"?"top":"bottom");const v=m-f.top-f.bottom,I=p-f.left-f.right,_=rr(m-f[g],v),S=rr(p-f[y],I),k=!t.middlewareData.shift;let $=_,b=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(b=I),(r=t.middlewareData.shift)!=null&&r.enabled.y&&($=v),k&&!d){const w=Mt(f.left,0),E=Mt(f.right,0),L=Mt(f.top,0),Q=Mt(f.bottom,0);h?b=p-2*(w!==0||E!==0?w+E:Mt(f.left,f.right)):$=m-2*(L!==0||Q!==0?L+Q:Mt(f.top,f.bottom))}await c({...t,availableWidth:b,availableHeight:$});const M=await o.getDimensions(l.floating);return p!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}};function Ka(){return typeof window<"u"}function Xs(e){return Gv(e)?(e.nodeName||"").toLowerCase():"#document"}function It(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ln(e){var t;return(t=(Gv(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Gv(e){return Ka()?e instanceof Node||e instanceof It(e).Node:!1}function Vt(e){return Ka()?e instanceof Element||e instanceof It(e).Element:!1}function sn(e){return Ka()?e instanceof HTMLElement||e instanceof It(e).HTMLElement:!1}function Zp(e){return!Ka()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof It(e).ShadowRoot}function Zi(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Bt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function eA(e){return["table","td","th"].includes(Xs(e))}function Za(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ld(e){const t=Od(),n=Vt(e)?Bt(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function tA(e){let t=sr(e);for(;sn(t)&&!Ps(t);){if(Ld(t))return t;if(Za(t))return null;t=sr(t)}return null}function Od(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ps(e){return["html","body","#document"].includes(Xs(e))}function Bt(e){return It(e).getComputedStyle(e)}function el(e){return Vt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function sr(e){if(Xs(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Zp(e)&&e.host||ln(e);return Zp(t)?t.host:t}function Jv(e){const t=sr(e);return Ps(t)?e.ownerDocument?e.ownerDocument.body:e.body:sn(t)&&Zi(t)?t:Jv(t)}function ki(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Jv(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=It(s);if(i){const l=$u(o);return t.concat(o,o.visualViewport||[],Zi(s)?s:[],l&&n?ki(l):[])}return t.concat(s,ki(s,[],n))}function $u(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Yv(e){const t=Bt(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=sn(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=da(n)!==i||da(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function jd(e){return Vt(e)?e:e.contextElement}function as(e){const t=jd(e);if(!sn(t))return en(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=Yv(t);let o=(i?da(n.width):n.width)/r,l=(i?da(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const nA=en(0);function Kv(e){const t=It(e);return!Od()||!t.visualViewport?nA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rA(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==It(e)?!1:t}function Or(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=jd(e);let o=en(1);t&&(r?Vt(r)&&(o=as(r)):o=as(e));const l=rA(i,n,r)?Kv(i):en(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,f=s.width/o.x,a=s.height/o.y;if(i){const d=It(i),h=r&&Vt(r)?It(r):r;let p=d,m=$u(p);for(;m&&r&&h!==p;){const g=as(m),y=m.getBoundingClientRect(),v=Bt(m),I=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*g.x,_=y.top+(m.clientTop+parseFloat(v.paddingTop))*g.y;c*=g.x,u*=g.y,f*=g.x,a*=g.y,c+=I,u+=_,p=It(m),m=$u(p)}}return ha({width:f,height:a,x:c,y:u})}function Rd(e,t){const n=el(e).scrollLeft;return t?t.left+n:Or(ln(e)).left+n}function Zv(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Rd(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function sA(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=ln(r),l=t?Za(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=en(1);const f=en(0),a=sn(r);if((a||!a&&!i)&&((Xs(r)!=="body"||Zi(o))&&(c=el(r)),sn(r))){const h=Or(r);u=as(r),f.x=h.x+r.clientLeft,f.y=h.y+r.clientTop}const d=o&&!a&&!i?Zv(o,c,!0):en(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+d.x,y:n.y*u.y-c.scrollTop*u.y+f.y+d.y}}function iA(e){return Array.from(e.getClientRects())}function oA(e){const t=ln(e),n=el(e),r=e.ownerDocument.body,s=Mt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Mt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Rd(e);const l=-n.scrollTop;return Bt(r).direction==="rtl"&&(o+=Mt(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function aA(e,t){const n=It(e),r=ln(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=Od();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function lA(e,t){const n=Or(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=sn(e)?as(e):en(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function em(e,t,n){let r;if(t==="viewport")r=aA(e,n);else if(t==="document")r=oA(ln(e));else if(Vt(t))r=lA(t,n);else{const s=Kv(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ha(r)}function ew(e,t){const n=sr(e);return n===t||!Vt(n)||Ps(n)?!1:Bt(n).position==="fixed"||ew(n,t)}function cA(e,t){const n=t.get(e);if(n)return n;let r=ki(e,[],!1).filter(l=>Vt(l)&&Xs(l)!=="body"),s=null;const i=Bt(e).position==="fixed";let o=i?sr(e):e;for(;Vt(o)&&!Ps(o);){const l=Bt(o),c=Ld(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&s&&["absolute","fixed"].includes(s.position)||Zi(o)&&!c&&ew(e,o))?r=r.filter(u=>u!==o):s=l,o=sr(o)}return t.set(e,r),r}function uA(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Za(t)?[]:cA(t,this._c):[].concat(n),r],o=i[0],l=i.reduce((c,u)=>{const f=em(t,u,s);return c.top=Mt(f.top,c.top),c.right=rr(f.right,c.right),c.bottom=rr(f.bottom,c.bottom),c.left=Mt(f.left,c.left),c},em(t,o,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function dA(e){const{width:t,height:n}=Yv(e);return{width:t,height:n}}function fA(e,t,n){const r=sn(t),s=ln(t),i=n==="fixed",o=Or(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=en(0);function u(){c.x=Rd(s)}if(r||!r&&!i)if((Xs(t)!=="body"||Zi(s))&&(l=el(t)),r){const h=Or(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&u();i&&!r&&s&&u();const f=s&&!r&&!i?Zv(s,l):en(0),a=o.left+l.scrollLeft-c.x-f.x,d=o.top+l.scrollTop-c.y-f.y;return{x:a,y:d,width:o.width,height:o.height}}function Zl(e){return Bt(e).position==="static"}function tm(e,t){if(!sn(e)||Bt(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ln(e)===n&&(n=n.ownerDocument.body),n}function tw(e,t){const n=It(e);if(Za(e))return n;if(!sn(e)){let s=sr(e);for(;s&&!Ps(s);){if(Vt(s)&&!Zl(s))return s;s=sr(s)}return n}let r=tm(e,t);for(;r&&eA(r)&&Zl(r);)r=tm(r,t);return r&&Ps(r)&&Zl(r)&&!Ld(r)?n:r||tA(e)||n}const hA=async function(e){const t=this.getOffsetParent||tw,n=this.getDimensions,r=await n(e.floating);return{reference:fA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pA(e){return Bt(e).direction==="rtl"}const mA={convertOffsetParentRelativeRectToViewportRelativeRect:sA,getDocumentElement:ln,getClippingRect:uA,getOffsetParent:tw,getElementRects:hA,getClientRects:iA,getDimensions:dA,getScale:as,isElement:Vt,isRTL:pA};function nw(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function gA(e,t){let n=null,r;const s=ln(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:f,top:a,width:d,height:h}=u;if(l||t(),!d||!h)return;const p=vo(a),m=vo(s.clientWidth-(f+d)),g=vo(s.clientHeight-(a+h)),y=vo(f),v={rootMargin:-p+"px "+-m+"px "+-g+"px "+-y+"px",threshold:Mt(0,rr(1,c))||1};let I=!0;function _(S){const k=S[0].intersectionRatio;if(k!==c){if(!I)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!nw(u,e.getBoundingClientRect())&&o(),I=!1}try{n=new IntersectionObserver(_,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,v)}n.observe(e)}return o(!0),i}function yA(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=jd(e),f=s||i?[...u?ki(u):[],...ki(t)]:[];f.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const a=u&&l?gA(u,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var I;(I=h)==null||I.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let p,m=c?Or(e):null;c&&g();function g(){const y=Or(e);m&&!nw(m,y)&&n(),m=y,p=requestAnimationFrame(g)}return n(),()=>{var y;f.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),a==null||a(),(y=h)==null||y.disconnect(),h=null,c&&cancelAnimationFrame(p)}}const bA=J3,vA=Y3,wA=Q3,xA=Z3,SA=X3,nm=q3,$A=K3,MA=(e,t,n)=>{const r=new Map,s={platform:mA,...n},i={...s.platform,_c:r};return H3(e,t,{...s,platform:i})};var kA=typeof document<"u",IA=function(){},qo=kA?x.useLayoutEffect:IA;function pa(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!pa(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!pa(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function rw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rm(e,t){const n=rw(e);return Math.round(t*n)/n}function ec(e){const t=x.useRef(e);return qo(()=>{t.current=e}),t}function _A(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,a]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=x.useState(r);pa(d,r)||h(r);const[p,m]=x.useState(null),[g,y]=x.useState(null),v=x.useCallback(F=>{F!==k.current&&(k.current=F,m(F))},[]),I=x.useCallback(F=>{F!==$.current&&($.current=F,y(F))},[]),_=i||p,S=o||g,k=x.useRef(null),$=x.useRef(null),b=x.useRef(f),M=c!=null,w=ec(c),E=ec(s),L=ec(u),Q=x.useCallback(()=>{if(!k.current||!$.current)return;const F={placement:t,strategy:n,middleware:d};E.current&&(F.platform=E.current),MA(k.current,$.current,F).then(Z=>{const te={...Z,isPositioned:L.current!==!1};W.current&&!pa(b.current,te)&&(b.current=te,td.flushSync(()=>{a(te)}))})},[d,t,n,E,L]);qo(()=>{u===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,a(F=>({...F,isPositioned:!1})))},[u]);const W=x.useRef(!1);qo(()=>(W.current=!0,()=>{W.current=!1}),[]),qo(()=>{if(_&&(k.current=_),S&&($.current=S),_&&S){if(w.current)return w.current(_,S,Q);Q()}},[_,S,Q,w,M]);const U=x.useMemo(()=>({reference:k,floating:$,setReference:v,setFloating:I}),[v,I]),N=x.useMemo(()=>({reference:_,floating:S}),[_,S]),H=x.useMemo(()=>{const F={position:n,left:0,top:0};if(!N.floating)return F;const Z=rm(N.floating,f.x),te=rm(N.floating,f.y);return l?{...F,transform:"translate("+Z+"px, "+te+"px)",...rw(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:te}},[n,l,N.floating,f.x,f.y]);return x.useMemo(()=>({...f,update:Q,refs:U,elements:N,floatingStyles:H}),[f,Q,U,N,H])}const TA=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?nm({element:r.current,padding:s}).fn(n):{}:r?nm({element:r,padding:s}).fn(n):{}}}},EA=(e,t)=>({...bA(e),options:[e,t]}),CA=(e,t)=>({...vA(e),options:[e,t]}),AA=(e,t)=>({...$A(e),options:[e,t]}),PA=(e,t)=>({...wA(e),options:[e,t]}),LA=(e,t)=>({...xA(e),options:[e,t]}),OA=(e,t)=>({...SA(e),options:[e,t]}),jA=(e,t)=>({...TA(e),options:[e,t]});var RA="Arrow",sw=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return P.jsx(rt.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:P.jsx("polygon",{points:"0,0 30,0 15,10"})})});sw.displayName=RA;var DA=sw;function NA(e){const[t,n]=x.useState(void 0);return nr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Dd="Popper",[iw,tl]=Ki(Dd),[FA,ow]=iw(Dd),aw=e=>{const{__scopePopper:t,children:n}=e,[r,s]=x.useState(null);return P.jsx(FA,{scope:t,anchor:r,onAnchorChange:s,children:n})};aw.displayName=Dd;var lw="PopperAnchor",cw=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=ow(lw,n),o=x.useRef(null),l=gt(t,o);return x.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:P.jsx(rt.div,{...s,ref:l})});cw.displayName=lw;var Nd="PopperContent",[WA,UA]=iw(Nd),uw=x.forwardRef((e,t)=>{var G,Y,T,A,O,q;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:a="partial",hideWhenDetached:d=!1,updatePositionStrategy:h="optimized",onPlaced:p,...m}=e,g=ow(Nd,n),[y,v]=x.useState(null),I=gt(t,J=>v(J)),[_,S]=x.useState(null),k=NA(_),$=(k==null?void 0:k.width)??0,b=(k==null?void 0:k.height)??0,M=r+(i!=="center"?"-"+i:""),w=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},E=Array.isArray(u)?u:[u],L=E.length>0,Q={padding:w,boundary:E.filter(BA),altBoundary:L},{refs:W,floatingStyles:U,placement:N,isPositioned:H,middlewareData:F}=_A({strategy:"fixed",placement:M,whileElementsMounted:(...J)=>yA(...J,{animationFrame:h==="always"}),elements:{reference:g.anchor},middleware:[EA({mainAxis:s+b,alignmentAxis:o}),c&&CA({mainAxis:!0,crossAxis:!1,limiter:a==="partial"?AA():void 0,...Q}),c&&PA({...Q}),LA({...Q,apply:({elements:J,rects:ie,availableWidth:he,availableHeight:we})=>{const{width:Ce,height:Fe}=ie.reference,_e=J.floating.style;_e.setProperty("--radix-popper-available-width",`${he}px`),_e.setProperty("--radix-popper-available-height",`${we}px`),_e.setProperty("--radix-popper-anchor-width",`${Ce}px`),_e.setProperty("--radix-popper-anchor-height",`${Fe}px`)}}),_&&jA({element:_,padding:l}),zA({arrowWidth:$,arrowHeight:b}),d&&OA({strategy:"referenceHidden",...Q})]}),[Z,te]=hw(N),ae=As(p);nr(()=>{H&&(ae==null||ae())},[H,ae]);const Me=(G=F.arrow)==null?void 0:G.x,fe=(Y=F.arrow)==null?void 0:Y.y,ye=((T=F.arrow)==null?void 0:T.centerOffset)!==0,[Le,Je]=x.useState();return nr(()=>{y&&Je(window.getComputedStyle(y).zIndex)},[y]),P.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:H?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[(A=F.transformOrigin)==null?void 0:A.x,(O=F.transformOrigin)==null?void 0:O.y].join(" "),...((q=F.hide)==null?void 0:q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:P.jsx(WA,{scope:n,placedSide:Z,onArrowChange:S,arrowX:Me,arrowY:fe,shouldHideArrow:ye,children:P.jsx(rt.div,{"data-side":Z,"data-align":te,...m,ref:I,style:{...m.style,animation:H?void 0:"none"}})})})});uw.displayName=Nd;var dw="PopperArrow",VA={top:"bottom",right:"left",bottom:"top",left:"right"},fw=x.forwardRef(function(e,t){const{__scopePopper:n,...r}=e,s=UA(dw,n),i=VA[s.placedSide];return P.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:P.jsx(DA,{...r,ref:t,style:{...r.style,display:"block"}})})});fw.displayName=dw;function BA(e){return e!==null}var zA=e=>({name:"transformOrigin",options:e,fn(t){var m,g,y;const{placement:n,rects:r,middlewareData:s}=t,i=((m=s.arrow)==null?void 0:m.centerOffset)!==0,o=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,u]=hw(n),f={start:"0%",center:"50%",end:"100%"}[u],a=(((g=s.arrow)==null?void 0:g.x)??0)+o/2,d=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let h="",p="";return c==="bottom"?(h=i?f:`${a}px`,p=`${-l}px`):c==="top"?(h=i?f:`${a}px`,p=`${r.floating.height+l}px`):c==="right"?(h=`${-l}px`,p=i?f:`${d}px`):c==="left"&&(h=`${r.floating.width+l}px`,p=i?f:`${d}px`),{data:{x:h,y:p}}}});function hw(e){const[t,n="center"]=e.split("-");return[t,n]}var pw=aw,Fd=cw,mw=uw,gw=fw,HA="Portal",nl=x.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=x.useState(!1);nr(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?GS.createPortal(P.jsx(rt.div,{...r,ref:t}),o):null});nl.displayName=HA;function qA(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var lr=e=>{const{present:t,children:n}=e,r=QA(t),s=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=gt(r.ref,XA(s));return typeof n=="function"||r.isPresent?x.cloneElement(s,{ref:i}):null};lr.displayName="Presence";function QA(e){const[t,n]=x.useState(),r=x.useRef(null),s=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=qA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=wo(r.current);i.current=l==="mounted"?u:"none"},[l]),nr(()=>{const u=r.current,f=s.current;if(f!==e){const a=i.current,d=wo(u);e?c("MOUNT"):d==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&a!==d?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),nr(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,a=h=>{const p=wo(r.current).includes(h.animationName);if(h.target===t&&p&&(c("ANIMATION_END"),!s.current)){const m=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=m)})}},d=h=>{h.target===t&&(i.current=wo(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",a),t.addEventListener("animationend",a),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",a),t.removeEventListener("animationend",a)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function wo(e){return(e==null?void 0:e.animationName)||"none"}function XA(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var GA=vy[" useInsertionEffect ".trim().toString()]||nr;function Wd({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=JA({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const f=x.useRef(e!==void 0);x.useEffect(()=>{const a=f.current;a!==l&&console.warn(`${r} is changing from ${a?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,r])}const u=x.useCallback(f=>{var a;if(l){const d=YA(f)?f(e):f;d!==e&&((a=o.current)==null||a.call(o,d))}else i(f)},[l,e,i,o]);return[c,u]}function JA({defaultProp:e,onChange:t}){const[n,r]=x.useState(e),s=x.useRef(n),i=x.useRef(t);return GA(()=>{i.current=t},[t]),x.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function YA(e){return typeof e=="function"}var KA=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xr=new WeakMap,xo=new WeakMap,So={},tc=0,yw=function(e){return e&&(e.host||yw(e.parentNode))},ZA=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=yw(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},eP=function(e,t,n,r){var s=ZA(t,Array.isArray(e)?e:[e]);So[n]||(So[n]=new WeakMap);var i=So[n],o=[],l=new Set,c=new Set(s),u=function(a){!a||l.has(a)||(l.add(a),u(a.parentNode))};s.forEach(u);var f=function(a){!a||c.has(a)||Array.prototype.forEach.call(a.children,function(d){if(l.has(d))f(d);else try{var h=d.getAttribute(r),p=h!==null&&h!=="false",m=(Xr.get(d)||0)+1,g=(i.get(d)||0)+1;Xr.set(d,m),i.set(d,g),o.push(d),m===1&&p&&xo.set(d,!0),g===1&&d.setAttribute(n,"true"),p||d.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",d,y)}})};return f(t),l.clear(),tc++,function(){o.forEach(function(a){var d=Xr.get(a)-1,h=i.get(a)-1;Xr.set(a,d),i.set(a,h),d||(xo.has(a)||a.removeAttribute(r),xo.delete(a)),h||a.removeAttribute(n)}),tc--,tc||(Xr=new WeakMap,Xr=new WeakMap,xo=new WeakMap,So={})}},bw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=KA(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),eP(r,s,n,"aria-hidden")):function(){return null}},Qo="right-scroll-bar-position",Xo="width-before-scroll-bar",tP="with-scroll-bars-hidden",nP="--removed-body-scroll-bar-size";function rP(e){return e}function sP(e,t){t===void 0&&(t=rP);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),n}}}};return s}function iP(e){e===void 0&&(e={});var t=sP(null);return t.options=Yt({async:!0,ssr:!1},e),t}var vw=iP();function nc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function oP(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var aP=typeof window<"u"?x.useLayoutEffect:x.useEffect,sm=new WeakMap;function lP(e,t){var n=oP(null,function(r){return e.forEach(function(s){return nc(s,r)})});return aP(function(){var r=sm.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(l){i.has(l)||nc(l,null)}),i.forEach(function(l){s.has(l)||nc(l,o)})}sm.set(n,e)},[e]),n}var rc=function(){},rl=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:rc,onWheelCapture:rc,onTouchMoveCapture:rc}),s=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,a=e.shards,d=e.sideCar,h=e.noRelative,p=e.noIsolation,m=e.inert,g=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,I=e.gapMode,_=Xy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=d,k=lP([n,t]),$=Yt(Yt({},_),s);return x.createElement(x.Fragment,null,f&&x.createElement(S,{sideCar:vw,removeScrollBar:u,shards:a,noRelative:h,noIsolation:p,inert:m,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:I}),o?x.cloneElement(x.Children.only(l),Yt(Yt({},$),{ref:k})):x.createElement(v,Yt({},$,{className:c,ref:k}),l))});rl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rl.classNames={fullWidth:Xo,zeroRight:Qo};var cP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=cP();return t&&e.setAttribute("nonce",t),e}function dP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function fP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var hP=function(){var e=0,t=null;return{add:function(n){e==0&&(t=uP())&&(dP(t,n),fP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},pP=function(){var e=hP();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ww=function(){var e=pP(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},mP={left:0,top:0,right:0,gap:0},sc=function(e){return parseInt(e||"",10)||0},gP=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[sc(n),sc(r),sc(s)]},yP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return mP;var t=gP(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},bP=ww(),ls="data-scroll-locked",vP=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(tP,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ls,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qo,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Xo,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Qo," .").concat(Qo,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Xo," .").concat(Xo,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ls,`] {
    `).concat(nP,": ").concat(l,`px;
  }
`)},im=function(){var e=parseInt(document.body.getAttribute(ls)||"0",10);return isFinite(e)?e:0},wP=function(){x.useEffect(function(){return document.body.setAttribute(ls,(im()+1).toString()),function(){var e=im()-1;e<=0?document.body.removeAttribute(ls):document.body.setAttribute(ls,e.toString())}},[])},xP=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;wP();var i=x.useMemo(function(){return yP(s)},[s]);return x.createElement(bP,{styles:vP(i,!t,s,n?"":"!important")})},Mu=!1;if(typeof window<"u")try{var $o=Object.defineProperty({},"passive",{get:function(){return Mu=!0,!0}});window.addEventListener("test",$o,$o),window.removeEventListener("test",$o,$o)}catch{Mu=!1}var Gr=Mu?{passive:!1}:!1,SP=function(e){return e.tagName==="TEXTAREA"},xw=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!SP(e)&&n[t]==="visible")},$P=function(e){return xw(e,"overflowY")},MP=function(e){return xw(e,"overflowX")},om=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Sw(e,r);if(s){var i=$w(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},kP=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},IP=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Sw=function(e,t){return e==="v"?$P(t):MP(t)},$w=function(e,t){return e==="v"?kP(t):IP(t)},_P=function(e,t){return e==="h"&&t==="rtl"?-1:1},TP=function(e,t,n,r,s){var i=_P(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,f=o>0,a=0,d=0;do{if(!l)break;var h=$w(e,l),p=h[0],m=h[1],g=h[2],y=m-g-i*p;(p||y)&&Sw(e,l)&&(a+=y,d+=p);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(a)<1||!f&&Math.abs(d)<1)&&(u=!0),u},Mo=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},am=function(e){return[e.deltaX,e.deltaY]},lm=function(e){return e&&"current"in e?e.current:e},EP=function(e,t){return e[0]===t[0]&&e[1]===t[1]},CP=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},AP=0,Jr=[];function PP(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(AP++)[0],i=x.useState(ww)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=ta([e.lockRef.current],(e.shards||[]).map(lm),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var y=Mo(m),v=n.current,I="deltaX"in m?m.deltaX:v[0]-y[0],_="deltaY"in m?m.deltaY:v[1]-y[1],S,k=m.target,$=Math.abs(I)>Math.abs(_)?"h":"v";if("touches"in m&&$==="h"&&k.type==="range")return!1;var b=om($,k);if(!b)return!0;if(b?S=$:(S=$==="v"?"h":"v",b=om($,k)),!b)return!1;if(!r.current&&"changedTouches"in m&&(I||_)&&(r.current=S),!S)return!0;var M=r.current||S;return TP(M,g,m,M==="h"?I:_)},[]),c=x.useCallback(function(m){var g=m;if(!(!Jr.length||Jr[Jr.length-1]!==i)){var y="deltaY"in g?am(g):Mo(g),v=t.current.filter(function(S){return S.name===g.type&&(S.target===g.target||g.target===S.shadowParent)&&EP(S.delta,y)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var I=(o.current.shards||[]).map(lm).filter(Boolean).filter(function(S){return S.contains(g.target)}),_=I.length>0?l(g,I[0]):!o.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),u=x.useCallback(function(m,g,y,v){var I={name:m,delta:g,target:y,should:v,shadowParent:LP(y)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(_){return _!==I})},1)},[]),f=x.useCallback(function(m){n.current=Mo(m),r.current=void 0},[]),a=x.useCallback(function(m){u(m.type,am(m),m.target,l(m,e.lockRef.current))},[]),d=x.useCallback(function(m){u(m.type,Mo(m),m.target,l(m,e.lockRef.current))},[]);x.useEffect(function(){return Jr.push(i),e.setCallbacks({onScrollCapture:a,onWheelCapture:a,onTouchMoveCapture:d}),document.addEventListener("wheel",c,Gr),document.addEventListener("touchmove",c,Gr),document.addEventListener("touchstart",f,Gr),function(){Jr=Jr.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Gr),document.removeEventListener("touchmove",c,Gr),document.removeEventListener("touchstart",f,Gr)}},[]);var h=e.removeScrollBar,p=e.inert;return x.createElement(x.Fragment,null,p?x.createElement(i,{styles:CP(s)}):null,h?x.createElement(xP,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function LP(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}var Mw=function(e){var t=e.sideCar,n=Xy(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Yt({},n))};Mw.isSideCarExport=!0;function OP(e,t){return e.useMedium(t),Mw}const jP=OP(vw,PP);var Ud=x.forwardRef(function(e,t){return x.createElement(rl,Yt({},e,{ref:t,sideCar:jP}))});Ud.classNames=rl.classNames;var sl="Popover",[kw,OW]=Ki(sl,[tl]),eo=tl(),[RP,cr]=kw(sl),Iw=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=eo(t),c=x.useRef(null),[u,f]=x.useState(!1),[a,d]=Wd({prop:r,defaultProp:s??!1,onChange:i,caller:sl});return P.jsx(pw,{...l,children:P.jsx(RP,{scope:t,contentId:pi(),triggerRef:c,open:a,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(h=>!h),[d]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>f(!0),[]),onCustomAnchorRemove:x.useCallback(()=>f(!1),[]),modal:o,children:n})})};Iw.displayName=sl;var _w="PopoverAnchor",Tw=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=cr(_w,n),i=eo(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return x.useEffect(()=>(o(),()=>l()),[o,l]),P.jsx(Fd,{...i,...r,ref:t})});Tw.displayName=_w;var Ew="PopoverTrigger",Cw=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=cr(Ew,n),i=eo(n),o=gt(t,s.triggerRef),l=P.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":jw(s.open),...r,ref:o,onClick:Ze(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:P.jsx(Fd,{asChild:!0,...i,children:l})});Cw.displayName=Ew;var Vd="PopoverPortal",[DP,NP]=kw(Vd,{forceMount:void 0}),Aw=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,i=cr(Vd,t);return P.jsx(DP,{scope:t,forceMount:n,children:P.jsx(lr,{present:n||i.open,children:P.jsx(nl,{asChild:!0,container:s,children:r})})})};Aw.displayName=Vd;var Ls="PopoverContent",Pw=x.forwardRef((e,t)=>{const n=NP(Ls,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,i=cr(Ls,e.__scopePopover);return P.jsx(lr,{present:r||i.open,children:i.modal?P.jsx(WP,{...s,ref:t}):P.jsx(UP,{...s,ref:t})})});Pw.displayName=Ls;var FP=Pa("PopoverContent.RemoveScroll"),WP=x.forwardRef((e,t)=>{const n=cr(Ls,e.__scopePopover),r=x.useRef(null),s=gt(t,r),i=x.useRef(!1);return x.useEffect(()=>{const o=r.current;if(o)return bw(o)},[]),P.jsx(Ud,{as:FP,allowPinchZoom:!0,children:P.jsx(Lw,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ze(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||((l=n.triggerRef.current)==null||l.focus())}),onPointerDownOutside:Ze(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ze(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),UP=x.forwardRef((e,t)=>{const n=cr(Ls,e.__scopePopover),r=x.useRef(!1),s=x.useRef(!1);return P.jsx(Lw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||((l=n.triggerRef.current)==null||l.focus()),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;(c=n.triggerRef.current)!=null&&c.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Lw=x.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...a}=e,d=cr(Ls,n),h=eo(n);return qv(),P.jsx(Ed,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:P.jsx(Ya,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>d.onOpenChange(!1),children:P.jsx(mw,{"data-state":jw(d.open),role:"dialog",id:d.contentId,...h,...a,ref:t,style:{...a.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ow="PopoverClose",VP=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=cr(Ow,n);return P.jsx(rt.button,{type:"button",...r,ref:t,onClick:Ze(e.onClick,()=>s.onOpenChange(!1))})});VP.displayName=Ow;var BP="PopoverArrow",zP=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=eo(n);return P.jsx(gw,{...s,...r,ref:t})});zP.displayName=BP;function jw(e){return e?"open":"closed"}var HP=Iw,qP=Tw,QP=Cw,XP=Aw,Rw=Pw;const GP=HP,JP=QP,jW=qP,Dw=x.forwardRef(({className:e,align:t="center",sideOffset:n=4,container:r,...s},i)=>P.jsx(XP,{container:r??(document==null?void 0:document.getElementById("poex")),children:P.jsx(Rw,{ref:i,align:t,sideOffset:n,collisionPadding:{bottom:60},className:je("z-[110] w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...s})}));Dw.displayName=Rw.displayName;var YP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KP="VisuallyHidden",Nw=x.forwardRef((e,t)=>P.jsx(rt.span,{...e,ref:t,style:{...YP,...e.style}}));Nw.displayName=KP;var ZP=Nw,[il,RW]=Ki("Tooltip",[tl]),ol=tl(),Fw="TooltipProvider",eL=700,ku="tooltip.open",[tL,Bd]=il(Fw),Ww=e=>{const{__scopeTooltip:t,delayDuration:n=eL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),P.jsx(tL,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};Ww.displayName=Fw;var Ii="Tooltip",[nL,to]=il(Ii),Uw=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=Bd(Ii,e.__scopeTooltip),u=ol(t),[f,a]=x.useState(null),d=pi(),h=x.useRef(0),p=o??c.disableHoverableContent,m=l??c.delayDuration,g=x.useRef(!1),[y,v]=Wd({prop:r,defaultProp:s??!1,onChange:$=>{$?(c.onOpen(),document.dispatchEvent(new CustomEvent(ku))):c.onClose(),i==null||i($)},caller:Ii}),I=x.useMemo(()=>y?g.current?"delayed-open":"instant-open":"closed",[y]),_=x.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,v(!0)},[v]),S=x.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v(!1)},[v]),k=x.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,v(!0),h.current=0},m)},[m,v]);return x.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),P.jsx(pw,{...u,children:P.jsx(nL,{scope:t,contentId:d,open:y,stateAttribute:I,trigger:f,onTriggerChange:a,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?k():_()},[c.isOpenDelayedRef,k,_]),onTriggerLeave:x.useCallback(()=>{p?S():(window.clearTimeout(h.current),h.current=0)},[S,p]),onOpen:_,onClose:S,disableHoverableContent:p,children:n})})};Uw.displayName=Ii;var Iu="TooltipTrigger",Vw=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=to(Iu,n),i=Bd(Iu,n),o=ol(n),l=x.useRef(null),c=gt(t,l,s.onTriggerChange),u=x.useRef(!1),f=x.useRef(!1),a=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",a),[a]),P.jsx(Fd,{asChild:!0,...o,children:P.jsx(rt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Ze(e.onPointerMove,d=>{d.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ze(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:Ze(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",a,{once:!0})}),onFocus:Ze(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ze(e.onBlur,s.onClose),onClick:Ze(e.onClick,s.onClose)})})});Vw.displayName=Iu;var zd="TooltipPortal",[rL,sL]=il(zd,{forceMount:void 0}),Bw=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:s}=e,i=to(zd,t);return P.jsx(rL,{scope:t,forceMount:n,children:P.jsx(lr,{present:n||i.open,children:P.jsx(nl,{asChild:!0,container:s,children:r})})})};Bw.displayName=zd;var Os="TooltipContent",zw=x.forwardRef((e,t)=>{const n=sL(Os,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=to(Os,e.__scopeTooltip);return P.jsx(lr,{present:r||o.open,children:o.disableHoverableContent?P.jsx(Hw,{side:s,...i,ref:t}):P.jsx(iL,{side:s,...i,ref:t})})}),iL=x.forwardRef((e,t)=>{const n=to(Os,e.__scopeTooltip),r=Bd(Os,e.__scopeTooltip),s=x.useRef(null),i=gt(t,s),[o,l]=x.useState(null),{trigger:c,onClose:u}=n,f=s.current,{onPointerInTransitChange:a}=r,d=x.useCallback(()=>{l(null),a(!1)},[a]),h=x.useCallback((p,m)=>{const g=p.currentTarget,y={x:p.clientX,y:p.clientY},v=uL(y,g.getBoundingClientRect()),I=dL(y,v),_=fL(m.getBoundingClientRect()),S=pL([...I,..._]);l(S),a(!0)},[a]);return x.useEffect(()=>()=>d(),[d]),x.useEffect(()=>{if(c&&f){const p=g=>h(g,f),m=g=>h(g,c);return c.addEventListener("pointerleave",p),f.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",p),f.removeEventListener("pointerleave",m)}}},[c,f,h,d]),x.useEffect(()=>{if(o){const p=m=>{const g=m.target,y={x:m.clientX,y:m.clientY},v=(c==null?void 0:c.contains(g))||(f==null?void 0:f.contains(g)),I=!hL(y,o);v?d():I&&(d(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,f,o,u,d]),P.jsx(Hw,{...e,ref:i})}),[oL,aL]=il(Ii,{isInside:!1}),lL=vb("TooltipContent"),Hw=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=to(Os,n),u=ol(n),{onClose:f}=c;return x.useEffect(()=>(document.addEventListener(ku,f),()=>document.removeEventListener(ku,f)),[f]),x.useEffect(()=>{if(c.trigger){const a=d=>{var h;(h=d.target)!=null&&h.contains(c.trigger)&&f()};return window.addEventListener("scroll",a,{capture:!0}),()=>window.removeEventListener("scroll",a,{capture:!0})}},[c.trigger,f]),P.jsx(Ya,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:a=>a.preventDefault(),onDismiss:f,children:P.jsxs(mw,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[P.jsx(lL,{children:r}),P.jsx(oL,{scope:n,isInside:!0,children:P.jsx(ZP,{id:c.contentId,role:"tooltip",children:s||r})})]})})});zw.displayName=Os;var qw="TooltipArrow",cL=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=ol(n);return aL(qw,n).isInside?null:P.jsx(gw,{...s,...r,ref:t})});cL.displayName=qw;function uL(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function dL(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function fL(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function hL(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,f=l.y,a=c.x,d=c.y;f>r!=d>r&&n<(a-u)*(r-f)/(d-f)+u&&(s=!s)}return s}function pL(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),mL(t)}function mL(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var gL=Ww,yL=Uw,bL=Vw,vL=Bw,Qw=zw;const Xw=gL,Gw=yL,_u=bL,Hd=x.forwardRef(({className:e,sideOffset:t=4,container:n,...r},s)=>P.jsx(vL,{container:n??(document==null?void 0:document.getElementById("poex")),children:P.jsx(Qw,{ref:s,sideOffset:t,className:je("z-[130] overflow-hidden rounded-md border border-border bg-popover px-3 py-1.5 text-xs text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r})}));Hd.displayName=Qw.displayName;const Jw=x.createContext(void 0),qd=()=>x.useContext(Jw),Qd=({children:e,...t})=>{const[n,r]=x.useState(void 0);return x.useEffect(()=>{r(window.matchMedia("(pointer: coarse)").matches)},[]),P.jsx(Jw.Provider,{value:n,children:P.jsx(Xw,{...t,children:e})})},Xd=e=>qd()?P.jsx(GP,{...e}):P.jsx(Gw,{...e}),Gd=e=>qd()?P.jsx(JP,{...e}):P.jsx(_u,{...e}),Jd=({className:e,...t})=>qd()?P.jsx(Dw,{className:je("z-[130] w-auto",e),...t}):P.jsx(Hd,{className:e,...t});var wL="Separator",cm="horizontal",xL=["horizontal","vertical"],Yw=x.forwardRef((e,t)=>{const{decorative:n,orientation:r=cm,...s}=e,i=SL(r)?r:cm,o=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return P.jsx(rt.div,{"data-orientation":i,...o,...s,ref:t})});Yw.displayName=wL;function SL(e){return xL.includes(e)}var Kw=Yw;const Tu=x.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>P.jsx(Kw,{ref:s,decorative:n,orientation:t,className:je("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Tu.displayName=Kw.displayName;const Yr=x.memo(({className:e,poe:t,format:n,value:r,valueShort:s=!0,currencyType:i,toCurrency:o="both",highCurrencyValue:l,splitIcons:c=!1,showIcon:u=!0,showChange:f=!1,showCurrencyColors:a=!1,showChangeColors:d=!0,iconRect:h})=>{var v,I,_,S,k,$;const{i18n:p}=an(),m=x.useMemo(()=>n||Qy(t,r,i,o,l||null,c,f,s,p.language),[n,t,r,i,o,l,c,f,s,p.language]),g=P.jsx("div",{className:je(f&&"font-semibold",f&&d&&m.primary.value>0&&"text-green-1",f&&d&&m.primary.value<0&&"text-red-1","min-w-fit"),children:m.primary.formattedValue}),y=!!m.secondary&&P.jsx("div",{className:je(f&&"font-semibold",f&&d&&m.secondary.value>0&&"text-green-1",f&&d&&m.secondary.value<0&&"text-red-1","min-w-fit"),children:m.secondary.formattedValue});return u?P.jsxs("div",{className:je("flex flex-row flex-grow-0 gap-1 flex-wrap justify-end",e),children:[P.jsxs("div",{className:"flex flex-row items-center gap-1",children:[g,P.jsx("img",{width:(h==null?void 0:h.width)||20,height:(h==null?void 0:h.height)||20,className:"flex-shrink-0",src:((v=m.primary.icon)==null?void 0:v.src)||"",alt:((I=m.primary.icon)==null?void 0:I.alt)||""})]}),m.secondary&&P.jsxs("div",{className:"flex flex-row items-center gap-1",children:[y,P.jsx("img",{width:(h==null?void 0:h.width)||20,height:(h==null?void 0:h.height)||20,className:"flex-shrink-0",src:((_=m.secondary.icon)==null?void 0:_.src)||"",alt:((S=m.secondary.icon)==null?void 0:S.alt)||""})]})]}):P.jsxs("span",{className:je("space-x-1 whitespace-nowrap",e),style:a?{color:jk.currency}:void 0,children:[m.primary.formattedValue," ",m.primary.currencyType," ",m.secondary&&P.jsxs(P.Fragment,{children:[(k=m.secondary)==null?void 0:k.formattedValue," ",($=m.secondary)==null?void 0:$.currencyType]})]})});Yr.displayName="CurrencyDisplay";const Yd=x.memo(({className:e,poe:t,innerClassName:n,ttContentClassName:r,delayDuration:s=50,value:i,valueShort:o=!0,currencyType:l,toCurrency:c="both",splitIcons:u=!1,showIcon:f=!0,showChange:a=!1,showCurrencyColors:d=!1,showChangeColors:h=!0,iconRect:p,container:m=null})=>{const{t:g,i18n:y}=an(),v=m3(),I=x.useMemo(()=>Qy(t,i,l,c,v,u,a,o,y.language),[t,i,l,c,v,u,a,o,y.language]),_=Fo(t,"low");if((c==="low"||I.primary.currencyType===_||t==="poe2")&&(!v||!i||Math.abs(i)/v<1||t==="poe2"))return P.jsx(Yr,{poe:t,format:I,currencyType:l,showChange:a,showCurrencyColors:d,showChangeColors:h,showIcon:f,iconRect:p,className:n,highCurrencyValue:null});const S=qy(t),k=P.jsx(Yr,{poe:t,format:I,currencyType:l,showChange:a,showCurrencyColors:d,showChangeColors:h,showIcon:f,iconRect:p,className:n,highCurrencyValue:null});return P.jsx(Qd,{disableHoverableContent:!0,children:P.jsxs(Xd,{delayDuration:s,children:[P.jsx(Gd,{asChild:!0,children:f?P.jsx("div",{className:e,children:k}):P.jsx("span",{className:"inline-block",children:k})}),P.jsxs(Jd,{className:je("space-y-1 text-base",r),container:m,children:[P.jsx("div",{className:"font-bold font-title text-blue-1",children:g("label.otherCalculations")}),P.jsx(Tu,{orientation:"horizontal"}),P.jsxs("div",{className:"flex flex-row justify-end flex-grow-0 gap-1",children:[P.jsxs("div",{className:"flex flex-row items-center gap-1",children:["1",P.jsx("img",{width:24,height:24,className:"shrink-0",src:S.high.src,alt:S.high.alt})]}),P.jsxs("div",{className:"flex flex-row items-center gap-1",children:["= ",v,P.jsx("img",{width:24,height:24,className:"shrink-0",src:S.low.src,alt:S.low.src})]})]}),P.jsx(Tu,{orientation:"horizontal"}),P.jsxs("div",{className:"space-y-2",children:[P.jsx(Yr,{poe:t,value:i,currencyType:l,toCurrency:"low",highCurrencyValue:v,splitIcons:!1,valueShort:!1,showChange:a,showChangeColors:h,className:"justify-end",iconRect:{width:24,height:24}}),P.jsx(Yr,{poe:t,value:i,currencyType:l,toCurrency:"high",highCurrencyValue:v,splitIcons:!1,valueShort:!1,showChange:a,showChangeColors:h,className:"justify-end",iconRect:{width:24,height:24}}),P.jsx(Yr,{poe:t,value:i,currencyType:l,toCurrency:"both",highCurrencyValue:v,splitIcons:!0,showAllIcons:!0,valueShort:!1,showChange:a,showChangeColors:h,className:"justify-end",iconRect:{width:24,height:24}})]})]})]})})});Yd.displayName="CurrencyDisplayWithTooltip";const $L=La("",{variants:{variant:{default:"text-foreground",navbar:"font-semibold transition-colors hover:text-foreground text-muted-foreground text-sm",menu:'text-foreground select-none items-center rounded-sm px-2 py-2 text-sm outline-none transition-colors hover:text-foreground hover:bg-accent text-muted-foreground data-[selected="true"]:bg-accent data-[selected="true"]:text-accent-foreground data-[selected="true"]:hover:bg-accent data-[selected="true"]:hover:brightness-125',tabNavbar:"font-semibold transition-colors h-full content-center",button:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:border-blue-1 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"},buttonVariants:{none:"",default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-border bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",select:"border border-border bg-background shadow-sm hover:bg-accent hover:text-accent-foreground rounded-none"},size:{default:"",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default",buttonVariants:"none"}}),Zw=bn.forwardRef(({className:e,selected:t,children:n,external:r,href:s,variant:i,size:o,buttonVariants:l,...c},u)=>{const f=x.useMemo(()=>s.replaceAll("poe1","poe"),[s]);return P.jsxs(JS,{target:"",to:f,className:je("select-none",$L({variant:i,size:o,buttonVariants:l}),t&&i!=="menu"&&"text-blue-1 hover:text-blue-1",r&&"relative",e),"data-selected":t,ref:u,...c,children:[n,r&&P.jsx("svg",{className:"absolute top-0 right-[-10px]",height:"7",width:"7",viewBox:"0 0 6 6",children:P.jsx("path",{d:"M1.25215 5.54731L0.622742 4.9179L3.78169 1.75597H1.3834L1.38936 0.890915H5.27615V4.78069H4.40513L4.41109 2.38538L1.25215 5.54731Z",fill:"rgb(var(--maxroll-color-white-2))"})})]})});Zw.displayName="Link";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]],kL=qs("package-search",ML),um=({className:e,notificationId:t,listingId:n,buttonVariant:r,setPopoverOpen:s,closeToast:i})=>{const o=Nr(kt),l=cn(f=>f.poe),c=x.useCallback(f=>f==null?void 0:f.find(a=>a.uuid===n),[n]),{data:u}=tr({...Uv(o),select:c});return!u||u.inactive||u.deleted?null:P.jsx(Zw,{className:je("shrink-0",e),href:`/${l}/poexchange/bulk-trade/trade/${t}`,rel:"noreferrer noopener",variant:"button",buttonVariants:r,size:"icon",onClick:()=>{s==null||s(!1),i==null||i()},children:P.jsx(kL,{className:"h-4 w-4"})})};var IL="Label",e1=x.forwardRef((e,t)=>P.jsx(rt.label,{...e,ref:t,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=e.onMouseDown)==null||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));e1.displayName=IL;var t1=e1;const _L=La('text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 data-[required="true"]:after:content-["_*"] after:text-red-600'),_i=x.forwardRef(({className:e,required:t,...n},r)=>P.jsx(t1,{ref:r,"data-required":t,className:je(_L(),"  ",e),...n}));_i.displayName=t1.displayName;/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],EL=qs("triangle-alert",TL),CL=(e,t,n,r,s)=>{const i=x.useRef({}),o=Nv("tradeNotificationSound"),l=x.useCallback(h=>h.filter(p=>Ac.has(`${p.meta.category}:${p.meta.subCategory}`)),[]),{data:c}=tr({...Uv(t),select:l,enabled:n.length>0}),u=x.useMemo(()=>n.map(h=>{const p=c==null?void 0:c.find(m=>m.uuid===h.body.uuid);return{...h,body:{...h.body,listing:p}}}).filter(h=>h.body.listing!==void 0),[c,n]),f=x.useMemo(()=>u.map(h=>h.body.listing),[u]),{valuations:a}=e3(f),d=x.useMemo(()=>({width:20,height:20}),[]);x.useEffect(()=>{if(!a)return;let h=!1;u.forEach(p=>{if(i.current[p.id])return;i.current[p.id]=!0,r($=>$.filter(b=>b.id!==p.id));let m=!0;const{listing:g,items:y,ign:v,regex:I,regexWarning:_,totalItemCount:S}=p.body;let k;if(y.length>0){const $=y.map(([b,M])=>{const w=g==null?void 0:g.items.find(E=>E.hash===b);if(!w){m=!1;return}return{...w,selectedQuantity:M}}).filter(b=>!!b);m&&(k=Wp({...g,items:$},a[g.meta.league]))}else k=Wp(g,a[g.meta.league]);if(m&&k){let $;if(y.length===0)$=e("body.wtbAll",{count:S,category:e(`categories.${k.meta.subCategory||k.meta.category}`)});else{const w=k.items.reduce((E,L)=>L.selectedQuantity+E,0);$=e("body.wtbPartial",{count:w,category:e(`categories.${k.meta.subCategory||k.meta.category}`)})}const b=P.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[P.jsxs("div",{className:"font-medium",children:["@",P.jsxs("span",{className:"space-x-1",children:[P.jsx(vu,{children:P.jsx("span",{onClick:()=>{navigator.clipboard.writeText(`@${v}`)},className:"underline underline-offset-2 cursor-copy",children:v})}),$]})]}),I&&P.jsxs("span",{className:"space-x-1 font-medium truncate",children:[e("body.wtbRegex"),P.jsx(vu,{children:P.jsx("span",{className:"underline underline-offset-2 cursor-copy",onClick:()=>{navigator.clipboard.writeText(I)},children:I})})]}),P.jsxs("div",{className:"flex flex-row items-center justify-start gap-2",children:[P.jsx("img",{className:"block h-5 min-h-fit min-w-fit",src:k.meta.icon,alt:k.meta.altIcon,height:20,width:20,sizes:"33vw",style:{width:"auto",height:"20px"}}),P.jsx("div",{className:"text-nowrap",children:e("label.total")}),P.jsx(Bv,{poe:"poe1",league:k.meta.league,children:P.jsx(Yd,{poe:"poe1",iconRect:d,value:k.meta.calculatedTotalPrice+(I?k.meta.calculatedExtraPrice:0),splitIcons:!0,ttContentClassName:"z-[210]"})}),_&&P.jsx(Qd,{delayDuration:0,children:P.jsxs(Xd,{children:[P.jsx(Gd,{asChild:!0,children:P.jsx(EL,{className:"w-5 h-5 mr-2 text-yellow-400"})}),P.jsx(Jd,{className:"bg-amber-600 z-[210]",children:P.jsx(_i,{className:"whitespace-pre-line",children:e("label.regexItemsWarning")})})]})})]})]}),M={content:b,actions:({setPopoverOpen:w})=>P.jsx(um,{className:"w-8 h-8 rounded-md",notificationId:p.id,listingId:p.body.listing.uuid,buttonVariant:"ghost",setPopoverOpen:w})};s(b,"info",{notificationId:p.id,action:({closeToast:w})=>P.jsx(um,{className:"w-8 h-8 rounded-md",notificationId:p.id,listingId:p.body.listing.uuid,buttonVariant:"outline",closeToast:w}),game:"poe1",createdAt:p.timestamp,notificationCenter:M,display:p.display,read:p.read,store:!0,data:{listenChanges:!0}}),(p.read===void 0||!p.read)&&(p.display===void 0||p.display)&&(h=!0)}else s(e("notification:warning.description.tradeRequestNotValid",{ign:p.body.ign}),"warning",{notificationId:p.id,game:"poe1",createdAt:p.timestamp,display:p.display,read:p.read,store:!0}),console.warn(`Be careful ${p.body.ign} wants to buy items which are not offered ...`)}),h&&o()},[a,u])},AL=()=>{const{addEventListener:e}=zi(Lr(r=>({addEventListener:r.addEventListener}))),{mutate:t}=Si({mutationFn:tC}),{mutate:n}=Si({mutationFn:nC});x.useEffect(()=>{const r=(i,o)=>{if(o){const l=i.filter(c=>{var u;return c.app==="poexchange"&&((u=c.options.data)==null?void 0:u.listenChanges)});l.length>0&&t(l.map(c=>c.id))}},s=[e("markedAsRead",r),e("markedAllAsRead",r)];return()=>s.forEach(i=>i())},[e,t]),x.useEffect(()=>{const r=(i,o)=>{if(o){const l=i.filter(c=>{var u;return c.app==="poexchange"&&((u=c.options.data)==null?void 0:u.listenChanges)});l.length>0&&n(l.map(c=>c.id))}},s=[e("removed",r),e("removedRead",r),e("removedAll",r)];return()=>s.forEach(i=>i())},[e,n])},DW=(e,t,n,r="WTB_ALL",s)=>{var i;return{queryKey:["service-listings",(i=e==null?void 0:e.profile)==null?void 0:i.uuid,t,n,r,s||null],queryFn:()=>bC(t,n,r,s),staleTime:30*60*1e3,enabled:$e.isClient}},PL=(e,t,n)=>{var r,s;return{queryKey:["my-service-listings",(r=e==null?void 0:e.profile)==null?void 0:r.uuid,t,n],queryFn:()=>vC(t,n),staleTime:30*60*1e3,enabled:$e.isClient&&!!((s=e==null?void 0:e.profile)!=null&&s.uuid)}},LL=e=>{var t,n;return{queryKey:["my-vouch-info",(t=e==null?void 0:e.profile)==null?void 0:t.uuid],queryFn:()=>xC(),staleTime:30*60*1e3,enabled:$e.isClient&&!!((n=e==null?void 0:e.profile)!=null&&n.uuid)}},OL=(e,t)=>{var n;return{queryKey:["vouch-info",t],queryFn:()=>SC(t),staleTime:30*60*1e3,enabled:$e.isClient&&!!((n=e==null?void 0:e.profile)!=null&&n.uuid)}};var nt=Array.isArray;const Eu=(e,t,n,r=!0)=>{console.log("prepare updateMyVouchCount",n),e.setQueriesData({queryKey:t,exact:r},s=>{if(!s)return s;console.log("updateMyVouchCount",s);const i=s,o={...i};return o.myVouchCount=n?i.myVouchCount+1:i.myVouchCount-1,console.log("updateMyVouchCount after",o),o})},jL=(e,t)=>{console.log("Add myVouchCountHandler");const n=o=>{Eu(e,o,!0)},r=o=>{Eu(e,o,!1)},s=o=>{if(nt(o.queryKey)&&o.queryKey[0]==="my-vouch-info"){console.log("Remove my-vouch-info listeners",o.queryHash);const{addSharedListener:l}=t();l("vouching","got-vouched",o.queryHash,o.queryKey,n),l("vouching","got-unvouched",o.queryHash,o.queryKey,r)}},i=e.getQueryCache().find({queryKey:["my-vouch-info"]});return i&&(console.warn("Already existing my-vouch-info query adding myVouchedHandler",i),s(i)),{addMyVouchCountListener:s,removeMyVouchCountListener:o=>{if(nt(o.queryKey)&&o.queryKey[0]==="my-vouch-info"){console.log("Remove my-vouch-info listeners",o.queryHash);const{removeSharedListener:l}=t();l("vouching","got-vouched",o.queryHash),l("vouching","got-unvouched",o.queryHash)}}}},Cu=(e,t,n,r,s,i)=>{e.setQueriesData({queryKey:r,exact:s},o=>{if(!o)return o;console.log("myVouchInfoUpdateMyVouched",o);const l=o,c={...l};return t?c.vouchedUsers=[...new Set([...l.vouchedUsers,n])]:c.vouchedUsers=l.vouchedUsers.filter(u=>u!==n),console.log("myVouchInfoUpdateMyVouched after ",c),c})},Au=(e,t,n,r,s)=>{r.includes(n)&&e.setQueriesData({queryKey:r,exact:s},i=>{if(!i)return i;console.log("vouchInfoUpdateVouched",i);const o=i,l={...o};return l.vouchCount=t?o.vouchCount+1:o.vouchCount-1,console.log("vouchInfoUpdateVouched after ",l),l})},Pu=(e,t,n,r,s,i)=>{e.setQueriesData({queryKey:r,exact:s},o=>{if(!o)return o;console.log("serviceListingsUpdateVouchCount",o);const l=o.map(c=>c.userId===n?{...c,vouched:i?t:c.vouched,vouchCount:t?c.vouchCount+1:c.vouchCount-1}:c);return console.log("serviceListingsUpdateVouchCount after",l),l})},dm=(e,t,n,r)=>{Cu(e,t,n,["my-vouch-info"],!1),Au(e,t,n,["vouch-info"],!1),Pu(e,t,n,["service-listings"],!1,r),r&&Eu(e,["my-vouch-info"],t,!1)},RL=(e,t)=>{console.log("Add vouchHandler");const n=c=>(u,f)=>{var h;console.log("Received vouched event",f);const a=Ge.get(kt),d=f.voucher===((h=a==null?void 0:a.profile)==null?void 0:h.uuid);c(e,!0,f.targetUser,u,!0,d)},r=c=>(u,f)=>{var h;console.log("Received unvouched event",f);const a=Ge.get(kt),d=f.voucher===((h=a==null?void 0:a.profile)==null?void 0:h.uuid);c(e,!1,f.targetUser,u,!0,d)},s=(c,u)=>{var a;console.log("Received my vouched event",u);const f=Ge.get(kt);u.voucher===((a=f==null?void 0:f.profile)==null?void 0:a.uuid)&&Cu(e,!0,u.targetUser,c,!0)},i=(c,u)=>{var a;console.log("Received my unvouched event",u);const f=Ge.get(kt);u.voucher===((a=f==null?void 0:f.profile)==null?void 0:a.uuid)&&Cu(e,!1,u.targetUser,c,!0)},o=c=>{if(nt(c.queryKey)){if(c.queryKey[0]==="service-listings"){console.log("Add service-listings - vouch listeners",c.queryHash);const{addSharedListener:u}=t();u("vouching","vouched",c.queryHash,c.queryKey,n(Pu)),u("vouching","unvouched",c.queryHash,c.queryKey,r(Pu))}else if(c.queryKey[0]==="my-vouch-info"){console.log("Add my-vouch-info - vouch listeners",c.queryHash);const{addSharedListener:u}=t();u("vouching","vouched",c.queryHash,c.queryKey,s),u("vouching","unvouched",c.queryHash,c.queryKey,i)}else if(c.queryKey[0]==="vouch-info"){console.log("Add vouch-info - vouch listeners",c.queryHash);const{addSharedListener:u}=t();u("vouching","vouched",c.queryHash,c.queryKey,n(Au)),u("vouching","unvouched",c.queryHash,c.queryKey,r(Au))}}},l=e.getQueryCache().find({queryKey:["service-listings"]});return l&&(console.warn("Already existing service-listings query adding vouchHandler",l),o(l)),{addCacheListener:o,removeCacheListener:c=>{if(nt(c.queryKey)){if(c.queryKey[0]==="service-listings"){console.log("Remove service-listings - vouch listeners",c.queryHash);const{removeSharedListener:u}=t();u("vouching","vouched",c.queryHash),u("vouching","unvouched",c.queryHash)}else if(c.queryKey[0]==="my-vouch-info"){console.log("Remove my-vouch-info - vouch listeners",c.queryHash);const{removeSharedListener:u}=t();u("vouching","vouched",c.queryHash),u("vouching","unvouched",c.queryHash)}else if(c.queryKey[0]==="vouch-info"){console.log("Remove vouch-info - vouch listeners",c.queryHash);const{removeSharedListener:u}=t();u("vouching","vouched",c.queryHash),u("vouching","unvouched",c.queryHash)}}}}};function _n(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var DL=["color"],NW=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=_n(e,DL);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),x.createElement("path",{d:"M8.14645 3.14645C8.34171 2.95118 8.65829 2.95118 8.85355 3.14645L12.8536 7.14645C13.0488 7.34171 13.0488 7.65829 12.8536 7.85355L8.85355 11.8536C8.65829 12.0488 8.34171 12.0488 8.14645 11.8536C7.95118 11.6583 7.95118 11.3417 8.14645 11.1464L11.2929 8H2.5C2.22386 8 2 7.77614 2 7.5C2 7.22386 2.22386 7 2.5 7H11.2929L8.14645 3.85355C7.95118 3.65829 7.95118 3.34171 8.14645 3.14645Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),NL=["color"],FW=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=_n(e,NL);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),x.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),FL=["color"],WW=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=_n(e,FL);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),x.createElement("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),WL=["color"],UW=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=_n(e,WL);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),x.createElement("path",{d:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),UL=["color"],VW=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=_n(e,UL);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),x.createElement("path",{d:"M7.07095 0.650238C6.67391 0.650238 6.32977 0.925096 6.24198 1.31231L6.0039 2.36247C5.6249 2.47269 5.26335 2.62363 4.92436 2.81013L4.01335 2.23585C3.67748 2.02413 3.23978 2.07312 2.95903 2.35386L2.35294 2.95996C2.0722 3.2407 2.0232 3.6784 2.23493 4.01427L2.80942 4.92561C2.62307 5.2645 2.47227 5.62594 2.36216 6.00481L1.31209 6.24287C0.924883 6.33065 0.650024 6.6748 0.650024 7.07183V7.92897C0.650024 8.32601 0.924883 8.67015 1.31209 8.75794L2.36228 8.99603C2.47246 9.375 2.62335 9.73652 2.80979 10.0755L2.2354 10.9867C2.02367 11.3225 2.07267 11.7602 2.35341 12.041L2.95951 12.6471C3.24025 12.9278 3.67795 12.9768 4.01382 12.7651L4.92506 12.1907C5.26384 12.377 5.62516 12.5278 6.0039 12.6379L6.24198 13.6881C6.32977 14.0753 6.67391 14.3502 7.07095 14.3502H7.92809C8.32512 14.3502 8.66927 14.0753 8.75705 13.6881L8.99505 12.6383C9.37411 12.5282 9.73573 12.3773 10.0748 12.1909L10.986 12.7653C11.3218 12.977 11.7595 12.928 12.0403 12.6473L12.6464 12.0412C12.9271 11.7604 12.9761 11.3227 12.7644 10.9869L12.1902 10.076C12.3768 9.73688 12.5278 9.37515 12.638 8.99596L13.6879 8.75794C14.0751 8.67015 14.35 8.32601 14.35 7.92897V7.07183C14.35 6.6748 14.0751 6.33065 13.6879 6.24287L12.6381 6.00488C12.528 5.62578 12.3771 5.26414 12.1906 4.92507L12.7648 4.01407C12.9766 3.6782 12.9276 3.2405 12.6468 2.95975L12.0407 2.35366C11.76 2.07292 11.3223 2.02392 10.9864 2.23565L10.0755 2.80989C9.73622 2.62328 9.37437 2.47229 8.99505 2.36209L8.75705 1.31231C8.66927 0.925096 8.32512 0.650238 7.92809 0.650238H7.07095ZM4.92053 3.81251C5.44724 3.44339 6.05665 3.18424 6.71543 3.06839L7.07095 1.50024H7.92809L8.28355 3.06816C8.94267 3.18387 9.5524 3.44302 10.0794 3.81224L11.4397 2.9547L12.0458 3.56079L11.1882 4.92117C11.5573 5.44798 11.8164 6.0575 11.9321 6.71638L13.5 7.07183V7.92897L11.932 8.28444C11.8162 8.94342 11.557 9.55301 11.1878 10.0798L12.0453 11.4402L11.4392 12.0462L10.0787 11.1886C9.55192 11.5576 8.94241 11.8166 8.28355 11.9323L7.92809 13.5002H7.07095L6.71543 11.932C6.0569 11.8162 5.44772 11.5572 4.92116 11.1883L3.56055 12.046L2.95445 11.4399L3.81213 10.0794C3.4431 9.55266 3.18403 8.94326 3.06825 8.2845L1.50002 7.92897V7.07183L3.06818 6.71632C3.18388 6.05765 3.44283 5.44833 3.81171 4.92165L2.95398 3.561L3.56008 2.95491L4.92053 3.81251ZM9.02496 7.50008C9.02496 8.34226 8.34223 9.02499 7.50005 9.02499C6.65786 9.02499 5.97513 8.34226 5.97513 7.50008C5.97513 6.65789 6.65786 5.97516 7.50005 5.97516C8.34223 5.97516 9.02496 6.65789 9.02496 7.50008ZM9.92496 7.50008C9.92496 8.83932 8.83929 9.92499 7.50005 9.92499C6.1608 9.92499 5.07513 8.83932 5.07513 7.50008C5.07513 6.16084 6.1608 5.07516 7.50005 5.07516C8.83929 5.07516 9.92496 6.16084 9.92496 7.50008Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),VL=["color"],BW=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=_n(e,VL);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),x.createElement("path",{d:"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),BL=["color"],zW=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=_n(e,BL);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),x.createElement("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),zL=["color"],HL=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=_n(e,zL);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),x.createElement("path",{d:"M6.97942 1.25171L6.9585 1.30199L5.58662 4.60039C5.54342 4.70426 5.44573 4.77523 5.3336 4.78422L1.7727 5.0697L1.71841 5.07405L1.38687 5.10063L1.08608 5.12475C0.820085 5.14607 0.712228 5.47802 0.914889 5.65162L1.14406 5.84793L1.39666 6.06431L1.43802 6.09974L4.15105 8.42374C4.23648 8.49692 4.2738 8.61176 4.24769 8.72118L3.41882 12.196L3.40618 12.249L3.32901 12.5725L3.25899 12.866C3.19708 13.1256 3.47945 13.3308 3.70718 13.1917L3.9647 13.0344L4.24854 12.861L4.29502 12.8326L7.34365 10.9705C7.43965 10.9119 7.5604 10.9119 7.6564 10.9705L10.705 12.8326L10.7515 12.861L11.0354 13.0344L11.2929 13.1917C11.5206 13.3308 11.803 13.1256 11.7411 12.866L11.671 12.5725L11.5939 12.249L11.5812 12.196L10.7524 8.72118C10.7263 8.61176 10.7636 8.49692 10.849 8.42374L13.562 6.09974L13.6034 6.06431L13.856 5.84793L14.0852 5.65162C14.2878 5.47802 14.18 5.14607 13.914 5.12475L13.6132 5.10063L13.2816 5.07405L13.2274 5.0697L9.66645 4.78422C9.55432 4.77523 9.45663 4.70426 9.41343 4.60039L8.04155 1.30199L8.02064 1.25171L7.89291 0.944609L7.77702 0.665992C7.67454 0.419604 7.32551 0.419604 7.22303 0.665992L7.10715 0.944609L6.97942 1.25171ZM7.50003 2.60397L6.50994 4.98442C6.32273 5.43453 5.89944 5.74207 5.41351 5.78103L2.84361 5.98705L4.8016 7.66428C5.17183 7.98142 5.33351 8.47903 5.2204 8.95321L4.62221 11.461L6.8224 10.1171C7.23842 9.86302 7.76164 9.86302 8.17766 10.1171L10.3778 11.461L9.77965 8.95321C9.66654 8.47903 9.82822 7.98142 10.1984 7.66428L12.1564 5.98705L9.58654 5.78103C9.10061 5.74207 8.67732 5.43453 8.49011 4.98442L7.50003 2.60397Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),qL=["color"],QL=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,s=_n(e,qL);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),x.createElement("path",{d:"M7.22303 0.665992C7.32551 0.419604 7.67454 0.419604 7.77702 0.665992L9.41343 4.60039C9.45663 4.70426 9.55432 4.77523 9.66645 4.78422L13.914 5.12475C14.18 5.14607 14.2878 5.47802 14.0852 5.65162L10.849 8.42374C10.7636 8.49692 10.7263 8.61176 10.7524 8.72118L11.7411 12.866C11.803 13.1256 11.5206 13.3308 11.2929 13.1917L7.6564 10.9705C7.5604 10.9119 7.43965 10.9119 7.34365 10.9705L3.70718 13.1917C3.47945 13.3308 3.19708 13.1256 3.25899 12.866L4.24769 8.72118C4.2738 8.61176 4.23648 8.49692 4.15105 8.42374L0.914889 5.65162C0.712228 5.47802 0.820086 5.14607 1.08608 5.12475L5.3336 4.78422C5.44573 4.77523 5.54342 4.70426 5.58662 4.60039L7.22303 0.665992Z",fill:r}))});const XL=La("inline-flex items-center gap-1 rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function GL({className:e,variant:t,...n}){return P.jsx("div",{className:je(XL({variant:t}),e),...n})}function JL(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}function al(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Lu=e=>Array.isArray(e);function n1(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ti(e){return typeof e=="string"||Array.isArray(e)}function fm(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Kd(e,t,n,r){if(typeof t=="function"){const[s,i]=fm(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=fm(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function ll(e,t,n){const r=e.getProps();return Kd(r,t,n!==void 0?n:r.custom,e)}const Zd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ef=["initial",...Zd];function tf(e,t){return e?e[t]||e.default||e:void 0}const Gs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wr=new Set(Gs),r1=new Set(["width","height","top","left","right","bottom",...Gs]),YL=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),KL=e=>Lu(e)?e[e.length-1]||0:e,ZL={useManualTiming:!1},_t=e=>e;function eO(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,f=!1,a=!1)=>{const d=a&&r?t:n;return f&&i.add(u),d.has(u)||d.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const ko=["read","resolveKeyframes","update","preRender","render","postRender"],tO=40;function s1(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=ko.reduce((m,g)=>(m[g]=eO(i),m),{}),{read:l,resolveKeyframes:c,update:u,preRender:f,render:a,postRender:d}=o,h=()=>{const m=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(m-s.timestamp,tO),1),s.timestamp=m,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),f.process(s),a.process(s),d.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(h))},p=()=>{n=!0,r=!0,s.isProcessing||e(h)};return{schedule:ko.reduce((m,g)=>{const y=o[g];return m[g]=(v,I=!1,_=!1)=>(n||p(),y.schedule(v,I,_)),m},{}),cancel:m=>{for(let g=0;g<ko.length;g++)o[ko[g]].cancel(m)},state:s,steps:o}}const{schedule:De,cancel:ir,state:it,steps:ic}=s1(typeof requestAnimationFrame<"u"?requestAnimationFrame:_t,!0);let Go;function nO(){Go=void 0}const tn={now:()=>(Go===void 0&&tn.set(it.isProcessing||ZL.useManualTiming?it.timestamp:performance.now()),Go),set:e=>{Go=e,queueMicrotask(nO)}};function nf(e,t){e.indexOf(t)===-1&&e.push(t)}function rf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let sf=class{constructor(){this.subscriptions=[]}add(t){return nf(this.subscriptions,t),()=>rf(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function i1(e,t){return t?e*(1e3/t):0}const hm=30,rO=e=>!isNaN(parseFloat(e));let sO=class{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=tn.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=tn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=rO(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new sf);const r=this.events[t].add(n);return t==="change"?()=>{r(),De.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>hm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hm);return i1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function Ei(e,t){return new sO(e,t)}function iO(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ei(n))}function oO(e,t){const n=ll(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=KL(i[o]);iO(e,o,l)}}const ft=e=>!!(e&&e.getVelocity);function aO(e){return!!(ft(e)&&e.add)}function Ou(e,t){const n=e.getValue("willChange");if(aO(n))return n.add(t)}const of=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lO="framerAppearId",o1="data-"+of(lO);function a1(e){return e.props[o1]}function af(e){let t;return()=>(t===void 0&&(t=e()),t)}const cO=af(()=>window.ScrollTimeline!==void 0);let uO=class{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(cO()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}},dO=class extends uO{then(t,n){return Promise.all(this.animations).then(t).catch(n)}};const vn=e=>e*1e3,wn=e=>e/1e3;function lf(e){return typeof e=="function"}function pm(e,t){e.timeline=t,e.onfinish=null}const cf=e=>Array.isArray(e)&&typeof e[0]=="number",fO={linearEasing:void 0};function hO(e,t){const n=af(e);return()=>{var r;return(r=fO[t])!==null&&r!==void 0?r:n()}}const ma=hO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),js=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},l1=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(js(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function c1(e){return!!(typeof e=="function"&&ma()||!e||typeof e=="string"&&(e in ju||ma())||cf(e)||Array.isArray(e)&&e.every(c1))}const ui=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,ju={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ui([0,.65,.55,1]),circOut:ui([.55,0,1,.45]),backIn:ui([.31,.01,.66,-.59]),backOut:ui([.33,1.53,.69,.99])};function u1(e,t){if(e)return typeof e=="function"&&ma()?l1(e,t):cf(e)?ui(e):Array.isArray(e)?e.map(n=>u1(n,t)||ju.easeOut):ju[e]}const d1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,pO=1e-7,mO=12;function gO(e,t,n,r,s){let i,o,l=0;do o=t+(n-t)/2,i=d1(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>pO&&++l<mO);return o}function no(e,t,n,r){if(e===t&&n===r)return _t;const s=i=>gO(i,0,1,e,n);return i=>i===0||i===1?i:d1(s(i),t,r)}const f1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,h1=e=>t=>1-e(1-t),p1=no(.33,1.53,.69,.99),uf=h1(p1),m1=f1(uf),g1=e=>(e*=2)<1?.5*uf(e):.5*(2-Math.pow(2,-10*(e-1))),df=e=>1-Math.sin(Math.acos(e)),y1=h1(df),b1=f1(df),v1=e=>/^0[^.\s]+$/u.test(e);function yO(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||v1(e):!0}const kn=(e,t,n)=>n>t?t:n<e?e:n,Js={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ci={...Js,transform:e=>kn(0,1,e)},Io={...Js,default:1},mi=e=>Math.round(e*1e5)/1e5,ff=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bO(e){return e==null}const vO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hf=(e,t)=>n=>!!(typeof n=="string"&&vO.test(n)&&n.startsWith(e)||t&&!bO(n)&&Object.prototype.hasOwnProperty.call(n,t)),w1=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(ff);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},wO=e=>kn(0,255,e),oc={...Js,transform:e=>Math.round(wO(e))},br={test:hf("rgb","red"),parse:w1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+oc.transform(e)+", "+oc.transform(t)+", "+oc.transform(n)+", "+mi(Ci.transform(r))+")"};function xO(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ru={test:hf("#"),parse:xO,transform:br.transform},ro=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Dn=ro("deg"),nn=ro("%"),ge=ro("px"),SO=ro("vh"),$O=ro("vw"),mm={...nn,parse:e=>nn.parse(e)/100,transform:e=>nn.transform(e*100)},Kr={test:hf("hsl","hue"),parse:w1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+nn.transform(mi(t))+", "+nn.transform(mi(n))+", "+mi(Ci.transform(r))+")"},ct={test:e=>br.test(e)||Ru.test(e)||Kr.test(e),parse:e=>br.test(e)?br.parse(e):Kr.test(e)?Kr.parse(e):Ru.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?br.transform(e):Kr.transform(e)},MO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kO(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ff))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(MO))===null||n===void 0?void 0:n.length)||0)>0}const x1="number",S1="color",IO="var",_O="var(",gm="${}",TO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ai(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=t.replace(TO,l=>(ct.test(l)?(r.color.push(i),s.push(S1),n.push(ct.parse(l))):l.startsWith(_O)?(r.var.push(i),s.push(IO),n.push(l)):(r.number.push(i),s.push(x1),n.push(parseFloat(l))),++i,gm)).split(gm);return{values:n,split:o,indexes:r,types:s}}function $1(e){return Ai(e).values}function M1(e){const{split:t,types:n}=Ai(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const l=n[o];l===x1?i+=mi(s[o]):l===S1?i+=ct.transform(s[o]):i+=s[o]}return i}}const EO=e=>typeof e=="number"?0:e;function CO(e){const t=$1(e);return M1(e)(t.map(EO))}const or={test:kO,parse:$1,createTransformer:M1,getAnimatableNone:CO},AO=new Set(["brightness","contrast","saturate","opacity"]);function PO(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ff)||[];if(!r)return e;const s=n.replace(r,"");let i=AO.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const LO=/\b([a-z-]*)\(.*?\)/gu,Du={...or,getAnimatableNone:e=>{const t=e.match(LO);return t?t.map(PO).join(" "):e}},OO={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,backgroundPositionX:ge,backgroundPositionY:ge},jO={rotate:Dn,rotateX:Dn,rotateY:Dn,rotateZ:Dn,scale:Io,scaleX:Io,scaleY:Io,scaleZ:Io,skew:Dn,skewX:Dn,skewY:Dn,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:Ci,originX:mm,originY:mm,originZ:ge},ym={...Js,transform:Math.round},pf={...OO,...jO,zIndex:ym,size:ge,fillOpacity:Ci,strokeOpacity:Ci,numOctaves:ym},RO={...pf,color:ct,backgroundColor:ct,outlineColor:ct,fill:ct,stroke:ct,borderColor:ct,borderTopColor:ct,borderRightColor:ct,borderBottomColor:ct,borderLeftColor:ct,filter:Du,WebkitFilter:Du},mf=e=>RO[e];function k1(e,t){let n=mf(e);return n!==Du&&(n=or),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const DO=new Set(["auto","none","0"]);function NO(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!DO.has(i)&&Ai(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=k1(n,s)}const bm=e=>e===Js||e===ge,vm=(e,t)=>parseFloat(e.split(", ")[t]),wm=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return vm(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?vm(i[1],e):0}},FO=new Set(["x","y","z"]),WO=Gs.filter(e=>!FO.has(e));function UO(e){const t=[];return WO.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Rs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:wm(4,13),y:wm(5,14)};Rs.translateX=Rs.x;Rs.translateY=Rs.y;const Cr=new Set;let Nu=!1,Fu=!1;function I1(){if(Fu){const e=Array.from(Cr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=UO(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Fu=!1,Nu=!1,Cr.forEach(e=>e.complete()),Cr.clear()}function _1(){Cr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Fu=!0)})}function VO(){_1(),I1()}let gf=class{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Cr.add(this),Nu||(Nu=!0,De.read(_1),De.resolveKeyframes(I1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Cr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Cr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};const T1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),E1=e=>t=>typeof t=="string"&&t.startsWith(e),C1=E1("--"),BO=E1("var(--"),yf=e=>BO(e)?zO.test(e.split("/*")[0].trim()):!1,zO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,HO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qO(e){const t=HO.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function A1(e,t,n=1){const[r,s]=qO(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return T1(o)?parseFloat(o):o}return yf(s)?A1(s,t,n+1):s}const P1=e=>t=>t.test(e),QO={test:e=>e==="auto",parse:e=>e},L1=[Js,ge,nn,Dn,$O,SO,QO],xm=e=>L1.find(P1(e));let O1=class extends gf{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),yf(u))){const f=A1(u,n.current);f!==void 0&&(t[c]=f),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!r1.has(r)||t.length!==2)return;const[s,i]=t,o=xm(s),l=xm(i);if(o!==l)if(bm(o)&&bm(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)yO(t[s])&&r.push(s);r.length&&NO(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Rs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=Rs[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}};const Sm=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(or.test(e)||e==="0")&&!e.startsWith("url("));function XO(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function GO(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Sm(s,t),l=Sm(i,t);return!o||!l?!1:XO(e)||(n==="spring"||lf(n))&&r}const JO=e=>e!==null;function cl(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(JO),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const YO=40;let j1=class{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=tn.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>YO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&VO(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=tn.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!GO(t,r,s,i))if(o)this.options.duration=0;else{c&&c(cl(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,n);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}};const KO=2e4;function R1(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<2e4;)t+=n,r=e.next(t);return t>=2e4?1/0:t}const Be=(e,t,n)=>e+(t-e)*n;function ac(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ZO({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=ac(c,l,e+1/3),i=ac(c,l,e),o=ac(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function ga(e,t){return n=>n>0?t:e}const lc=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},ej=[Ru,br,Kr],tj=e=>ej.find(t=>t.test(e));function $m(e){const t=tj(e);if(!t)return!1;let n=t.parse(e);return t===Kr&&(n=ZO(n)),n}const Mm=(e,t)=>{const n=$m(e),r=$m(t);if(!n||!r)return ga(e,t);const s={...n};return i=>(s.red=lc(n.red,r.red,i),s.green=lc(n.green,r.green,i),s.blue=lc(n.blue,r.blue,i),s.alpha=Be(n.alpha,r.alpha,i),br.transform(s))},nj=(e,t)=>n=>t(e(n)),so=(...e)=>e.reduce(nj),Wu=new Set(["none","hidden"]);function rj(e,t){return Wu.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function sj(e,t){return n=>Be(e,t,n)}function bf(e){return typeof e=="number"?sj:typeof e=="string"?yf(e)?ga:ct.test(e)?Mm:aj:Array.isArray(e)?D1:typeof e=="object"?ct.test(e)?Mm:ij:ga}function D1(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>bf(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function ij(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=bf(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function oj(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][s[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[i]=c,s[o]++}return r}const aj=(e,t)=>{const n=or.createTransformer(t),r=Ai(e),s=Ai(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Wu.has(e)&&!s.values.length||Wu.has(t)&&!r.values.length?rj(e,t):so(D1(oj(r,s),s.values),n):ga(e,t)};function N1(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Be(e,t,n):bf(e)(e,t)}const lj=5;function F1(e,t,n){const r=Math.max(t-lj,0);return i1(n-e(r),t-r)}const qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},km=.001;function cj({duration:e=qe.duration,bounce:t=qe.bounce,velocity:n=qe.velocity,mass:r=qe.mass}){let s,i,o=1-t;o=kn(qe.minDamping,qe.maxDamping,o),e=kn(qe.minDuration,qe.maxDuration,wn(e)),o<1?(s=u=>{const f=u*o,a=f*e,d=f-n,h=Uu(u,o),p=Math.exp(-a);return km-d/h*p},i=u=>{const f=u*o*e,a=f*n+n,d=Math.pow(o,2)*Math.pow(u,2)*e,h=Math.exp(-f),p=Uu(Math.pow(u,2),o);return(-s(u)+km>0?-1:1)*((a-d)*h)/p}):(s=u=>{const f=Math.exp(-u*e),a=(u-n)*e+1;return-.001+f*a},i=u=>{const f=Math.exp(-u*e),a=(n-u)*(e*e);return f*a});const l=5/e,c=dj(s,i,l);if(e=vn(e),isNaN(c))return{stiffness:qe.stiffness,damping:qe.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const uj=12;function dj(e,t,n){let r=n;for(let s=1;s<uj;s++)r=r-e(r)/t(r);return r}function Uu(e,t){return e*Math.sqrt(1-t*t)}const fj=["duration","bounce"],hj=["stiffness","damping","mass"];function Im(e,t){return t.some(n=>e[n]!==void 0)}function pj(e){let t={velocity:qe.velocity,stiffness:qe.stiffness,damping:qe.damping,mass:qe.mass,isResolvedFromDuration:!1,...e};if(!Im(e,hj)&&Im(e,fj))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*kn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:qe.mass,stiffness:s,damping:i}}else{const n=cj(e);t={...t,...n,mass:qe.mass},t.isResolvedFromDuration=!0}return t}function W1(e=qe.visualDuration,t=qe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:f,duration:a,velocity:d,isResolvedFromDuration:h}=pj({...n,velocity:-wn(n.velocity||0)}),p=d||0,m=u/(2*Math.sqrt(c*f)),g=o-i,y=wn(Math.sqrt(c/f)),v=Math.abs(g)<5;r||(r=v?qe.restSpeed.granular:qe.restSpeed.default),s||(s=v?qe.restDelta.granular:qe.restDelta.default);let I;if(m<1){const S=Uu(y,m);I=k=>{const $=Math.exp(-m*y*k);return o-$*((p+m*y*g)/S*Math.sin(S*k)+g*Math.cos(S*k))}}else if(m===1)I=S=>o-Math.exp(-y*S)*(g+(p+y*g)*S);else{const S=y*Math.sqrt(m*m-1);I=k=>{const $=Math.exp(-m*y*k),b=Math.min(S*k,300);return o-$*((p+m*y*g)*Math.sinh(b)+S*g*Math.cosh(b))/S}}const _={calculatedDuration:h&&a||null,next:S=>{const k=I(S);if(h)l.done=S>=a;else{let $=0;m<1&&($=S===0?vn(p):F1(I,S,k));const b=Math.abs($)<=r,M=Math.abs(o-k)<=s;l.done=b&&M}return l.value=l.done?o:k,l},toString:()=>{const S=Math.min(R1(_),KO),k=l1($=>_.next(S*$).value,S,30);return S+"ms "+k}};return _}function _m({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:f}){const a=e[0],d={done:!1,value:a},h=b=>l!==void 0&&b<l||c!==void 0&&b>c,p=b=>l===void 0?c:c===void 0||Math.abs(l-b)<Math.abs(c-b)?l:c;let m=n*t;const g=a+m,y=o===void 0?g:o(g);y!==g&&(m=y-a);const v=b=>-m*Math.exp(-b/r),I=b=>y+v(b),_=b=>{const M=v(b),w=I(b);d.done=Math.abs(M)<=u,d.value=d.done?y:w};let S,k;const $=b=>{h(d.value)&&(S=b,k=W1({keyframes:[d.value,p(d.value)],velocity:F1(I,b,d.value),damping:s,stiffness:i,restDelta:u,restSpeed:f}))};return $(0),{calculatedDuration:null,next:b=>{let M=!1;return!k&&S===void 0&&(M=!0,_(b),$(b)),S!==void 0&&b>=S?k.next(b-S):(!M&&_(b),d)}}}const mj=no(.42,0,1,1),gj=no(0,0,.58,1),U1=no(.42,0,.58,1),yj=e=>Array.isArray(e)&&typeof e[0]!="number";let V1=_t;const bj={linear:_t,easeIn:mj,easeInOut:U1,easeOut:gj,circIn:df,circInOut:b1,circOut:y1,backIn:uf,backInOut:m1,backOut:p1,anticipate:g1},Tm=e=>{if(cf(e)){V1(e.length===4);const[t,n,r,s]=e;return no(t,n,r,s)}else if(typeof e=="string")return bj[e];return e};function vj(e,t,n){const r=[],s=n||N1,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||_t:t;l=so(c,l)}r.push(l)}return r}function wj(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(V1(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=vj(t,r,s),c=l.length,u=f=>{if(o&&f<e[0])return t[0];let a=0;if(c>1)for(;a<e.length-2&&!(f<e[a+1]);a++);const d=js(e[a],e[a+1],f);return l[a](d)};return n?f=>u(kn(e[0],e[i-1],f)):u}function xj(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=js(0,t,r);e.push(Be(n,1,s))}}function Sj(e){const t=[0];return xj(t,e.length-1),t}function $j(e,t){return e.map(n=>n*t)}function Mj(e,t){return e.map(()=>t||U1).splice(0,e.length-1)}function ya({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=yj(r)?r.map(Tm):Tm(r),i={done:!1,value:t[0]},o=$j(n&&n.length===t.length?n:Sj(t),e),l=wj(o,t,{ease:Array.isArray(s)?s:Mj(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const kj=e=>{const t=({timestamp:n})=>e(n);return{start:()=>De.update(t,!0),stop:()=>ir(t),now:()=>it.isProcessing?it.timestamp:tn.now()}},Ij={decay:_m,inertia:_m,tween:ya,keyframes:ya,spring:W1},_j=e=>e/100;let vf=class extends j1{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||gf,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=lf(n)?n:Ij[n]||ya;let c,u;l!==ya&&typeof t[0]!="number"&&(c=so(_j,N1(t[0],t[1])),t=[0,100]);const f=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=R1(f));const{calculatedDuration:a}=f,d=a+s,h=d*(r+1)-s;return{generator:f,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:a,resolvedDuration:d,totalDuration:h}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:b}=this.options;return{done:!0,value:b[b.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:f,resolvedDuration:a}=r;if(this.startTime===null)return i.next(0);const{delay:d,repeat:h,repeatType:p,repeatDelay:m,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-d*(this.speed>=0?1:-1),v=this.speed>=0?y<0:y>f;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let I=this.currentTime,_=i;if(h){const b=Math.min(this.currentTime,f)/a;let M=Math.floor(b),w=b%1;!w&&b>=1&&(w=1),w===1&&M--,M=Math.min(M,h+1),M%2&&(p==="reverse"?(w=1-w,m&&(w-=m/a)):p==="mirror"&&(_=o)),I=kn(0,1,w)*a}const S=v?{done:!1,value:c[0]}:_.next(I);l&&(S.value=l(S.value));let{done:k}=S;!v&&u!==null&&(k=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return $&&s!==void 0&&(S.value=cl(c,this.options,s)),g&&g(S.value),$&&this.finish(),S}get duration(){const{resolved:t}=this;return t?wn(t.calculatedDuration):0}get time(){return wn(this.currentTime)}set time(t){t=vn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=wn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=kj,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}};const Tj=new Set(["opacity","clipPath","filter","transform"]);function Ej(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const f=u1(l,s);return Array.isArray(f)&&(u.easing=f),e.animate(u,{delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const Cj=af(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ba=10,Aj=2e4;function Pj(e){return lf(e.type)||e.type==="spring"||!c1(e.ease)}function Lj(e,t){const n=new vf({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<Aj;)r=n.sample(i),s.push(r.value),i+=ba;return{times:void 0,keyframes:s,duration:i-ba,ease:"linear"}}const B1={anticipate:g1,backInOut:m1,circInOut:b1};function Oj(e){return e in B1}let Em=class extends j1{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new O1(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&ma()&&Oj(i)&&(i=B1[i]),Pj(this.options)){const{onComplete:a,onUpdate:d,motionValue:h,element:p,...m}=this.options,g=Lj(t,m);t=g.keyframes,t.length===1&&(t[1]=t[0]),r=g.duration,s=g.times,i=g.ease,o="keyframes"}const f=Ej(l.owner.current,c,t,{...this.options,duration:r,times:s,ease:i});return f.startTime=u??this.calcStartTime(),this.pendingTimeline?(pm(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:a}=this.options;l.set(cl(t,this.options,n)),a&&a(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return wn(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return wn(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=vn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return _t;const{animation:r}=n;pm(r,t)}return _t}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:f,onComplete:a,element:d,...h}=this.options,p=new vf({...h,keyframes:r,duration:s,type:i,ease:o,times:l,isGenerator:!0}),m=vn(this.time);u.setWithVelocity(p.sample(m-ba).value,p.sample(m).value,ba)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return Cj()&&r&&Tj.has(r)&&!c&&!u&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}};const jj={type:"spring",stiffness:500,damping:25,restSpeed:10},Rj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Dj={type:"keyframes",duration:.8},Nj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Fj=(e,{keyframes:t})=>t.length>2?Dj:Wr.has(e)?e.startsWith("scale")?Rj(t[1]):jj:Nj;function Wj({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...f}){return!!Object.keys(f).length}const wf=(e,t,n,r={},s,i)=>o=>{const l=tf(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-vn(c);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:d=>{t.set(d),l.onUpdate&&l.onUpdate(d)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};Wj(l)||(f={...f,...Fj(e,f)}),f.duration&&(f.duration=vn(f.duration)),f.repeatDelay&&(f.repeatDelay=vn(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let a=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(a=!0)),a&&!i&&t.get()!==void 0){const d=cl(f.keyframes,l);if(d!==void 0)return De.update(()=>{f.onUpdate(d),f.onComplete()}),new dO([])}return!i&&Em.supports(f)?new Em(f):new vf(f)};function Uj({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function z1(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const u=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const a in c){const d=e.getValue(a,(i=e.latestValues[a])!==null&&i!==void 0?i:null),h=c[a];if(h===void 0||f&&Uj(f,a))continue;const p={delay:n,...tf(o||{},a)};let m=!1;if(window.MotionHandoffAnimation){const y=a1(e);if(y){const v=window.MotionHandoffAnimation(y,a,De);v!==null&&(p.startTime=v,m=!0)}}Ou(e,a),d.start(wf(a,d,h,e.shouldReduceMotion&&r1.has(a)?{type:!1}:p,e,m));const g=d.animation;g&&u.push(g)}return l&&Promise.all(u).then(()=>{De.update(()=>{l&&oO(e,l)})}),u}function Vu(e,t,n={}){var r;const s=ll(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(z1(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:a,staggerDirection:d}=i;return Vj(e,t,f+u,a,d,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,f]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>f())}else return Promise.all([o(),l(n.delay)])}function Vj(e,t,n=0,r=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(Bj).forEach((u,f)=>{u.notify("AnimationStart",t),o.push(Vu(u,t,{...i,delay:n+c(f)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Bj(e,t){return e.sortNodePosition(t)}function zj(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Vu(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Vu(e,t,n);else{const s=typeof t=="function"?ll(e,t,n.custom):t;r=Promise.all(z1(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const Hj=ef.length;function H1(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?H1(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Hj;n++){const r=ef[n],s=e.props[r];(Ti(s)||s===!1)&&(t[r]=s)}return t}const qj=[...Zd].reverse(),Qj=Zd.length;function Xj(e){return t=>Promise.all(t.map(({animation:n,options:r})=>zj(e,n,r)))}function Gj(e){let t=Xj(e),n=Cm(),r=!0;const s=c=>(u,f)=>{var a;const d=ll(e,f,c==="exit"?(a=e.presenceContext)===null||a===void 0?void 0:a.custom:void 0);if(d){const{transition:h,transitionEnd:p,...m}=d;u={...u,...m,...p}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,f=H1(e.parent)||{},a=[],d=new Set;let h={},p=1/0;for(let g=0;g<Qj;g++){const y=qj[g],v=n[y],I=u[y]!==void 0?u[y]:f[y],_=Ti(I),S=y===c?v.isActive:null;S===!1&&(p=g);let k=I===f[y]&&I!==u[y]&&_;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...h},!v.isActive&&S===null||!I&&!v.prevProp||al(I)||typeof I=="boolean")continue;const $=Jj(v.prevProp,I);let b=$||y===c&&v.isActive&&!k&&_||g>p&&_,M=!1;const w=Array.isArray(I)?I:[I];let E=w.reduce(s(y),{});S===!1&&(E={});const{prevResolvedValues:L={}}=v,Q={...L,...E},W=U=>{b=!0,d.has(U)&&(M=!0,d.delete(U)),v.needsAnimating[U]=!0;const N=e.getValue(U);N&&(N.liveStyle=!1)};for(const U in Q){const N=E[U],H=L[U];if(h.hasOwnProperty(U))continue;let F=!1;Lu(N)&&Lu(H)?F=!n1(N,H):F=N!==H,F?N!=null?W(U):d.add(U):N!==void 0&&d.has(U)?W(U):v.protectedKeys[U]=!0}v.prevProp=I,v.prevResolvedValues=E,v.isActive&&(h={...h,...E}),r&&e.blockInitialAnimation&&(b=!1),b&&(!(k&&$)||M)&&a.push(...w.map(U=>({animation:U,options:{type:y}})))}if(d.size){const g={};d.forEach(y=>{const v=e.getBaseTarget(y),I=e.getValue(y);I&&(I.liveStyle=!0),g[y]=v??null}),a.push({animation:g})}let m=!!a.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(a):Promise.resolve()}function l(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(d=>{var h;return(h=d.animationState)===null||h===void 0?void 0:h.setActive(c,u)}),n[c].isActive=u;const a=o(c);for(const d in n)n[d].protectedKeys={};return a}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Cm(),r=!0}}}function Jj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!n1(t,e):!1}function hr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cm(){return{animate:hr(!0),whileInView:hr(),whileHover:hr(),whileTap:hr(),whileDrag:hr(),whileFocus:hr(),exit:hr()}}let ur=class{constructor(t){this.isMounted=!1,this.node=t}update(){}},Yj=class extends ur{constructor(t){super(t),t.animationState||(t.animationState=Gj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();al(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}},Kj=0,Zj=class extends ur{constructor(){super(...arguments),this.id=Kj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}};const e6={animation:{Feature:Yj},exit:{Feature:Zj}},Dt={x:!1,y:!1};function q1(){return Dt.x||Dt.y}function t6(e){return e==="x"||e==="y"?Dt[e]?null:(Dt[e]=!0,()=>{Dt[e]=!1}):Dt.x||Dt.y?null:(Dt.x=Dt.y=!0,()=>{Dt.x=Dt.y=!1})}const xf=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Pi(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function io(e){return{point:{x:e.pageX,y:e.pageY}}}const n6=e=>t=>xf(t)&&e(t,io(t));function gi(e,t,n,r){return Pi(e,t,n6(n),r)}const Am=(e,t)=>Math.abs(e-t);function r6(e,t){const n=Am(e.x,t.x),r=Am(e.y,t.y);return Math.sqrt(n**2+r**2)}let Q1=class{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const a=uc(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,h=r6(a.offset,{x:0,y:0})>=3;if(!d&&!h)return;const{point:p}=a,{timestamp:m}=it;this.history.push({...p,timestamp:m});const{onStart:g,onMove:y}=this.handlers;d||(g&&g(this.lastMoveEvent,a),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,a)},this.handlePointerMove=(a,d)=>{this.lastMoveEvent=a,this.lastMoveEventInfo=cc(d,this.transformPagePoint),De.update(this.updatePoint,!0)},this.handlePointerUp=(a,d)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=uc(a.type==="pointercancel"?this.lastMoveEventInfo:cc(d,this.transformPagePoint),this.history);this.startEvent&&h&&h(a,g),p&&p(a,g)},!xf(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=io(t),l=cc(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=it;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=n;f&&f(t,uc(l,this.history)),this.removeListeners=so(gi(this.contextWindow,"pointermove",this.handlePointerMove),gi(this.contextWindow,"pointerup",this.handlePointerUp),gi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ir(this.updatePoint)}};function cc(e,t){return t?{point:t(e.point)}:e}function Pm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function uc({point:e},t){return{point:e,delta:Pm(e,X1(t)),offset:Pm(e,s6(t)),velocity:i6(t,.1)}}function s6(e){return e[0]}function X1(e){return e[e.length-1]}function i6(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=X1(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>vn(t)));)n--;if(!r)return{x:0,y:0};const i=wn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const G1=1e-4,o6=1-G1,a6=1+G1,J1=.01,l6=0-J1,c6=0+J1;function Tt(e){return e.max-e.min}function u6(e,t,n){return Math.abs(e-t)<=n}function Lm(e,t,n,r=.5){e.origin=r,e.originPoint=Be(t.min,t.max,e.origin),e.scale=Tt(n)/Tt(t),e.translate=Be(n.min,n.max,e.origin)-e.originPoint,(e.scale>=o6&&e.scale<=a6||isNaN(e.scale))&&(e.scale=1),(e.translate>=l6&&e.translate<=c6||isNaN(e.translate))&&(e.translate=0)}function yi(e,t,n,r){Lm(e.x,t.x,n.x,r?r.originX:void 0),Lm(e.y,t.y,n.y,r?r.originY:void 0)}function Om(e,t,n){e.min=n.min+t.min,e.max=e.min+Tt(t)}function d6(e,t,n){Om(e.x,t.x,n.x),Om(e.y,t.y,n.y)}function jm(e,t,n){e.min=t.min-n.min,e.max=e.min+Tt(t)}function bi(e,t,n){jm(e.x,t.x,n.x),jm(e.y,t.y,n.y)}function f6(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Be(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Be(n,e,r.max):Math.min(e,n)),e}function Rm(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function h6(e,{top:t,left:n,bottom:r,right:s}){return{x:Rm(e.x,n,s),y:Rm(e.y,t,r)}}function Dm(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function p6(e,t){return{x:Dm(e.x,t.x),y:Dm(e.y,t.y)}}function m6(e,t){let n=.5;const r=Tt(e),s=Tt(t);return s>r?n=js(t.min,t.max-r,e.min):r>s&&(n=js(e.min,e.max-s,t.min)),kn(0,1,n)}function g6(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Bu=.35;function y6(e=Bu){return e===!1?e=0:e===!0&&(e=Bu),{x:Nm(e,"left","right"),y:Nm(e,"top","bottom")}}function Nm(e,t,n){return{min:Fm(e,t),max:Fm(e,n)}}function Fm(e,t){return typeof e=="number"?e:e[t]||0}const Wm=()=>({translate:0,scale:1,origin:0,originPoint:0}),es=()=>({x:Wm(),y:Wm()}),Um=()=>({min:0,max:0}),Xe=()=>({x:Um(),y:Um()});function At(e){return[e("x"),e("y")]}function Y1({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function b6({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function v6(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function dc(e){return e===void 0||e===1}function zu({scale:e,scaleX:t,scaleY:n}){return!dc(e)||!dc(t)||!dc(n)}function mr(e){return zu(e)||K1(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function K1(e){return Vm(e.x)||Vm(e.y)}function Vm(e){return e&&e!=="0%"}function va(e,t,n){const r=e-n,s=t*r;return n+s}function Bm(e,t,n,r,s){return s!==void 0&&(e=va(e,s,r)),va(e,n,r)+t}function Hu(e,t=0,n=1,r,s){e.min=Bm(e.min,t,n,r,s),e.max=Bm(e.max,t,n,r,s)}function Z1(e,{x:t,y:n}){Hu(e.x,t.translate,t.scale,t.originPoint),Hu(e.y,n.translate,n.scale,n.originPoint)}const zm=.999999999999,Hm=1.0000000000001;function w6(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ns(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Z1(e,o)),r&&mr(i.latestValues)&&ns(e,i.latestValues))}t.x<Hm&&t.x>zm&&(t.x=1),t.y<Hm&&t.y>zm&&(t.y=1)}function ts(e,t){e.min=e.min+t,e.max=e.max+t}function qm(e,t,n,r,s=.5){const i=Be(e.min,e.max,s);Hu(e,t,n,i,r)}function ns(e,t){qm(e.x,t.x,t.scaleX,t.scale,t.originX),qm(e.y,t.y,t.scaleY,t.scale,t.originY)}function e0(e,t){return Y1(v6(e.getBoundingClientRect(),t))}function x6(e,t,n){const r=e0(e,n),{scroll:s}=t;return s&&(ts(r.x,s.offset.x),ts(r.y,s.offset.y)),r}const t0=({current:e})=>e?e.ownerDocument.defaultView:null,S6=new WeakMap;class $6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:a}=this.getProps();a?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(io(f).point)},i=(f,a)=>{const{drag:d,dragPropagation:h,onDragStart:p}=this.getProps();if(d&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=t6(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),At(g=>{let y=this.getAxisMotionValue(g).get()||0;if(nn.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const I=v.layout.layoutBox[g];I&&(y=Tt(I)*(parseFloat(y)/100))}}this.originPoint[g]=y}),p&&De.postRender(()=>p(f,a)),Ou(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(f,a)=>{const{dragPropagation:d,dragDirectionLock:h,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:g}=a;if(h&&this.currentDirection===null){this.currentDirection=M6(g),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",a.point,g),this.updateAxis("y",a.point,g),this.visualElement.render(),m&&m(f,a)},l=(f,a)=>this.stop(f,a),c=()=>At(f=>{var a;return this.getAnimationState(f)==="paused"&&((a=this.getAxisMotionValue(f).animation)===null||a===void 0?void 0:a.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Q1(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:t0(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&De.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!_o(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=f6(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Zr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=h6(s.layoutBox,n):this.constraints=!1,this.elastic=y6(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&At(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=g6(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Zr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=x6(r,s.root,this.visualElement.getTransformPagePoint());let o=p6(s.layout.layoutBox,i);if(n){const l=n(b6(o));this.hasMutatedConstraints=!!l,l&&(o=Y1(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=At(f=>{if(!_o(f,n,this.currentDirection))return;let a=c[f]||{};o&&(a={min:0,max:0});const d=s?200:1e6,h=s?40:1e7,p={type:"inertia",velocity:r?t[f]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...a};return this.startAxisValueAnimation(f,p)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Ou(this.visualElement,t),r.start(wf(t,r,0,n,this.visualElement,!1))}stopAnimation(){At(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){At(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){At(n=>{const{drag:r}=this.getProps();if(!_o(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(t[n]-Be(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};At(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=m6({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),At(o=>{if(!_o(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Be(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;S6.set(this.visualElement,this);const t=this.visualElement.current,n=gi(t,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Zr(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),De.read(r);const o=Pi(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(At(f=>{const a=this.getAxisMotionValue(f);a&&(this.originPoint[f]+=c[f].translate,a.set(a.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Bu,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function _o(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function M6(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}let k6=class extends ur{constructor(t){super(t),this.removeGroupControls=_t,this.removeListeners=_t,this.controls=new $6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_t}unmount(){this.removeGroupControls(),this.removeListeners()}};const Qm=e=>(t,n)=>{e&&De.postRender(()=>e(t,n))};let I6=class extends ur{constructor(){super(...arguments),this.removePointerDownListener=_t}onPointerDown(t){this.session=new Q1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:t0(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Qm(t),onStart:Qm(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&De.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=gi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const Sf=x.createContext(null);function _6(e=!0){const t=x.useContext(Sf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=x.useId();x.useEffect(()=>{e&&s(i)},[e]);const o=x.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const n0=x.createContext({}),r0=x.createContext({}),Jo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Xm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const si={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ge.test(e))e=parseFloat(e);else return e;const n=Xm(e,t.target.x),r=Xm(e,t.target.y);return`${n}% ${r}%`}},T6={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=or.parse(e);if(s.length>5)return r;const i=or.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=Be(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}},wa={};function E6(e){Object.assign(wa,e)}const{schedule:$f}=s1(queueMicrotask,!1);let C6=class extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;E6(A6),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Jo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||De.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),$f.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}};function s0(e){const[t,n]=_6(),r=x.useContext(n0);return P.jsx(C6,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(r0),isPresent:t,safeToRemove:n})}const A6={borderRadius:{...si,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:si,borderTopRightRadius:si,borderBottomLeftRadius:si,borderBottomRightRadius:si,boxShadow:T6};function P6(e,t,n){const r=ft(e)?e:Ei(e);return r.start(wf("",r,t,n)),r.animation}function L6(e){return e instanceof SVGElement&&e.tagName!=="svg"}const O6=(e,t)=>e.depth-t.depth;let j6=class{constructor(){this.children=[],this.isDirty=!1}add(t){nf(this.children,t),this.isDirty=!0}remove(t){rf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(O6),this.isDirty=!1,this.children.forEach(t)}};function R6(e,t){const n=tn.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(ir(r),e(i-t))};return De.read(r,!0),()=>ir(r)}function Yo(e){const t=ft(e)?e.get():e;return YL(t)?t.toValue():t}const i0=["TopLeft","TopRight","BottomLeft","BottomRight"],D6=i0.length,Gm=e=>typeof e=="string"?parseFloat(e):e,Jm=e=>typeof e=="number"||ge.test(e);function N6(e,t,n,r,s,i){s?(e.opacity=Be(0,n.opacity!==void 0?n.opacity:1,F6(r)),e.opacityExit=Be(t.opacity!==void 0?t.opacity:1,0,W6(r))):i&&(e.opacity=Be(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<D6;o++){const l=`border${i0[o]}Radius`;let c=Ym(t,l),u=Ym(n,l);c===void 0&&u===void 0||(c||(c=0),u||(u=0),c===0||u===0||Jm(c)===Jm(u)?(e[l]=Math.max(Be(Gm(c),Gm(u),r),0),(nn.test(u)||nn.test(c))&&(e[l]+="%")):e[l]=u)}(t.rotate||n.rotate)&&(e.rotate=Be(t.rotate||0,n.rotate||0,r))}function Ym(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const F6=o0(0,.5,y1),W6=o0(.5,.95,_t);function o0(e,t,n){return r=>r<e?0:r>t?1:n(js(e,t,r))}function Km(e,t){e.min=t.min,e.max=t.max}function Ct(e,t){Km(e.x,t.x),Km(e.y,t.y)}function Zm(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function eg(e,t,n,r,s){return e-=t,e=va(e,1/n,r),s!==void 0&&(e=va(e,1/s,r)),e}function U6(e,t=0,n=1,r=.5,s,i=e,o=e){if(nn.test(t)&&(t=parseFloat(t),t=Be(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Be(i.min,i.max,r);e===i&&(l-=t),e.min=eg(e.min,t,n,l,s),e.max=eg(e.max,t,n,l,s)}function tg(e,t,[n,r,s],i,o){U6(e,t[n],t[r],t[s],t.scale,i,o)}const V6=["x","scaleX","originX"],B6=["y","scaleY","originY"];function ng(e,t,n,r){tg(e.x,t,V6,n?n.x:void 0,r?r.x:void 0),tg(e.y,t,B6,n?n.y:void 0,r?r.y:void 0)}function rg(e){return e.translate===0&&e.scale===1}function a0(e){return rg(e.x)&&rg(e.y)}function sg(e,t){return e.min===t.min&&e.max===t.max}function z6(e,t){return sg(e.x,t.x)&&sg(e.y,t.y)}function ig(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function l0(e,t){return ig(e.x,t.x)&&ig(e.y,t.y)}function og(e){return Tt(e.x)/Tt(e.y)}function ag(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}let H6=class{constructor(){this.members=[]}add(t){nf(this.members,t),t.scheduleRender()}remove(t){if(rf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function q6(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:f,rotateX:a,rotateY:d,skewX:h,skewY:p}=n;u&&(r=`perspective(${u}px) ${r}`),f&&(r+=`rotate(${f}deg) `),a&&(r+=`rotateX(${a}deg) `),d&&(r+=`rotateY(${d}deg) `),h&&(r+=`skewX(${h}deg) `),p&&(r+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const gr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},di=typeof window<"u"&&window.MotionDebug!==void 0,fc=["","X","Y","Z"],Q6={visibility:"hidden"},lg=1e3;let X6=0;function hc(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function c0(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=a1(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",De,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&c0(r)}function u0({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},o=t==null?void 0:t()){this.id=X6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,di&&(gr.totalNodes=gr.resolvedTargetDeltas=gr.recalculatedProjection=0),this.nodes.forEach(Y6),this.nodes.forEach(nR),this.nodes.forEach(rR),this.nodes.forEach(K6),di&&window.MotionDebug.record(gr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new j6)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new sf),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const l=this.eventHandlers.get(i);l&&l.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=L6(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const a=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=R6(a,250),Jo.hasAnimatedSinceResize&&(Jo.hasAnimatedSinceResize=!1,this.nodes.forEach(ug))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:a,hasRelativeTargetChanged:d,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||lR,{onLayoutAnimationStart:m,onLayoutAnimationComplete:g}=u.getProps(),y=!this.targetLayout||!l0(this.targetLayout,h)||d,v=!a&&d;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||a&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,v);const I={...tf(p,"layout"),onPlay:m,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else a||ug(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ir(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sR),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&c0(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cg);return}this.isUpdating||this.nodes.forEach(eR),this.isUpdating=!1,this.nodes.forEach(tR),this.nodes.forEach(G6),this.nodes.forEach(J6),this.clearAllSnapshots();const i=tn.now();it.delta=kn(0,1e3/60,i-it.timestamp),it.timestamp=i,it.isProcessing=!0,ic.update.process(it),ic.preRender.process(it),ic.render.process(it),it.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$f.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Z6),this.sharedNodes.forEach(iR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,De.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){De.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!a0(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;i&&(o||mr(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return i&&(l=this.removeTransform(l)),cR(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:o}=this.options;if(!o)return Xe();const l=o.measureViewportBox();if(!(!((i=this.scroll)===null||i===void 0)&&i.wasRoot||this.path.some(uR))){const{scroll:c}=this.root;c&&(ts(l.x,c.offset.x),ts(l.y,c.offset.y))}return l}removeElementScroll(i){var o;const l=Xe();if(Ct(l,i),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:a}=u;u!==this.root&&f&&a.layoutScroll&&(f.wasRoot&&Ct(l,i),ts(l.x,f.offset.x),ts(l.y,f.offset.y))}return l}applyTransform(i,o=!1){const l=Xe();Ct(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ns(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),mr(u.latestValues)&&ns(l,u.latestValues)}return mr(this.latestValues)&&ns(l,this.latestValues),l}removeTransform(i){const o=Xe();Ct(o,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!mr(c.latestValues))continue;zu(c.latestValues)&&c.updateSnapshot();const u=Xe(),f=c.measurePageBox();Ct(u,f),ng(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return mr(this.latestValues)&&ng(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==it.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=it.timestamp,!this.targetDelta&&!this.relativeTarget){const a=this.getClosestProjectingParent();a&&a.layout&&this.animationProgress!==1?(this.relativeParent=a,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),bi(this.relativeTargetOrigin,this.layout.layoutBox,a.layout.layoutBox),Ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Xe(),this.targetWithTransforms=Xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),d6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ct(this.target,this.layout.layoutBox),Z1(this.target,this.targetDelta)):Ct(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const a=this.getClosestProjectingParent();a&&!!a.resumingFrom==!!this.resumingFrom&&!a.options.layoutScroll&&a.target&&this.animationProgress!==1?(this.relativeParent=a,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xe(),this.relativeTargetOrigin=Xe(),bi(this.relativeTargetOrigin,this.target,a.target),Ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}di&&gr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zu(this.parent.latestValues)||K1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===it.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Ct(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,d=this.treeScale.y;w6(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Xe());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Zm(this.prevProjectionDelta.x,this.projectionDelta.x),Zm(this.prevProjectionDelta.y,this.projectionDelta.y)),yi(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==a||this.treeScale.y!==d||!ag(this.projectionDelta.x,this.prevProjectionDelta.x)||!ag(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h)),di&&gr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=es(),this.projectionDelta=es(),this.projectionDeltaWithTransform=es()}setAnimationOrigin(i,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=es();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const a=Xe(),d=l?l.source:void 0,h=this.layout?this.layout.source:void 0,p=d!==h,m=this.getStack(),g=!m||m.members.length<=1,y=!!(p&&!g&&this.options.crossfade===!0&&!this.path.some(aR));this.animationProgress=0;let v;this.mixTargetDelta=I=>{const _=I/1e3;dg(f.x,i.x,_),dg(f.y,i.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bi(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oR(this.relativeTarget,this.relativeTargetOrigin,a,_),v&&z6(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Xe()),Ct(v,this.relativeTarget)),p&&(this.animationValues=u,N6(u,c,this.latestValues,_,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ir(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=De.update(()=>{Jo.hasAnimatedSinceResize=!0,this.currentAnimation=P6(0,lg,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=i;if(!(!o||!l||!c)){if(this!==i&&this.layout&&c&&d0(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Xe();const f=Tt(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+f;const a=Tt(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+a}Ct(o,l),ns(o,u),yi(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new H6),this.sharedNodes.get(i).add(o);const l=o.options.initialPromotionConfig;o.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&hc("z",i,c,this.animationValues);for(let u=0;u<fc.length;u++)hc(`rotate${fc[u]}`,i,c,this.animationValues),hc(`skew${fc[u]}`,i,c,this.animationValues);i.render();for(const u in c)i.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);i.scheduleRender()}getProjectionStyles(i){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Q6;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Yo(i==null?void 0:i.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Yo(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!mr(this.latestValues)&&(p.transform=u?u({},""):"none",this.hasProjected=!1),p}const a=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=q6(this.projectionDeltaWithTransform,this.treeScale,a),u&&(c.transform=u(a,c.transform));const{x:d,y:h}=this.projectionDelta;c.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=a.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:c.opacity=f===this?a.opacity!==void 0?a.opacity:"":a.opacityExit!==void 0?a.opacityExit:0;for(const p in wa){if(a[p]===void 0)continue;const{correct:m,applyTo:g}=wa[p],y=c.transform==="none"?a[p]:m(a[p],f);if(g){const v=g.length;for(let I=0;I<v;I++)c[g[I]]=y}else c[p]=y}return this.options.layoutId&&(c.pointerEvents=f===this?Yo(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(cg),this.root.sharedNodes.clear()}}}function G6(e){e.updateLayout()}function J6(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?At(a=>{const d=o?n.measuredBox[a]:n.layoutBox[a],h=Tt(d);d.min=r[a].min,d.max=d.min+h}):d0(i,n.layoutBox,r)&&At(a=>{const d=o?n.measuredBox[a]:n.layoutBox[a],h=Tt(r[a]);d.max=d.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[a].max=e.relativeTarget[a].min+h)});const l=es();yi(l,r,n.layoutBox);const c=es();o?yi(c,e.applyTransform(s,!0),n.measuredBox):yi(c,r,n.layoutBox);const u=!a0(l);let f=!1;if(!e.resumeFrom){const a=e.getClosestProjectingParent();if(a&&!a.resumeFrom){const{snapshot:d,layout:h}=a;if(d&&h){const p=Xe();bi(p,n.layoutBox,d.layoutBox);const m=Xe();bi(m,r,h.layoutBox),l0(p,m)||(f=!0),a.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=p,e.relativeParent=a)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Y6(e){di&&gr.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function K6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Z6(e){e.clearSnapshot()}function cg(e){e.clearMeasurements()}function eR(e){e.isLayoutDirty=!1}function tR(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ug(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nR(e){e.resolveTargetDelta()}function rR(e){e.calcProjection()}function sR(e){e.resetSkewAndRotation()}function iR(e){e.removeLeadSnapshot()}function dg(e,t,n){e.translate=Be(t.translate,0,n),e.scale=Be(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function fg(e,t,n,r){e.min=Be(t.min,n.min,r),e.max=Be(t.max,n.max,r)}function oR(e,t,n,r){fg(e.x,t.x,n.x,r),fg(e.y,t.y,n.y,r)}function aR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const lR={duration:.45,ease:[.4,0,.1,1]},hg=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),pg=hg("applewebkit/")&&!hg("chrome/")?Math.round:_t;function mg(e){e.min=pg(e.min),e.max=pg(e.max)}function cR(e){mg(e.x),mg(e.y)}function d0(e,t,n){return e==="position"||e==="preserve-aspect"&&!u6(og(t),og(n),.2)}function uR(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const dR=u0({attachResizeListener:(e,t)=>Pi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pc={current:void 0},f0=u0({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pc.current){const e=new dR({});e.mount(window),e.setOptions({layoutScroll:!0}),pc.current=e}return pc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),fR={pan:{Feature:I6},drag:{Feature:k6,ProjectionNode:f0,MeasureLayout:s0}};function hR(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=n==null?void 0:n[e])!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function h0(e,t){const n=hR(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function gg(e){return t=>{t.pointerType==="touch"||q1()||e(t)}}function pR(e,t,n={}){const[r,s,i]=h0(e,n),o=gg(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const f=gg(a=>{u(a),c.removeEventListener("pointerleave",f)});c.addEventListener("pointerleave",f,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}function yg(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&De.postRender(()=>i(t,io(t)))}let mR=class extends ur{mount(){const{current:t}=this.node;t&&(this.unmount=pR(t,n=>(yg(this.node,n,"Start"),r=>yg(this.node,r,"End"))))}unmount(){}},gR=class extends ur{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=so(Pi(this.node.current,"focus",()=>this.onFocus()),Pi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};const p0=(e,t)=>t?e===t?!0:p0(e,t.parentElement):!1,yR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bR(e){return yR.has(e.tagName)||e.tabIndex!==-1}const fi=new WeakSet;function bg(e){return t=>{t.key==="Enter"&&e(t)}}function mc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const vR=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=bg(()=>{if(fi.has(n))return;mc(n,"down");const s=bg(()=>{mc(n,"up")}),i=()=>mc(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function vg(e){return xf(e)&&!q1()}function wR(e,t,n={}){const[r,s,i]=h0(e,n),o=l=>{const c=l.currentTarget;if(!vg(l)||fi.has(c))return;fi.add(c);const u=t(l),f=(h,p)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",d),!(!vg(h)||!fi.has(c))&&(fi.delete(c),typeof u=="function"&&u(h,{success:p}))},a=h=>{f(h,n.useGlobalTarget||p0(c,h.target))},d=h=>{f(h,!1)};window.addEventListener("pointerup",a,s),window.addEventListener("pointercancel",d,s)};return r.forEach(l=>{!bR(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",c=>vR(c,s),s)}),i}function wg(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&De.postRender(()=>i(t,io(t)))}let xR=class extends ur{mount(){const{current:t}=this.node;t&&(this.unmount=wR(t,n=>(wg(this.node,n,"Start"),(r,{success:s})=>wg(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const qu=new WeakMap,gc=new WeakMap,SR=e=>{const t=qu.get(e.target);t&&t(e)},$R=e=>{e.forEach(SR)};function MR({root:e,...t}){const n=e||document;gc.has(n)||gc.set(n,{});const r=gc.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver($R,{root:e,...t})),r[s]}function kR(e,t,n){const r=MR(t);return qu.set(e,n),r.observe(e),()=>{qu.delete(e),r.unobserve(e)}}const IR={some:0,all:1};let _R=class extends ur{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:IR[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:a}=this.node.getProps(),d=u?f:a;d&&d(c)};return kR(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(TR(t,n))&&this.startObserver()}unmount(){}};function TR({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ER={inView:{Feature:_R},tap:{Feature:xR},focus:{Feature:gR},hover:{Feature:mR}},CR={layout:{ProjectionNode:f0,MeasureLayout:s0}},m0=x.createContext({strict:!1}),g0=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ul=x.createContext({});function dl(e){return al(e.animate)||ef.some(t=>Ti(e[t]))}function y0(e){return!!(dl(e)||e.variants)}function AR(e,t){if(dl(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ti(n)?n:void 0,animate:Ti(r)?r:void 0}}return e.inherit!==!1?t:{}}function PR(e){const{initial:t,animate:n}=AR(e,x.useContext(ul));return x.useMemo(()=>({initial:t,animate:n}),[xg(t),xg(n)])}function xg(e){return Array.isArray(e)?e.join(" "):e}const Mf=typeof window<"u",Sg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ds={};for(const e in Sg)Ds[e]={isEnabled:t=>Sg[e].some(n=>!!t[n])};function LR(e){for(const t in e)Ds[t]={...Ds[t],...e[t]}}const OR=Symbol.for("motionComponentSymbol");function jR(e,t,n){return x.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Zr(n)&&(n.current=r))},[t])}const RR=Mf?x.useLayoutEffect:x.useEffect;function DR(e,t,n,r,s){var i,o;const{visualElement:l}=x.useContext(ul),c=x.useContext(m0),u=x.useContext(Sf),f=x.useContext(g0).reducedMotion,a=x.useRef(null);r=r||c.renderer,!a.current&&r&&(a.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const d=a.current,h=x.useContext(r0);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&NR(a.current,n,s,h);const p=x.useRef(!1);x.useInsertionEffect(()=>{d&&p.current&&d.update(n,u)});const m=n[o1],g=x.useRef(!!m&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,m))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return RR(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),$f.render(d.render),g.current&&d.animationState&&d.animationState.animateChanges())}),x.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,m)}),g.current=!1))}),d}function NR(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:b0(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Zr(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function b0(e){if(e)return e.options.allowProjection!==!1?e.projection:b0(e.parent)}function FR({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,o;e&&LR(e);function l(u,f){let a;const d={...x.useContext(g0),...u,layoutId:WR(u)},{isStatic:h}=d,p=PR(u),m=r(u,h);if(!h&&Mf){UR();const g=VR(d);a=g.MeasureLayout,p.visualElement=DR(s,m,d,t,g.ProjectionNode)}return P.jsxs(ul.Provider,{value:p,children:[a&&p.visualElement?P.jsx(a,{visualElement:p.visualElement,...d}):null,n(s,u,jR(m,p.visualElement,f),m,h,p.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const c=x.forwardRef(l);return c[OR]=s,c}function WR({layoutId:e}){const t=x.useContext(n0).id;return t&&e!==void 0?t+"-"+e:e}function UR(e,t){x.useContext(m0).strict}function VR(e){const{drag:t,layout:n}=Ds;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const BR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kf(e){return typeof e!="string"||e.includes("-")?!1:!!(BR.indexOf(e)>-1||/[A-Z]/u.test(e))}function zR(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}function HR({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const o={latestValues:qR(r,s,i,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const v0=e=>(t,n)=>{const r=x.useContext(ul),s=x.useContext(Sf),i=()=>HR(e,t,r,s);return n?i():zR(i)};function qR(e,t,n,r){const s={},i=r(e,{});for(const d in i)s[d]=Yo(i[d]);let{initial:o,animate:l}=e;const c=dl(e),u=y0(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const a=f?l:o;if(a&&typeof a!="boolean"&&!al(a)){const d=Array.isArray(a)?a:[a];for(let h=0;h<d.length;h++){const p=Kd(e,d[h]);if(p){const{transitionEnd:m,transition:g,...y}=p;for(const v in y){let I=y[v];if(Array.isArray(I)){const _=f?I.length-1:0;I=I[_]}I!==null&&(s[v]=I)}for(const v in m)s[v]=m[v]}}}return s}const w0=(e,t)=>t&&typeof e=="number"?t.transform(e):e,QR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},XR=Gs.length;function GR(e,t,n){let r="",s=!0;for(let i=0;i<XR;i++){const o=Gs[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=w0(l,pf[o]);if(!c){s=!1;const f=QR[o]||o;r+=`${f}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function If(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Wr.has(c)){o=!0;continue}else if(C1(c)){s[c]=u;continue}else{const f=w0(u,pf[c]);c.startsWith("origin")?(l=!0,i[c]=f):r[c]=f}}if(t.transform||(o||n?r.transform=GR(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:f=0}=i;r.transformOrigin=`${c} ${u} ${f}`}}const JR={offset:"stroke-dashoffset",array:"stroke-dasharray"},YR={offset:"strokeDashoffset",array:"strokeDasharray"};function KR(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?JR:YR;e[i.offset]=ge.transform(-r);const o=ge.transform(t),l=ge.transform(n);e[i.array]=`${o} ${l}`}function $g(e,t,n){return typeof e=="string"?e:ge.transform(t+n*e)}function ZR(e,t,n){const r=$g(t,e.x,e.width),s=$g(n,e.y,e.height);return`${r} ${s}`}function _f(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},f,a){if(If(e,u,a),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:h,dimensions:p}=e;d.transform&&(p&&(h.transform=d.transform),delete d.transform),p&&(s!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=ZR(p,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),o!==void 0&&KR(d,o,l,c,!1)}const Tf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),x0=()=>({...Tf(),attrs:{}}),Ef=e=>typeof e=="string"&&e.toLowerCase()==="svg";function S0(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const $0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function M0(e,t,n,r){S0(e,t,void 0,r);for(const s in t.attrs)e.setAttribute($0.has(s)?s:of(s),t.attrs[s])}function k0(e,{layout:t,layoutId:n}){return Wr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!wa[e]||e==="opacity")}function Cf(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(ft(s[o])||t.style&&ft(t.style[o])||k0(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function I0(e,t,n){const r=Cf(e,t,n);for(const s in e)if(ft(e[s])||ft(t[s])){const i=Gs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function e5(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Mg=["x","y","width","height","cx","cy","r"],t5={useVisualState:v0({scrapeMotionValuesFromProps:I0,createRenderState:x0,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const l in s)if(Wr.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<Mg.length;l++){const c=Mg[l];e[c]!==t[c]&&(o=!0)}o&&De.read(()=>{e5(n,r),De.render(()=>{_f(r,s,Ef(n.tagName),e.transformTemplate),M0(n,r)})})}})},n5={useVisualState:v0({scrapeMotionValuesFromProps:Cf,createRenderState:Tf})};function _0(e,t,n){for(const r in t)!ft(t[r])&&!k0(r,n)&&(e[r]=t[r])}function r5({transformTemplate:e},t){return x.useMemo(()=>{const n=Tf();return If(n,t,e),Object.assign({},n.vars,n.style)},[t])}function s5(e,t){const n=e.style||{},r={};return _0(r,n,e),Object.assign(r,r5(e,t)),r}function i5(e,t){const n={},r=s5(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const o5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xa(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||o5.has(e)}let T0=e=>!xa(e);function a5(e){e&&(T0=t=>t.startsWith("on")?!xa(t):e(t))}try{a5(require("@emotion/is-prop-valid").default)}catch{}function l5(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(T0(s)||n===!0&&xa(s)||!t&&!xa(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function c5(e,t,n,r){const s=x.useMemo(()=>{const i=x0();return _f(i,t,Ef(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};_0(i,e.style,e),s.style={...i,...s.style}}return s}function u5(e=!1){return(t,n,r,{latestValues:s},i)=>{const o=(kf(t)?c5:i5)(n,s,i,t),l=l5(n,typeof t=="string",e),c=t!==x.Fragment?{...l,...o,ref:r}:{},{children:u}=n,f=x.useMemo(()=>ft(u)?u.get():u,[u]);return x.createElement(t,{...c,children:f})}}function d5(e,t){return function(n,{forwardMotionProps:r}={forwardMotionProps:!1}){const s={...kf(n)?t5:n5,preloadedFeatures:e,useRender:u5(r),createVisualElement:t,Component:n};return FR(s)}}const Qu={current:null},E0={current:!1};function f5(){if(E0.current=!0,!!Mf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Qu.current=e.matches;e.addListener(t),t()}else Qu.current=!1}const h5=[...L1,ct,or],p5=e=>h5.find(P1(e)),kg=new WeakMap;function m5(e,t,n){for(const r in t){const s=t[r],i=n[r];if(ft(s))e.addValue(r,s);else if(ft(i))e.addValue(r,Ei(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Ei(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Ig=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class g5{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=tn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,De.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:f}=o;this.onUpdate=f,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=dl(n),this.isVariantNode=y0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:a,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const p=d[h];c[h]!==void 0&&ft(p)&&p.set(c[h],!1)}}mount(t){this.current=t,kg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),E0.current||f5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){kg.delete(this.current),this.projection&&this.projection.unmount(),ir(this.notifyUpdate),ir(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Wr.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&De.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ds){const n=Ds[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Ig.length;r++){const s=Ig[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=m5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ei(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(T1(s)||v1(s))?s=parseFloat(s):!p5(s)&&or.test(n)&&(s=k1(t,n)),this.setBaseTarget(t,ft(s)?s.get():s)),ft(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Kd(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ft(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new sf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}let C0=class extends g5{constructor(){super(...arguments),this.KeyframeResolver=O1}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ft(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function y5(e){return window.getComputedStyle(e)}let b5=class extends C0{constructor(){super(...arguments),this.type="html",this.renderInstance=S0}readValueFromInstance(t,n){if(Wr.has(n)){const r=mf(n);return r&&r.default||0}else{const r=y5(t),s=(C1(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return e0(t,n)}build(t,n,r){If(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Cf(t,n,r)}},v5=class extends C0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Wr.has(n)){const r=mf(n);return r&&r.default||0}return n=$0.has(n)?n:of(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return I0(t,n,r)}build(t,n,r){_f(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){M0(t,n,r,s)}mount(t){this.isSVGTag=Ef(t.tagName),super.mount(t)}};const w5=(e,t)=>kf(e)?new v5(t):new b5(t,{allowProjection:e!==x.Fragment}),x5=d5({...e6,...ER,...fR,...CR},w5),S5=JL(x5),$5=({className:e,buttonClassName:t,userId:n,serviceCategory:r,serviceName:s,initialVouchCount:i,buttonVariant:o="ghost",clickable:l=!0,as:c="button"})=>{var w,E,L,Q,W,U;const{t:u}=an(),f=on(),a=cn(N=>N.socket),d=Nr(kt),h=n||((w=d==null?void 0:d.profile)==null?void 0:w.uuid),{data:p,isPending:m}=tr(LL(d)),{data:g,isPending:y}=tr({...OL(d,h),enabled:!!h&&h!==((E=d==null?void 0:d.profile)==null?void 0:E.uuid)}),v=h!==((L=d==null?void 0:d.profile)==null?void 0:L.uuid)&&y,I=x.useMemo(()=>h&&(p==null?void 0:p.vouchedUsers.includes(h)),[p==null?void 0:p.vouchedUsers,h]),_=x.useMemo(()=>{var N;return h===((N=d==null?void 0:d.profile)==null?void 0:N.uuid)?p==null?void 0:p.myVouchCount:g==null?void 0:g.vouchCount},[(Q=d==null?void 0:d.profile)==null?void 0:Q.uuid,p==null?void 0:p.myVouchCount,h,g==null?void 0:g.vouchCount]),[S,k]=x.useState(0),[$,b]=x.useState(!1);x.useEffect(()=>{_!==void 0&&(_>S&&(b(!0),setTimeout(()=>b(!1),600)),k(_))},[_,S]);const M=x.useMemo(()=>P.jsxs(P.Fragment,{children:[P.jsx(_i,{children:(v||m?i:_)||0}),P.jsx(S5.div,{animate:$?{rotate:[0,360],y:[0,-10,0]}:{},transition:{duration:.6,ease:"easeInOut"},children:I||c==="badge"?P.jsx(QL,{className:"h-5 w-5 text-yellow-400"}):P.jsx(HL,{className:"h-5 w-5 text-yellow-400"})})]}),[c,i,$,m,v,_,I]);return P.jsx("div",{className:"flex flex-row gap-2 justify-end items-center",children:P.jsx(Xw,{delayDuration:250,children:P.jsxs(Gw,{children:[c==="badge"&&P.jsx(_u,{children:P.jsx(GL,{variant:"secondary",className:je("flex gap-1 items-center cursor-default",e),children:M})}),c!=="badge"&&P.jsx(_u,{asChild:!0,children:P.jsx(Oa,{className:je("flex gap-1 items-center",t??e),variant:o,size:"icon",disabled:l&&(!((W=d==null?void 0:d.profile)!=null&&W.uuid)||h===d.profile.uuid||m||v||!r||!s),onClick:()=>{!l||!h||(I?a.emit("unvouch",h,()=>{var N;dm(f,!1,h,h===((N=d==null?void 0:d.profile)==null?void 0:N.uuid))}):(b(!0),setTimeout(()=>b(!1),600),a.emit("vouch",{userId:h,serviceCategory:r,serviceName:s},()=>{var N;dm(f,!0,h,h===((N=d==null?void 0:d.profile)==null?void 0:N.uuid))})))},children:M})}),P.jsx(Hd,{children:P.jsx(_i,{className:"whitespace-pre-line",children:h!==((U=d==null?void 0:d.profile)==null?void 0:U.uuid)?u("label.vouchUserTT"):u("label.myVouchUserTT")})})]})})})},A0=[{value:"bossKilling",services:[{value:"anyT17",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9VYmVyU2lsbyIsInciOjEsImgiOjEsInNjYWxlIjoxLCJtbiI6MjAsIm10IjoxN31d/3de9edd07d/UberSilo.png",rewards:["5thOr6thMapSlot"]},{value:"invitationAtlas",icon:"https://www.poewiki.net/images/d/d1/Maven%27s_Invitation_Haewark_Hamlet_inventory_icon.png",rewards:["5thOr6thMapSlot"]},{value:"searchingExarch",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvUXVlc3RJdGVtcy9DbGVhbnNpbmdGaXJlT3JiUXVlc3Q1IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/e6f9234053/CleansingFireOrbQuest5.png",rewards:["voidstone","favoriteMapSlot","atlasPassivePoint"]},{value:"eaterOfWorlds",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvUXVlc3RJdGVtcy9UYW5nbGVkT3JiUXVlc3Q1IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/75de691c2b/TangledOrbQuest5.png",rewards:["voidstone","favoriteMapSlot","atlasPassivePoint"]},{value:"maven",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQXRsYXMvTWF2ZW5LZXkiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MX1d/ad4c12144c/MavenKey.png",rewards:["voidstone","favoriteMapSlot","atlasPassivePoint"]},{value:"uberElder",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9VYmVyRWxkZXJDb21wbGV0ZSIsInNjYWxlIjoxfV0/715e041869/UberElderComplete.png",rewards:["voidstone","favoriteMapSlot","atlasPassivePoint"]},{value:"invitationFormed",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQXRsYXMvTnVsbFZvaWQxIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/9e4850813c/NullVoid1.png",rewards:["atlasPassivePoint"],buyersMapOnly:!0},{value:"invitationTwisted",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQXRsYXMvTnVsbFZvaWQyIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/3c5b06022e/NullVoid2.png",rewards:["atlasPassivePoint"],buyersMapOnly:!0},{value:"invitationForgotten",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQXRsYXMvTnVsbFZvaWQzIiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/48f3c7fecb/NullVoid3.png",rewards:["atlasPassivePoint"],buyersMapOnly:!0},{value:"invitationHidden",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQXRsYXMvTnVsbFZvaWQ0IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/5a436a46d6/NullVoid4.png",rewards:["atlasPassivePoint"],buyersMapOnly:!0},{value:"inivitationElderslayers",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQXRsYXMvTnVsbFZvaWQ2IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/8f170ad68d/NullVoid6.png",rewards:["atlasPassivePoint"],buyersMapOnly:!0},{value:"invitationFeared",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQXRsYXMvTnVsbFZvaWQ1IiwidyI6MSwiaCI6MSwic2NhbGUiOjF9XQ/31ba48d1dc/NullVoid5.png",rewards:["favoriteMapSlot","atlasPassivePoint"],buyersMapOnly:!0},{value:"anyElderGuardian",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhc01hcEd1YXJkaWFuRmlyZSIsInNjYWxlIjoxfV0/7497ffd64d/AtlasMapGuardianFire.png",rewards:["favoriteMapSlot"]},{value:"anyShaperGuardian",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhc01hcHMvRnJhZ21lbnRQaG9lbml4Iiwic2NhbGUiOjF9XQ/3091d971ad/FragmentPhoenix.png",rewards:["favoriteMapSlot"]},{value:"anyConqueror",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9IdW50ZXJGcmFnbWVudCIsInNjYWxlIjoxfV0/3ad268c533/HunterFragment.png",rewards:["favoriteMapSlot"]},{value:"sirus",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9TaXJ1c0ZyYWdtZW50Q29tcGxldGUiLCJzY2FsZSI6MX1d/c585a0ae79/SirusFragmentComplete.png",rewards:["favoriteMapSlot"]},{value:"cortex",icon:"https://www.poewiki.net/images/3/3c/Cortex_inventory_icon.png",rewards:["favoriteMapSlot"]},{value:"shaper",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9TaGFwZXJDb21wbGV0ZSIsInNjYWxlIjoxfV0/ace686004d/ShaperComplete.png",rewards:["favoriteMapSlot"]},{value:"infiniteHunger",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvUXVlc3RJdGVtcy9UYW5nbGVkT3JiUXVlc3QwIiwic2NhbGUiOjF9XQ/7a2f21c33e/TangledOrbQuest0.png",rewards:["atlasPassivePoint"]},{value:"blackStar",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvUXVlc3RJdGVtcy9DbGVhbnNpbmdGaXJlT3JiUXVlc3QwIiwic2NhbGUiOjF9XQ/b5b962d0c8/CleansingFireOrbQuest0.png",rewards:["atlasPassivePoint"]},{value:"elder",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9FbGRlckNvbXBsZXRlIiwic2NhbGUiOjF9XQ/6db44597fe/ElderComplete.png",rewards:[]},{value:"aul",icon:"https://www.poewiki.net/images/0/00/The_Crystal_King%27s_Throne_delve_node_icon.png",rewards:[]},{value:"atziri",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9WYWFsQ29tcGxldGUiLCJzY2FsZSI6MX1d/63035d86d7/VaalComplete.png",rewards:[]},{value:"uberAtziri",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9VYmVyVmFhbENvbXBsZXRlIiwic2NhbGUiOjF9XQ/994d9e2821/UberVaalComplete.png",rewards:[]},{value:"uberCortex",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9VYmVyQm9zc0tleUNvcnRleCIsInNjYWxlIjoxfV0/f97fadd4b1/UberBossKeyCortex.png",rewards:[]},{value:"uberShaper",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9VYmVyQm9zc0tleVNoYXBlciIsInNjYWxlIjoxfV0/719e96a82a/UberBossKeyShaper.png",rewards:[]},{value:"uberUberElder",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9VYmVyQm9zc0tleUVsZGVyIiwic2NhbGUiOjF9XQ/42d1e96e4e/UberBossKeyElder.png",rewards:[]},{value:"uberSirus",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9VYmVyQm9zc0tleVNpcnVzIiwic2NhbGUiOjF9XQ/094681ee85/UberBossKeySirus.png",rewards:[]},{value:"uberMaven",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9VYmVyQm9zc0tleU1hdmVuIiwic2NhbGUiOjF9XQ/20e155ad7d/UberBossKeyMaven.png",rewards:[]},{value:"uberExarch",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9VYmVyQm9zc0tleVNlYXJpbmdFeGFyY2giLCJzY2FsZSI6MX1d/cc2f3bce1b/UberBossKeySearingExarch.png",rewards:[]},{value:"uberEater",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9VYmVyQm9zc0tleUVhdGVyT2ZXb3JsZHMiLCJzY2FsZSI6MX1d/6022aa0897/UberBossKeyEaterOfWorlds.png",rewards:[]},{value:"chayula",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQnJlYWNoL0JyZWFjaEZyYWdtZW50c0NoYW9zIiwic2NhbGUiOjF9XQ/4c99b7dd49/BreachFragmentsChaos.png",rewards:[]},{value:"catarina",icon:"https://cdn.poedb.tw/image/Art/2DArt/minimap/player/BetrayalSymbolCatarina.webp",rewards:[]},{value:"theTrialmaster",icon:"https://www.poewiki.net/images/thumb/8/82/The_Tower_of_Ordeals_inventory_icon.png/78px-The_Tower_of_Ordeals_inventory_icon.png",rewards:[]},{value:"olroth",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9FeHBlZGl0aW9uQ2hyb25pY2xlMyIsInciOjEsImgiOjEsInNjYWxlIjoxfV0/2802fe605e/ExpeditionChronicle3.png",rewards:[]},{value:"t17Fortress",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9VYmVyU2lsbyIsInciOjEsImgiOjEsInNjYWxlIjoxLCJtbiI6MjAsIm10IjoxN31d/3de9edd07d/UberSilo.png",rewards:[]},{value:"t17Citadel",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9VYmVyUHJpbW9yZGlhbEJsb2NrcyIsInciOjEsImgiOjEsInNjYWxlIjoxLCJtbiI6MjAsIm10IjoxN31d/7f3890c45d/UberPrimordialBlocks.png",rewards:[]},{value:"t17Sanctuary",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9VYmVyUmVsaWNDaGFtYmVycyIsInciOjEsImgiOjEsInNjYWxlIjoxLCJtbiI6MjAsIm10IjoxN31d/4767bb7342/UberRelicChambers.png",rewards:[]},{value:"t17Ziggurat",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9VYmVyTWF1c29sZXVtIiwidyI6MSwiaCI6MSwic2NhbGUiOjEsIm1uIjoyMCwibXQiOjE3fV0/01aebfbf0b/UberMausoleum.png",rewards:[]},{value:"t17Abomination",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9BdGxhczJNYXBzL05ldy9VYmVyTWFsZm9ybWF0aW9uIiwidyI6MSwiaCI6MSwic2NhbGUiOjEsIm1uIjoyMCwibXQiOjE3fV0/f2ca074d82/UberMalformation.png",rewards:[]}]},{value:"other",services:[{value:"lab1",icon:"https://cdn.poedb.tw/image/Art/2DArt/minimap/player/Labyrinth.webp",rewards:["2ascendancyPassivePoint"]},{value:"lab2",icon:"https://cdn.poedb.tw/image/Art/2DArt/minimap/player/Labyrinth.webp",rewards:["2ascendancyPassivePoint"]},{value:"lab3",icon:"https://cdn.poedb.tw/image/Art/2DArt/minimap/player/Labyrinth.webp",rewards:["2ascendancyPassivePoint"]},{value:"lab4",icon:"https://cdn.poedb.tw/image/Art/2DArt/minimap/player/Labyrinth.webp",rewards:["2ascendancyPassivePoint"]},{value:"5way",icon:"https://web.poecdn.com/gen/image/WzI4LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9NYXJha2V0aEZyYWdtZW50Iiwic2NhbGUiOjF9XQ/a81c4968ab/MarakethFragment.png",rewards:["leveling"]},{value:"leveling",icon:"https://web.poecdn.com/image/Art/2DItems/QuestItems/SkillBook.png?scale=1",rewards:["leveling"]},{value:"campaign",icon:"https://web.poecdn.com/image/Art/2DItems/QuestItems/SkillBook.png?scale=1",rewards:["leveling"]},{value:"goldService",icon:"https://www.poewiki.net/images/thumb/7/73/CoinPileTier2_inventory_icon.png/78px-CoinPileTier2_inventory_icon.png",rewards:[]},{value:"benchCraft",icon:"https://cdn.poedb.tw/image/Art/2DArt/minimap/player/CraftingUnlockObject.webp",rewards:[]}]}],Af=A0.map(e=>({value:`WTS_${e.value}`,services:e.services})),Pf=A0.map(e=>({value:`WTB_${e.value}`,services:e.services})),M5=[...Pf,...Af],_g=[{value:"theRustKing",location:"The Red Vale",rewardDescription:["Rune Skull Cap (Secrets in the Dark quest item)"],group:"act1"},{value:"dravenTheEternalPraetor",location:"Mausoleum of the Praetor",rewardDescription:["Draven's Memorial Key Piece (Sorrow Among Stones)"],group:"act1"},{value:"lachlannOfEndlessLament",location:"Cemetery of the Eternals",rewardDescription:["Count Lachlann's Ring (The Mysterious Shade quest item)"],group:"act1"},{value:"theExecutioner",location:"Ogham Village",rewardDescription:["The Trail of Corruption main quest progression"],group:"act1"},{value:"countGeonor",location:"Ogham Manor",rewardDescription:["The Mad Wolf of Ogham main quest completion"],group:"act1"},{value:"asiniaPraetorConsort",location:"Tomb of the Consort",rewardDescription:["Sorrow Among Stones main quest progression"],group:"act1"},{value:"theBloatedMiller",location:"The Riverbank",rewardDescription:["Mercy for the Miller main quest completion"],group:"act2"},{value:"jamanraTheRisenKing",location:"The Halani Gates",rewardDescription:["The Trail of Corruption main quest progress"],group:"act2"},{value:"jamanraTheAbomination",location:"Dreadnought Vanguard",rewardDescription:["The Trail of Corruption quest completion"],group:"act2"},{value:"azarianTheForsakenSon",location:"Buried Shrines",rewardDescription:["The City of Seven Waters quest progress"],group:"act2"},{value:"ekbabAncientSteed",location:"The Bone Pits",rewardDescription:["Mastodon Tusks (A Theft of Ivory quest item)"],group:"act2"},{value:"torGulTheDefiler",location:"The Spires of Deshar",rewardDescription:["The Trail of Corruption main quest progress","Unlocks the Ascent to Power quest."],group:"act2"},{value:"zalmarathTheColossus",location:"The Titan Grotto",rewardDescription:["The Flame Ruby (A Crown of Stone quest item)"],group:"act2"},{value:"rathbreaker",location:"Vastiri Outskirts",rewardDescription:["Earning Passage quest progression"],group:"act2"},{value:"rudjaDreadEngineer",location:"Mawdun Mine",rewardDescription:["The Trail of Corruption quest progress"],group:"act2"},{value:"zicoatlWardenOfTheCore",location:"Jiquani's Sanctum",rewardDescription:["Large Soul Core (Legacy of the Vaal quest item)"],group:"act3"},{value:"blackjawTheRemnant",location:"Jiquani's Machinarium",rewardDescription:["The Flame Core - Grants +10% to Fire Resistance"],group:"act3"},{value:"xyclucianTheChimera",location:"Chimeral Wetlands",rewardDescription:["Chimeral Inscribed Ultimatum (Unlocks Trial of Chaos)","Legacy of the Vaal main quest progression"],group:"act3"},{value:"queenOfFilth",location:"Apex of Filth",rewardDescription:["Temple Door Icon (Legacy of the Vaal quest item)"],group:"act3"},{value:"ketzuliHighPriestOfTheSun",location:"Temple of Topec",rewardDescription:["Legacy of the Vaal main quest progression"],group:"act3"},{value:"viperNapuatzi",location:"Utzaal",rewardDescription:["Legacy of the Vaal main quest progression"],group:"act3"},{value:"doryani",location:"The Black Chambers",rewardDescription:["Legacy of the Vaal main quest progression"],group:"act3"}],Tg=[{value:"theDevourer",location:"Mud Burrow",rewardDescription:["Treacherous Ground quest completion"],group:"act1"},{value:"vargirTheFeralMutt",location:"Ogham Farmlands",rewardDescription:["Uncut Skill Gem"],group:"act1"},{value:"areagneForgottenWitch",location:"The Grelwood",rewardDescription:["Uncut Support Gem","Uncut Skill Gem"],group:"act1"},{value:"theRottenDruid",location:"The Grim Tangle",rewardDescription:["Uncut Support Gem"],group:"act1"},{value:"candlemassTheLivingRite",location:"Ogham Manor",rewardDescription:["Candlemass' Essence - Grants +20 Maximum Life"],group:"act1"},{value:"theKingInTheMists",location:"Freythorn",rewardDescription:["Gembloom Skull - Grants +30 Maximum Spirit","Spirit Skill Gem"],group:"act1"},{value:"theCrowbell",location:"The Hunting Grounds",rewardDescription:["Book of Specialization - Grants two Weapon Set Passive Skill Points"],group:"act1"},{value:"theBrambleghast",location:"The Grelwood",rewardDescription:["Uncut Skill Gem"],group:"act1"},{value:"beiraOfTheRottenPack",location:"Clearfell",rewardDescription:["Head of the Winter Wolf - Grants +10% to Cold Resistance"],group:"act1"},{value:"balbalaTheTraitor",location:"Traitor's Passage",rewardDescription:["Balbala's Barya - Allows access to the Trial of Sekhemas"],group:"act2"},{value:"limTheImpaler",location:"The Halani Gates",rewardDescription:["Rare Items"],group:"act2"},{value:"kabalaConstrictorQueen",location:"Keth",rewardDescription:["Book of Specialization - Grants two Weapon Set Passive Skill Points"],group:"act2"},{value:"rattlecageTheEarthbreaker",location:"Trial of Sekhemas",rewardDescription:["Floor 1 completion of the Trial of the Sekhemas"],group:"act2"},{value:"theNinthTreasureOfKeth",location:"The Lost City",rewardDescription:["Random Jewel"],group:"act2"},{value:"watchfulTwins",location:"Deshar",rewardDescription:["Djinn Barya"],group:"act2"},{value:"rootdredge",location:"Sandswept Marsh",rewardDescription:["Uncut Skill Gem"],group:"act2"},{value:"mightySilverfist",location:"Jungle Ruins",rewardDescription:["Book of Specialization - Grants two Weapon Set Passive Skill Points"],group:"act3"},{value:"ignagdukTheBogWitch",location:"The Azak Bog",rewardDescription:["Gemrot Skull - Grants +30 Maximum Spirit","Ignagduk's Ghastly Spear (Tribal Vengeance quest item)"],group:"act3"},{value:"mektulTheForgemaster",location:"Forge",rewardDescription:["The Hammer of Kamasa (Treasures of Utzaal quest item)"],group:"act3"}],P0=[{value:"ascendancy",services:[{value:"sekhemasTrial1",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvU2FuY3R1bS9CYWxiYWxhQ29pbjEiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MSwicmVhbG0iOiJwb2UyIn1d/4fe253f6e7/BalbalaCoin1.png",group:"ascendancy1&2",hideGroupPrefix:!0,rewards:["2ascendancyPassivePoint"]},{value:"chaosTrial1",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9VbHRpbWF0dW1UcmlhbEl0ZW0iLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MSwicmVhbG0iOiJwb2UyIn1d/ca16daf7d4/UltimatumTrialItem.png",group:"ascendancy1&2",hideGroupPrefix:!0,rewards:["2ascendancyPassivePoint"]},{value:"sekhemasTrial2",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvU2FuY3R1bS9CYWxiYWxhQ29pbjEiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MSwicmVhbG0iOiJwb2UyIn1d/4fe253f6e7/BalbalaCoin1.png",group:"ascendancy3&4",hideGroupPrefix:!0,rewards:["2ascendancyPassivePoint"]},{value:"chaosTrial2",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9VbHRpbWF0dW1UcmlhbEl0ZW0iLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MSwicmVhbG0iOiJwb2UyIn1d/ca16daf7d4/UltimatumTrialItem.png",group:"ascendancy3&4",hideGroupPrefix:!0,rewards:["2ascendancyPassivePoint"]},{value:"sekhemasTrial3",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvU2FuY3R1bS9CYWxiYWxhQ29pbjEiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MSwicmVhbG0iOiJwb2UyIn1d/4fe253f6e7/BalbalaCoin1.png",group:"ascendancy5&6",hideGroupPrefix:!0,rewards:["2ascendancyPassivePoint"]},{value:"chaosTrial3",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9VbHRpbWF0dW1UcmlhbEl0ZW0iLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MSwicmVhbG0iOiJwb2UyIn1d/ca16daf7d4/UltimatumTrialItem.png",group:"ascendancy5&6",hideGroupPrefix:!0,rewards:["2ascendancyPassivePoint"]},{value:"sekhemasTrial4",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvU2FuY3R1bS9CYWxiYWxhQ29pbjEiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MSwicmVhbG0iOiJwb2UyIn1d/4fe253f6e7/BalbalaCoin1.png",group:"ascendancy7&8",hideGroupPrefix:!0,rewards:["2ascendancyPassivePoint"]},{value:"theTrialmaster",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvU291bENvcmVzL1RyaWFsbWFzdGVyS2V5MSIsInNjYWxlIjoxLCJyZWFsbSI6InBvZTIifV0/661ab60074/TrialmasterKey1.png",group:"ascendancy7&8",hideGroupPrefix:!0,rewards:["2ascendancyPassivePoint"]}]},{value:"pinnacleBosses",services:[{value:"xesht",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvQnJlYWNoL0JyZWFjaHN0b25lIiwidyI6MSwiaCI6MSwic2NhbGUiOjEsInJlYWxtIjoicG9lMiJ9XQ/a9a7d0683b/Breachstone.png",rewards:[]},{value:"king_in_the_mists",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvQ3VycmVuY3kvUml0dWFsL1Zvb2Rvb0tpbmdFZmZpZ3kiLCJ3IjoxLCJoIjoxLCJzY2FsZSI6MSwicmVhbG0iOiJwb2UyIn1d/8d19af1421/VoodooKingEffigy.png",rewards:[]},{value:"olrothPoe2",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9FeHBlZGl0aW9uQ2hyb25pY2xlMyIsInciOjEsImgiOjEsInNjYWxlIjoxLCJyZWFsbSI6InBvZTIifV0/f9b0f4c115/ExpeditionChronicle3.png",rewards:[]},{value:"simulacrum",icon:"https://web.poecdn.com/gen/image/WzI1LDE0LHsiZiI6IjJESXRlbXMvTWFwcy9EZWxpcml1bUZyYWdtZW50IiwidyI6MSwiaCI6MSwic2NhbGUiOjEsInJlYWxtIjoicG9lMiJ9XQ/8c7dfdb066/DeliriumFragment.png",rewards:[]},{value:"theArbiter",rewards:[]}]},{value:"requiredCampaignBosses",services:[..._g,..._g.map(e=>({...e,value:e.value+"Cruel",label:e.value,group:e.group?e.group+"Cruel":void 0}))]},{value:"optionalCampaignBosses",services:[...Tg,...Tg.map(e=>({...e,value:e.value+"Cruel",label:e.value,group:e.group?e.group+"Cruel":void 0}))]}],Lf=P0.map(e=>({value:`WTS_${e.value}`,services:e.services})),Of=P0.map(e=>({value:`WTB_${e.value}`,services:e.services})),k5=[...Of,...Lf],gU=["5thOr6thMapSlot","favoriteMapSlot","atlasPassivePoint","voidstone","challenge","2ascendancyPassivePoint","leveling","noRewards","difficulty1","difficulty2","difficulty3","difficulty4"],I5=(e,t)=>e==="poe1"?t?t==="wts"||t.startsWith("WTS_")?Af:Pf:M5:t?t==="wts"||t.startsWith("WTS_")?Lf:Of:k5,yU=(e,t)=>e==="poe1"?t.startsWith("WTS_")?Af.find(n=>n.value===t):Pf.find(n=>n.value===t):t.startsWith("WTS_")?Lf.find(n=>n.value===t):Of.find(n=>n.value===t),_5=(e,t,n)=>{let r;return typeof t=="string"||t===void 0?r=I5(e,t).find(s=>s.value===t):r=t,r==null?void 0:r.services.find(s=>s.value===n)};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],E5=qs("shield-alert",T5),C5=({listing:e,ign:t})=>{const{t:n}=an(),r=x.useMemo(()=>e.isCustomService?void 0:_5(e.poe,e.serviceCategory,e.serviceName),[e.isCustomService,e.poe,e.serviceCategory,e.serviceName]),s=x.useMemo(()=>{const o=e.isCustomService?e.serviceName:n(`services.${(r==null?void 0:r.label)||(r==null?void 0:r.value)||e.serviceName}`);return e.creatorType==="wtb"?n("body.wtsServiceNotification",{serviceName:o}):n("body.wtbServiceNotification",{serviceName:o,location:e.location==="Buyer"?n("body.locationBuyersMap"):n("body.locationSellerMap"),interpolation:{escapeValue:!1}})},[e.creatorType,e.isCustomService,e.location,e.serviceName,r==null?void 0:r.label,r==null?void 0:r.value,n]),i=x.useMemo(()=>({width:20,height:20}),[]);return P.jsx("div",{className:"flex items-center justify-between w-full",children:P.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[P.jsxs("div",{className:"font-medium",children:["@",P.jsxs("span",{className:"space-x-1",children:[P.jsx(vu,{children:P.jsx("span",{onClick:()=>{navigator.clipboard.writeText(`@${t}`)},className:"underline underline-offset-2 cursor-copy",children:t})}),s]})]}),P.jsxs("div",{className:"flex flex-row items-center justify-start gap-2",children:[e.isCustomService&&!(r!=null&&r.icon)?P.jsx(Qd,{delayDuration:150,children:P.jsxs(Xd,{children:[P.jsx(Gd,{asChild:!0,children:P.jsx(E5,{className:"flex-shrink-0 w-4 h-4"})}),P.jsx(Jd,{className:"z-[210]",children:P.jsx(_i,{children:"Custom Service"})})]})}):(r==null?void 0:r.icon)&&P.jsx("img",{className:"block h-5 min-h-fit min-w-fit",src:r.icon,alt:e.serviceName,height:20,width:20,sizes:"33vw",style:{width:"auto",height:"20px"}}),P.jsx("div",{className:"text-nowrap",children:n("label.total")}),e.priceValue&&e.priceType?P.jsx(Bv,{poe:e.poe,league:e.league,children:P.jsx(Yd,{poe:e.poe,iconRect:i,value:e.priceValue,currencyType:e.priceType,splitIcons:!0,ttContentClassName:"z-[210]"})}):n("label.priceFree")]})]})})},A5=(e,t,{parsedServiceNotifications:n,playServiceSound:r})=>{const[s,i]=x.useState({});return x.useEffect(()=>{let o=!1;n.forEach(l=>{if(s[l.id])return;i(h=>({...h,[l.id]:!0}));const{listing:c,ign:u}=l.body,f=P.jsx(C5,{listing:c,ign:u}),a=h=>c.creatorType==="wtb"?P.jsx($5,{buttonClassName:je("rounded-md w-8 h-8"),initialVouchCount:l.senderVouchCount,userId:l.senderId,serviceName:c.serviceName,serviceCategory:c.serviceCategory,buttonVariant:h?"ghost":"outline"}):void 0,d={content:f,actions:a(!0)};t(f,"info",{notificationId:l.id,action:a(!1),game:l.body.poe,createdAt:l.timestamp,notificationCenter:d,display:l.display,read:l.read,store:!0,data:{listenChanges:!0}}),(l.read===void 0||!l.read)&&(l.display===void 0||l.display)&&(o=!0)}),o&&r()},[n]),s};var L0=typeof global=="object"&&global&&global.Object===Object&&global,P5=typeof self=="object"&&self&&self.Object===Object&&self,Tn=L0||P5||Function("return this")(),ar=Tn.Symbol,O0=Object.prototype,L5=O0.hasOwnProperty,O5=O0.toString,ii=ar?ar.toStringTag:void 0;function j5(e){var t=L5.call(e,ii),n=e[ii];try{e[ii]=void 0;var r=!0}catch{}var s=O5.call(e);return r&&(t?e[ii]=n:delete e[ii]),s}var R5=Object.prototype,D5=R5.toString;function N5(e){return D5.call(e)}var F5="[object Null]",W5="[object Undefined]",Eg=ar?ar.toStringTag:void 0;function Ys(e){return e==null?e===void 0?W5:F5:Eg&&Eg in Object(e)?j5(e):N5(e)}function jf(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var U5="[object AsyncFunction]",V5="[object Function]",B5="[object GeneratorFunction]",z5="[object Proxy]";function j0(e){if(!jf(e))return!1;var t=Ys(e);return t==V5||t==B5||t==U5||t==z5}var yc=Tn["__core-js_shared__"],Cg=function(){var e=/[^.]+$/.exec(yc&&yc.keys&&yc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function H5(e){return!!Cg&&Cg in e}var q5=Function.prototype,Q5=q5.toString;function Ur(e){if(e!=null){try{return Q5.call(e)}catch{}try{return e+""}catch{}}return""}var X5=/[\\^$.*+?()[\]{}|]/g,G5=/^\[object .+?Constructor\]$/,J5=Function.prototype,Y5=Object.prototype,K5=J5.toString,Z5=Y5.hasOwnProperty,e4=RegExp("^"+K5.call(Z5).replace(X5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function t4(e){if(!jf(e)||H5(e))return!1;var t=j0(e)?e4:G5;return t.test(Ur(e))}function n4(e,t){return e==null?void 0:e[t]}function Vr(e,t){var n=n4(e,t);return t4(n)?n:void 0}var Li=Vr(Object,"create");function r4(){this.__data__=Li?Li(null):{},this.size=0}function s4(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var i4="__lodash_hash_undefined__",o4=Object.prototype,a4=o4.hasOwnProperty;function l4(e){var t=this.__data__;if(Li){var n=t[e];return n===i4?void 0:n}return a4.call(t,e)?t[e]:void 0}var c4=Object.prototype,u4=c4.hasOwnProperty;function d4(e){var t=this.__data__;return Li?t[e]!==void 0:u4.call(t,e)}var f4="__lodash_hash_undefined__";function h4(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Li&&t===void 0?f4:t,this}function jr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}jr.prototype.clear=r4;jr.prototype.delete=s4;jr.prototype.get=l4;jr.prototype.has=d4;jr.prototype.set=h4;function p4(){this.__data__=[],this.size=0}function R0(e,t){return e===t||e!==e&&t!==t}function fl(e,t){for(var n=e.length;n--;)if(R0(e[n][0],t))return n;return-1}var m4=Array.prototype,g4=m4.splice;function y4(e){var t=this.__data__,n=fl(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():g4.call(t,n,1),--this.size,!0}function b4(e){var t=this.__data__,n=fl(t,e);return n<0?void 0:t[n][1]}function v4(e){return fl(this.__data__,e)>-1}function w4(e,t){var n=this.__data__,r=fl(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function En(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}En.prototype.clear=p4;En.prototype.delete=y4;En.prototype.get=b4;En.prototype.has=v4;En.prototype.set=w4;var Oi=Vr(Tn,"Map");function x4(){this.size=0,this.__data__={hash:new jr,map:new(Oi||En),string:new jr}}function S4(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function hl(e,t){var n=e.__data__;return S4(t)?n[typeof t=="string"?"string":"hash"]:n.map}function $4(e){var t=hl(this,e).delete(e);return this.size-=t?1:0,t}function M4(e){return hl(this,e).get(e)}function k4(e){return hl(this,e).has(e)}function I4(e,t){var n=hl(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Cn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Cn.prototype.clear=x4;Cn.prototype.delete=$4;Cn.prototype.get=M4;Cn.prototype.has=k4;Cn.prototype.set=I4;var _4="__lodash_hash_undefined__";function T4(e){return this.__data__.set(e,_4),this}function E4(e){return this.__data__.has(e)}function ji(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Cn;++t<n;)this.add(e[t])}ji.prototype.add=ji.prototype.push=T4;ji.prototype.has=E4;function C4(e,t,n,r){for(var s=e.length,i=n+-1;++i<s;)if(t(e[i],i,e))return i;return-1}function A4(e){return e!==e}function P4(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}function L4(e,t,n){return t===t?P4(e,t,n):C4(e,A4,n)}function O4(e,t){var n=e==null?0:e.length;return!!n&&L4(e,t,0)>-1}function D0(e,t){return e.has(t)}var cs=Vr(Tn,"Set");function j4(){}function Rf(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var R4=1/0,D4=cs&&1/Rf(new cs([,-0]))[1]==R4?function(e){return new cs(e)}:j4,N4=200;function N0(e,t,n){var r=-1,s=O4,i=e.length,o=!0,l=[],c=l;if(i>=N4){var u=t?null:D4(e);if(u)return Rf(u);o=!1,s=D0,c=new ji}else c=t?[]:l;e:for(;++r<i;){var f=e[r],a=t?t(f):f;if(f=f!==0?f:0,o&&a===a){for(var d=c.length;d--;)if(c[d]===a)continue e;t&&c.push(a),l.push(f)}else s(c,a,n)||(c!==l&&c.push(a),l.push(f))}return l}function F4(e){return e&&e.length?N0(e):[]}const W4=(e,t)=>{const n=Nv("serviceNotificationSound"),r=x.useMemo(()=>F4(t.map(o=>o.body.poe)).filter(o=>o),[t]),s=x.useCallback(o=>{let l=[];const c=o.every(a=>!a.isPending);c&&o.length>0&&(l=o.filter(a=>a.data).map(a=>a.data).flat());const u=o.some(a=>a.isError),f=o.some(a=>a.isLoading);return{listings:c?l:void 0,isPending:!c,isLoading:f,isError:u}},[]),{listings:i}=Fv({queries:r.map(o=>({...PL(e,o),enabled:t.some(l=>l.body.poe===o)})),combine:s});return{parsedServiceNotifications:x.useMemo(()=>t.map(o=>{const l=i==null?void 0:i.find(c=>c.id===o.body.id);return{...o,body:{...o.body,listing:l}}}).filter(o=>o.body.listing!==void 0),[i,t]),playServiceSound:n}},U4=()=>{const{t:e}=an(["common","notification"]),t=Nr(kt),n=Ta(),[r,s]=x.useState([]),[i,o,l,c]=zi(Lr(y=>[y.markAsRead,y.remove,y.getNotifications,y.dismissToast]));AL(),Si({mutationFn:wC,onError:()=>{n(e("notification:error.title.relistServices"),"error")}});const u=cn(y=>y.socket),f=x.useMemo(()=>de.utc().subtract(1,"hour").valueOf(),[]),{data:a}=tr(iC(t,f));x.useEffect(()=>{const y=v=>{l().filter(I=>I.id===v.id).length>0||s(I=>[...I.filter(_=>_.id!==v.id),v])};return u.on("notification",y),()=>{u.off("notification",y)}},[u]),x.useEffect(()=>{const y=v=>{v.read&&i([v.id])};return u.on("notification:updated",y),()=>{u.off("notification:updated",y)}},[i,u]),x.useEffect(()=>{const y=v=>{v.read&&(i(v.ids),c(v.ids))};return u.on("notification:marked-read",y),()=>{u.off("notification:marked-read",y)}},[c,i,u]),x.useEffect(()=>{const y=v=>{o(v.ids)};return u.on("notification:deleted",y),()=>{u.off("notification:deleted",y)}},[o,u]),x.useEffect(()=>{if(a){const y=a.map(k=>k.id),v=l().map(k=>k.id),I=y.filter(k=>!v.includes(k)),_=a.filter(k=>I.some($=>$===k.id));if(_.length===0)return;const S=_.map(k=>k.id);s(k=>[...k.filter($=>!S.includes($.id)),..._.map($=>({...$,display:!1,read:$.read}))])}},[a]);const{tradeNotifications:d,serviceNotifications:h,messageNotifications:p}=x.useMemo(()=>{function y(S){try{const k=S.body;return{...S,body:k}}catch(k){console.error("Notification body could not be parsed",k)}}const v=[],I=[],_=[];return r==null||r.forEach(S=>{if(S.type==="offering-buy"){const k=y(S);k&&v.push(k)}else if(S.type==="service-buy"){const k=y(S);k&&I.push(k)}else S.type==="message"?_.push({id:S.id,message:S.body,type:"message",createdAt:S.timestamp}):S.type==="serviceRelist"&&_.push({id:S.id,message:S.body,type:"serviceRelist",createdAt:S.timestamp})}),{tradeNotifications:v,serviceNotifications:I,messageNotifications:_}},[r]);CL(e,t,d,s,n);const m=W4(t,h),g=A5(e,n,m);return x.useEffect(()=>{const y=Object.keys(g);s(v=>v.filter(I=>!y.includes(I.id)))},[g]),x.useEffect(()=>{p.map(({id:y,message:v,type:I,..._})=>{try{s(L=>L.filter(Q=>Q.id!==y));const[S,k]=v.split("."),[$,...b]=k.split("&"),M=b.reduce((L,Q)=>{const[W,U]=Q.split("=");return{...L,[W]:U}},{}),w=S,E=e(`notification:${w}.title.${$}`,M);I==="serviceRelist"?n(P.jsx("span",{children:E}),w,{notificationId:y,createdAt:_.createdAt,store:!0,data:{listenChanges:!0}}):n(E,w,{app:"poexchange"})}catch(S){console.error("Error processing notification:",S)}})},[p]),null},V4=x.memo(U4);var Gt,gy,F0=(gy=class extends Dr{constructor(n={}){super();ue(this,Gt);this.config=n,oe(this,Gt,new Map)}build(n,r,s){const i=r.queryKey,o=r.queryHash??bd(i,r);let l=this.get(o);return l||(l=new RE({client:n,queryKey:i,queryHash:o,options:n.defaultQueryOptions(r),state:s,defaultOptions:n.getQueryDefaults(i)}),this.add(l)),l}add(n){D(this,Gt).has(n.queryHash)||(D(this,Gt).set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const r=D(this,Gt).get(n.queryHash);r&&(n.destroy(),r===n&&D(this,Gt).delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Qe.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return D(this,Gt).get(n)}getAll(){return[...D(this,Gt).values()]}find(n){const r={exact:!0,...n};return this.getAll().find(s=>Gc(r,s))}findAll(n={}){const r=this.getAll();return Object.keys(n).length>0?r.filter(s=>Gc(n,s)):r}notify(n){Qe.batch(()=>{this.listeners.forEach(r=>{r(n)})})}onFocus(){Qe.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Qe.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},Gt=new WeakMap,gy),gn,Ft,Bi,yy,B4=(yy=class extends Dr{constructor(n={}){super();ue(this,gn);ue(this,Ft);ue(this,Bi);this.config=n,oe(this,gn,new Set),oe(this,Ft,new Map),oe(this,Bi,0)}build(n,r,s){const i=new $C({mutationCache:this,mutationId:++ao(this,Bi)._,options:n.defaultMutationOptions(r),state:s});return this.add(i),i}add(n){D(this,gn).add(n);const r=To(n);if(typeof r=="string"){const s=D(this,Ft).get(r);s?s.push(n):D(this,Ft).set(r,[n])}this.notify({type:"added",mutation:n})}remove(n){if(D(this,gn).delete(n)){const r=To(n);if(typeof r=="string"){const s=D(this,Ft).get(r);if(s)if(s.length>1){const i=s.indexOf(n);i!==-1&&s.splice(i,1)}else s[0]===n&&D(this,Ft).delete(r)}}this.notify({type:"removed",mutation:n})}canRun(n){var s;const r=To(n);if(typeof r=="string"){const i=(s=D(this,Ft).get(r))==null?void 0:s.find(o=>o.state.status==="pending");return!i||i===n}else return!0}runNext(n){var s,i;const r=To(n);return typeof r=="string"?((i=(s=D(this,Ft).get(r))==null?void 0:s.find(o=>o!==n&&o.state.isPaused))==null?void 0:i.continue())??Promise.resolve():Promise.resolve()}clear(){Qe.batch(()=>{D(this,gn).forEach(n=>{this.notify({type:"removed",mutation:n})}),D(this,gn).clear(),D(this,Ft).clear()})}getAll(){return Array.from(D(this,gn))}find(n){const r={exact:!0,...n};return this.getAll().find(s=>dp(r,s))}findAll(n={}){return this.getAll().filter(r=>dp(n,r))}notify(n){Qe.batch(()=>{this.listeners.forEach(r=>{r(n)})})}resumePausedMutations(){const n=this.getAll().filter(r=>r.state.isPaused);return Qe.batch(()=>Promise.all(n.map(r=>r.continue().catch(ut))))}},gn=new WeakMap,Ft=new WeakMap,Bi=new WeakMap,yy);function To(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Ag(e){return{onFetch:(t,n)=>{var f,a,d,h,p;const r=t.options,s=(d=(a=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:a.fetchMore)==null?void 0:d.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const g=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},y=uv(t.options,t.fetchOptions),v=async(I,_,S)=>{if(m)return Promise.reject();if(_==null&&I.pages.length)return Promise.resolve(I);const k=(()=>{const w={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return g(w),w})(),$=await y(k),{maxPages:b}=t.options,M=S?CE:EE;return{pages:M(I.pages,$,b),pageParams:M(I.pageParams,_,b)}};if(s&&i.length){const I=s==="backward",_=I?z4:Pg,S={pages:i,pageParams:o},k=_(r,S);l=await v(S,k,I)}else{const I=e??i.length;do{const _=c===0?o[0]??r.initialPageParam:Pg(r,l);if(c>0&&_==null)break;l=await v(l,_),c++}while(c<I)}return l};t.options.persister?t.fetchFn=()=>{var m,g;return(g=(m=t.options).persister)==null?void 0:g.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Pg(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function z4(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var He,Xn,Gn,$s,Ms,Jn,ks,Is,by,H4=(by=class{constructor(t={}){ue(this,He);ue(this,Xn);ue(this,Gn);ue(this,$s);ue(this,Ms);ue(this,Jn);ue(this,ks);ue(this,Is);oe(this,He,t.queryCache||new F0),oe(this,Xn,t.mutationCache||new B4),oe(this,Gn,t.defaultOptions||{}),oe(this,$s,new Map),oe(this,Ms,new Map),oe(this,Jn,0)}mount(){ao(this,Jn)._++,D(this,Jn)===1&&(oe(this,ks,xd.subscribe(async t=>{t&&(await this.resumePausedMutations(),D(this,He).onFocus())})),oe(this,Is,aa.subscribe(async t=>{t&&(await this.resumePausedMutations(),D(this,He).onOnline())})))}unmount(){var t,n;ao(this,Jn)._--,D(this,Jn)===0&&((t=D(this,ks))==null||t.call(this),oe(this,ks,void 0),(n=D(this,Is))==null||n.call(this),oe(this,Is,void 0))}isFetching(t){return D(this,He).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return D(this,Xn).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const n=this.defaultQueryOptions({queryKey:t});return(r=D(this,He).get(n.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const n=this.defaultQueryOptions(t),r=D(this,He).build(this,n),s=r.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Kn(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(s))}getQueriesData(t){return D(this,He).findAll(t).map(({queryKey:n,state:r})=>{const s=r.data;return[n,s]})}setQueryData(t,n,r){var l;const s=this.defaultQueryOptions({queryKey:t}),i=(l=D(this,He).get(s.queryHash))==null?void 0:l.state.data,o=_E(n,i);if(o!==void 0)return D(this,He).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(t,n,r){return Qe.batch(()=>D(this,He).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,n,r)]))}getQueryState(t){var r;const n=this.defaultQueryOptions({queryKey:t});return(r=D(this,He).get(n.queryHash))==null?void 0:r.state}removeQueries(t){const n=D(this,He);Qe.batch(()=>{n.findAll(t).forEach(r=>{n.remove(r)})})}resetQueries(t,n){const r=D(this,He);return Qe.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},n)))}cancelQueries(t,n={}){const r={revert:!0,...n},s=Qe.batch(()=>D(this,He).findAll(t).map(i=>i.cancel(r)));return Promise.all(s).then(ut).catch(ut)}invalidateQueries(t,n={}){return Qe.batch(()=>(D(this,He).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},n)))}refetchQueries(t,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},s=Qe.batch(()=>D(this,He).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(ut)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(ut)}fetchQuery(t){const n=this.defaultQueryOptions(t);n.retry===void 0&&(n.retry=!1);const r=D(this,He).build(this,n);return r.isStaleByTime(Kn(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ut).catch(ut)}fetchInfiniteQuery(t){return t.behavior=Ag(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ut).catch(ut)}ensureInfiniteQueryData(t){return t.behavior=Ag(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return aa.isOnline()?D(this,Xn).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,He)}getMutationCache(){return D(this,Xn)}getDefaultOptions(){return D(this,Gn)}setDefaultOptions(t){oe(this,Gn,t)}setQueryDefaults(t,n){D(this,$s).set(er(t),{queryKey:t,defaultOptions:n})}getQueryDefaults(t){const n=[...D(this,$s).values()],r={};return n.forEach(s=>{Cs(t,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(t,n){D(this,Ms).set(er(t),{mutationKey:t,defaultOptions:n})}getMutationDefaults(t){const n=[...D(this,Ms).values()],r={};return n.forEach(s=>{Cs(t,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const n={...D(this,Gn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return n.queryHash||(n.queryHash=bd(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===wd&&(n.enabled=!1),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...D(this,Gn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){D(this,He).clear(),D(this,Xn).clear()}},He=new WeakMap,Xn=new WeakMap,Gn=new WeakMap,$s=new WeakMap,Ms=new WeakMap,Jn=new WeakMap,ks=new WeakMap,Is=new WeakMap,by),q4="tanstack-query";function Q4({storage:e,buster:t="",maxAge:n=1e3*60*60*24,serialize:r=JSON.stringify,deserialize:s=JSON.parse,prefix:i=q4,filters:o}){function l(p){if(p.state.dataUpdatedAt){const m=Date.now()-p.state.dataUpdatedAt>n,g=p.buster!==t;return!!(m||g)}return!0}async function c(p,m){if(e!=null){const g=`${i}-${p}`;try{const y=await e.getItem(g);if(y){const v=await s(y);if(l(v))await e.removeItem(g);else return m&&setTimeout(()=>m(v),0),v.state.data}}catch{await e.removeItem(g)}}}async function u(p,m){if(e!=null){const g=m.getQueryCache().find({queryKey:p});g&&await f(g)}}async function f(p){if(e!=null){const m=`${i}-${p.queryHash}`;e.setItem(m,await r({state:p.state,queryKey:p.queryKey,queryHash:p.queryHash,buster:t}))}}async function a(p,m,g){const y=o?Gc(o,g):!0;if(y&&g.state.data===void 0&&e!=null){const I=await c(g.queryHash,_=>{g.setState({dataUpdatedAt:_.state.dataUpdatedAt,errorUpdatedAt:_.state.errorUpdatedAt}),g.isStale()&&g.fetch()});if(I!=null)return Promise.resolve(I)}const v=await p(m);return y&&e!=null&&setTimeout(()=>{f(g)},0),Promise.resolve(v)}async function d(){if(e!=null&&e.entries){const p=await e.entries();for(const[m,g]of p)if(m.startsWith(i)){const y=await s(g);l(y)&&await e.removeItem(m)}}}async function h(p,m={}){const{exact:g,queryKey:y}=m;if(e!=null&&e.entries){const v=await e.entries();for(const[I,_]of v)if(I.startsWith(i)){const S=await s(_);if(l(S)){await e.removeItem(I);continue}if(y){if(g){if(S.queryHash!==er(y))continue}else if(!Cs(S.queryKey,y))continue}p.setQueryData(S.queryKey,S.state.data,{updatedAt:S.state.dataUpdatedAt})}}}return{persisterFn:a,persistQuery:f,persistQueryByKey:u,retrieveQuery:c,persisterGc:d,restoreQueries:h}}const Df=x.createContext(null),X4=({children:e,poe:t,socket:n})=>{const{t:r}=an("notification"),s=Yi(kt),i=ik(t),o=wy(),l=ka(),c=x.useRef({t:r,toast:i,setCurrentUser:s,location:o,socket:n,isPoExchange:l});c.current={t:r,toast:i,setCurrentUser:s,location:o,socket:n,isPoExchange:l};const[u]=x.useState(()=>Q4({storage:$e.isClient?fu.createInstance({name:"querystore",driver:fu.INDEXEDDB}):void 0,maxAge:24*60*60*1e3,buster:"v7",filters:{predicate:a=>{const d=a.queryKey[0];return!!(["characters","leagues","account-leagues","stashes","stash"].includes(d)||["stashLayout"].includes(d)||["snapshot"].includes(d))}}})),[f]=x.useState(()=>new H4({queryCache:new F0({onError:(a,d)=>{var I,_,S,k,$,b,M,w,E;const{t:h,toast:p,setCurrentUser:m,location:g,socket:y,isPoExchange:v}=c.current;if(!(a instanceof Xi||a instanceof Va)&&!g.pathname.includes("/ggg/connect")&&!g.pathname.includes("/discord/connect")){if(a instanceof Zn){if(((I=a.response)==null?void 0:I.status)===401){p(h("info.title.sessionExpired"),"error",{toastId:"sessionExpired"}),y.emit("removeToken"),v||y.disconnect(),localStorage.removeItem("doNotShareJwt"),m(null);return}if((S=(_=a.response)==null?void 0:_.config.url)!=null&&S.includes("/ggg/")){if(((k=a.response)==null?void 0:k.status)>=500)return p(h("error.title.gggApiDown"),"error",{toastId:"gggApiDown"});{let L;return typeof a.response.data=="string"&&!((b=($=a.response.data).startsWith)!=null&&b.call($,"<!DOCTYPE html>"))?(L=a.response.data.slice(0,100),p(h("error.title.gggApiErrorWithMsg",{statusCode:(M=a.response)==null?void 0:M.status,message:L}),"error",{toastId:"gggApiError"})):p(h("error.title.gggApiError",{statusCode:(w=a.response)==null?void 0:w.status}),"error",{toastId:"gggApiError"})}}else if((E=a.response)!=null&&E.data){if(a.response.data.wording){const L=a.response.data.wording;let Q="error";if(typeof L=="string"){const W=L.split("."),U=W.length>0?W[0]:"error";["error","warning","success","info"].includes(U)&&(Q=U)}return p(h(L),Q,{toastId:L})}else if(typeof a.response.data=="string")return p(a.response.data.slice(0,100),"error")}return}console.error(a),d.state.data!==void 0&&p(h("error.unknown_error",{message:a.message}),"error",{toastId:`unknown_error_${a.message}`})}}}),defaultOptions:{queries:{retry:(a,d)=>{var h;return d instanceof Zn&&((h=d.response)!=null&&h.status)&&[401,404].includes(d.response.status)?!1:a<3},enabled:$e.isClient,refetchOnWindowFocus:!1,gcTime:30*1e3,persister:u.persisterFn}}}));return P.jsx(ZS,{client:f,children:P.jsx(Df.Provider,{value:u,children:e})})},G4=x.memo(X4),J4=e=>{const t={selectedSnapshotId:void 0,selectedSessionId:void 0,incomeTimeFrameHours:1,timeRange:"30d",thresholdOperator:"OR"};return _d()(Id((n,r)=>({...t,setSelectedSnapshotId:s=>{n(i=>({...i,selectedSnapshotId:s}))},setSelectedSessionId:s=>{n(i=>({...i,selectedSessionId:s}))},setIncomeTimeFrameHours:s=>{n(i=>({...i,incomeTimeFrameHours:s}))},setTimeRange:s=>{n(i=>({...i,timeRange:s}))},setDisableLowConfidencePricing:s=>{n(i=>({...i,disableLowConfidencePricing:s}))},setPriceThreshold:s=>{n(i=>({...i,priceThreshold:s}))},setTotalPriceThreshold:s=>{n(i=>({...i,totalPriceThreshold:s}))},setThresholdOperator:s=>{n(i=>({...i,thresholdOperator:s}))},reset:()=>n(t)}),{name:`poexchange-${e}-networth-tracking-store`,storage:Ga(()=>localStorage),partialize:n=>({incomeTimeFrameHours:n.incomeTimeFrameHours,disableLowConfidencePricing:n.disableLowConfidencePricing,priceThreshold:n.priceThreshold,totalPriceThreshold:n.totalPriceThreshold,thresholdOperator:n.thresholdOperator}),version:1,migrate:(n,r)=>{if(r===0)return{}}}))},W0=x.createContext(null),Y4=({children:e,poe:t})=>{const n=x.useRef();return n.current||(n.current=J4(t)),P.jsx(W0.Provider,{value:n.current,children:e})};var Ko={exports:{}},K4=Ko.exports,Lg;function Z4(){return Lg||(Lg=1,function(e,t){(function(n,r){e.exports=r()})(K4,function(){return function(n,r,s){n=n||{};var i=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(u,f,a,d){return i.fromToBase(u,f,a,d)}s.en.relativeTime=o,i.fromToBase=function(u,f,a,d,h){for(var p,m,g,y=a.$locale().relativeTime||o,v=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],I=v.length,_=0;_<I;_+=1){var S=v[_];S.d&&(p=d?s(u).diff(a,S.d,!0):a.diff(u,S.d,!0));var k=(n.rounding||Math.round)(Math.abs(p));if(g=p>0,k<=S.r||!S.r){k<=1&&_>0&&(S=v[_-1]);var $=y[S.l];h&&(k=h(""+k)),m=typeof $=="string"?$.replace("%d",k):$(k,f,S.l,g);break}}if(f)return m;var b=g?y.future:y.past;return typeof b=="function"?b(m):b.replace("%s",m)},i.to=function(u,f){return l(u,f,this,!0)},i.from=function(u,f){return l(u,f,this)};var c=function(u){return u.$u?s.utc():s()};i.toNow=function(u){return this.to(c(this),u)},i.fromNow=function(u){return this.from(c(this),u)}}})}(Ko)),Ko.exports}var eD=Z4();const U0=Fs(eD);de.extend(mb);de.extend(U0);function tD({createdAt:e,className:t,innerClassName:n,format:r,formatFn:s,prefix:i,suffix:o}){const[,l]=x.useReducer(u=>u+1,0),c=x.useRef();return x.useEffect(()=>(c.current=setInterval(()=>{l()},1e3),()=>{clearInterval(c.current)}),[]),P.jsx("div",{className:t,children:P.jsxs("span",{className:n,children:[P.jsx("span",{children:i||""}),s?s(e):r?de.utc(de(e).diff(de())).format(r):de(e).fromNow(),P.jsx("span",{children:o||""})]})})}var pl="Dialog",[V0,B0]=Ki(pl),[nD,Ht]=V0(pl),z0=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,f]=Wd({prop:r,defaultProp:s??!1,onChange:i,caller:pl});return P.jsx(nD,{scope:t,triggerRef:l,contentRef:c,contentId:pi(),titleId:pi(),descriptionId:pi(),open:u,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(a=>!a),[f]),modal:o,children:n})};z0.displayName=pl;var H0="DialogTrigger",q0=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ht(H0,n),i=gt(t,s.triggerRef);return P.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Wf(s.open),...r,ref:i,onClick:Ze(e.onClick,s.onOpenToggle)})});q0.displayName=H0;var Nf="DialogPortal",[rD,Q0]=V0(Nf,{forceMount:void 0}),X0=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Ht(Nf,t);return P.jsx(rD,{scope:t,forceMount:n,children:x.Children.map(r,o=>P.jsx(lr,{present:n||i.open,children:P.jsx(nl,{asChild:!0,container:s,children:o})}))})};X0.displayName=Nf;var Sa="DialogOverlay",G0=x.forwardRef((e,t)=>{const n=Q0(Sa,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Ht(Sa,e.__scopeDialog);return i.modal?P.jsx(lr,{present:r||i.open,children:P.jsx(iD,{...s,ref:t})}):null});G0.displayName=Sa;var sD=Pa("DialogOverlay.RemoveScroll"),iD=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ht(Sa,n);return P.jsx(Ud,{as:sD,allowPinchZoom:!0,shards:[s.contentRef],children:P.jsx(rt.div,{"data-state":Wf(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Rr="DialogContent",J0=x.forwardRef((e,t)=>{const n=Q0(Rr,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Ht(Rr,e.__scopeDialog);return P.jsx(lr,{present:r||i.open,children:i.modal?P.jsx(oD,{...s,ref:t}):P.jsx(aD,{...s,ref:t})})});J0.displayName=Rr;var oD=x.forwardRef((e,t)=>{const n=Ht(Rr,e.__scopeDialog),r=x.useRef(null),s=gt(t,n.contentRef,r);return x.useEffect(()=>{const i=r.current;if(i)return bw(i)},[]),P.jsx(Y0,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ze(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ze(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ze(e.onFocusOutside,i=>i.preventDefault())})}),aD=x.forwardRef((e,t)=>{const n=Ht(Rr,e.__scopeDialog),r=x.useRef(!1),s=x.useRef(!1);return P.jsx(Y0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||((l=n.triggerRef.current)==null||l.focus()),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;(c=n.triggerRef.current)!=null&&c.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Y0=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Ht(Rr,n),c=x.useRef(null),u=gt(t,c);return qv(),P.jsxs(P.Fragment,{children:[P.jsx(Ed,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:P.jsx(Ya,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Wf(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),P.jsxs(P.Fragment,{children:[P.jsx(cD,{titleId:l.titleId}),P.jsx(dD,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ff="DialogTitle",K0=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ht(Ff,n);return P.jsx(rt.h2,{id:s.titleId,...r,ref:t})});K0.displayName=Ff;var Z0="DialogDescription",ex=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ht(Z0,n);return P.jsx(rt.p,{id:s.descriptionId,...r,ref:t})});ex.displayName=Z0;var tx="DialogClose",nx=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ht(tx,n);return P.jsx(rt.button,{type:"button",...r,ref:t,onClick:Ze(e.onClick,()=>s.onOpenChange(!1))})});nx.displayName=tx;function Wf(e){return e?"open":"closed"}var rx="DialogTitleWarning",[lD,sx]=g3(rx,{contentName:Rr,titleName:Ff,docsSlug:"dialog"}),cD=({titleId:e})=>{const t=sx(rx),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},uD="DialogDescriptionWarning",dD=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sx(uD).contentName}}.`;return x.useEffect(()=>{var s;const r=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},fD=z0,hD=q0,pD=X0,mD=G0,gD=J0,yD=K0,bD=ex,ix=nx,ox="AlertDialog",[vD,xU]=Ki(ox,[B0]),An=B0(),ax=e=>{const{__scopeAlertDialog:t,...n}=e,r=An(t);return P.jsx(fD,{...r,...n,modal:!0})};ax.displayName=ox;var wD="AlertDialogTrigger",lx=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=An(n);return P.jsx(hD,{...s,...r,ref:t})});lx.displayName=wD;var xD="AlertDialogPortal",cx=e=>{const{__scopeAlertDialog:t,...n}=e,r=An(t);return P.jsx(pD,{...r,...n})};cx.displayName=xD;var SD="AlertDialogOverlay",ux=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=An(n);return P.jsx(mD,{...s,...r,ref:t})});ux.displayName=SD;var us="AlertDialogContent",[$D,MD]=vD(us),kD=vb("AlertDialogContent"),dx=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=An(n),o=x.useRef(null),l=gt(t,o),c=x.useRef(null);return P.jsx(lD,{contentName:us,titleName:fx,docsSlug:"alert-dialog",children:P.jsx($D,{scope:n,cancelRef:c,children:P.jsxs(gD,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:Ze(s.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[P.jsx(kD,{children:r}),P.jsx(_D,{contentRef:o})]})})})});dx.displayName=us;var fx="AlertDialogTitle",hx=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=An(n);return P.jsx(yD,{...s,...r,ref:t})});hx.displayName=fx;var px="AlertDialogDescription",mx=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=An(n);return P.jsx(bD,{...s,...r,ref:t})});mx.displayName=px;var ID="AlertDialogAction",gx=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=An(n);return P.jsx(ix,{...s,...r,ref:t})});gx.displayName=ID;var yx="AlertDialogCancel",bx=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=MD(yx,n),i=An(n),o=gt(t,s);return P.jsx(ix,{...i,...r,ref:o})});bx.displayName=yx;var _D=({contentRef:e})=>{const t=`\`${us}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${us}\` by passing a \`${px}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${us}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},TD=ax,ED=lx,CD=cx,vx=ux,wx=dx,xx=gx,Sx=bx,$x=hx,Mx=mx;const AD=TD,PD=ED,LD=CD,kx=x.forwardRef(({className:e,...t},n)=>P.jsx(vx,{className:je("fixed inset-0 z-[110] bg-dark-1/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));kx.displayName=vx.displayName;const Ix=x.forwardRef(({className:e,...t},n)=>P.jsxs(LD,{container:document==null?void 0:document.getElementById("poex"),children:[P.jsx(kx,{}),P.jsx(wx,{ref:n,className:je("fixed left-[50%] top-[50%] z-[110] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Ix.displayName=wx.displayName;const _x=({className:e,...t})=>P.jsx("div",{className:je("flex flex-col space-y-2 text-center sm:text-left",e),...t});_x.displayName="AlertDialogHeader";const Tx=({className:e,...t})=>P.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Tx.displayName="AlertDialogFooter";const Ex=x.forwardRef(({className:e,...t},n)=>P.jsx($x,{ref:n,className:je("text-lg font-semibold truncate pr-5",e),...t}));Ex.displayName=$x.displayName;const Cx=x.forwardRef(({className:e,...t},n)=>P.jsx(Mx,{ref:n,className:je("text-sm text-muted-foreground",e),...t}));Cx.displayName=Mx.displayName;const Ax=x.forwardRef(({className:e,...t},n)=>P.jsx(xx,{ref:n,className:je(hd(),e),...t}));Ax.displayName=xx.displayName;const Px=x.forwardRef(({className:e,...t},n)=>P.jsx(Sx,{ref:n,className:je(hd({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Px.displayName=Sx.displayName;const Lx=e=>{var t;return{id:e.id,hash:e.hash,priceHash:e.pHash,displayName:e.dN,icon:`https://web.poecdn.com/gen/image/${e.i}`,hashProps:e.hProps,tag:e.t,stashTabsIds:e.sTIds,quantity:e.q,price:e.p,isCustomPrice:e.isCP,originalPrice:e.oP,isLowConfidence:e.isLc,dailyPriceHistory:e.dPH,hourlyPriceHistory:e.hPH,frameType:e.fT,items:((t=e.items)==null?void 0:t.map(n=>{const r=zy(n);return r.icon=`https://web.poecdn.com/gen/image/${e.i}`,r}))||[]}};de.extend(Aa);let Ri=class extends Error{constructor(t,n){super(t),this.snapshotTimeInfoResult=n,this.name="NetworthSocketIoError"}};const OD=(e,t)=>{if(e.status!=="SUCCESS"){if(e.data&&typeof e.data=="object"&&"message"in e.data){const n=e.data.message;let r;throw e.data&&typeof e.data=="object"&&"lastSnapshotAt"in e.data&&(r=e.data),new Ri(n||t,r)}throw new Ri(e.data??t)}return e.data},dr=e=>async(t,n,...r)=>{const s=await t.timeout(1e4).emitWithAck(n,...r);return OD(s,e)};async function jD(e){const t=await dr("Failed to get snapshot settings")(e,"settings:get");return t&&Ge.set(St,{lastSnapshotAt:t.lastSnapshotAt?de.utc(t.lastSnapshotAt):void 0,nextManualSnapshotAt:de.utc(t.nextManualSnapshotAt),nextAutoSnapshotAt:t.nextAutoSnapshotAt?de.utc(t.nextAutoSnapshotAt):void 0}),t}async function RD(e,t){try{const n=await dr("Failed to update snapshot settings")(e,"settings:update",t);return Ge.set(St,{lastSnapshotAt:n.lastSnapshotAt?de.utc(n.lastSnapshotAt):void 0,nextManualSnapshotAt:de.utc(n.nextManualSnapshotAt),nextAutoSnapshotAt:n.nextAutoSnapshotAt?de.utc(n.nextAutoSnapshotAt):void 0}),n}catch(n){if(n instanceof Ri){if(console.log("Error updating snapshot settings - update autoSnapshotAtom:",n),n.snapshotTimeInfoResult){const r=n.snapshotTimeInfoResult;Ge.set(St,{lastSnapshotAt:r.lastSnapshotAt?de.utc(r.lastSnapshotAt):void 0,nextManualSnapshotAt:de.utc(r.nextManualSnapshotAt),nextAutoSnapshotAt:r.nextAutoSnapshotAt?de.utc(r.nextAutoSnapshotAt):void 0})}}else{console.log("Error updating snapshot settings - fallback - update autoSnapshotAtom:",n);const r=de.utc();Ge.set(St,s=>{const i=s!=null&&s.nextManualSnapshotAt?s.nextManualSnapshotAt.isBefore(r)?de.utc().add(30,"seconds"):s.nextManualSnapshotAt:de.utc().add(3,"minutes");return{lastSnapshotAt:(s==null?void 0:s.lastSnapshotAt)||void 0,nextManualSnapshotAt:i,nextAutoSnapshotAt:void 0}})}throw n}}async function DD(e,t,n){try{const r=await dr("Failed to add snapshot")(e,"snapshot:add",{snapshot:t,type:n});return Ge.set(St,{lastSnapshotAt:r.lastSnapshotAt?de.utc(r.lastSnapshotAt):void 0,nextManualSnapshotAt:de.utc(r.nextManualSnapshotAt),nextAutoSnapshotAt:r.nextAutoSnapshotAt?de.utc(r.nextAutoSnapshotAt):void 0}),r}catch(r){if(r instanceof Ri){if(console.log("Error add snapshot - update autoSnapshotAtom:",r),r.snapshotTimeInfoResult){const s=r.snapshotTimeInfoResult;Ge.set(St,()=>({lastSnapshotAt:s.lastSnapshotAt?de.utc(s.lastSnapshotAt):void 0,nextManualSnapshotAt:de.utc(s.nextManualSnapshotAt),nextAutoSnapshotAt:s.nextAutoSnapshotAt?de.utc(s.nextAutoSnapshotAt):void 0}))}}else{console.log("Error add snapshot - fallback - update autoSnapshotAtom:",r);const s=de.utc();Ge.set(St,i=>{const o=i!=null&&i.nextManualSnapshotAt?i.nextManualSnapshotAt.isBefore(s)?de.utc().add(30,"seconds"):i.nextManualSnapshotAt:de.utc().add(3,"minutes");return{lastSnapshotAt:(i==null?void 0:i.lastSnapshotAt)||void 0,nextManualSnapshotAt:o,nextAutoSnapshotAt:n==="auto"?de.utc().add(15,"minutes"):void 0}})}throw r}}function $U(e,t){return dr("Failed to delete snapshot")(e,"snapshot:delete",t)}const ND=new Gi;async function $a(e){return await ND.runExclusive(async()=>{const t=await dr("Failed to acquire snapshot token")(e,"snapshot:acquireAutoSnapshotToken");return Ge.set(St,{lastSnapshotAt:t.lastSnapshotAt?de.utc(t.lastSnapshotAt):void 0,nextManualSnapshotAt:de.utc(t.nextManualSnapshotAt),nextAutoSnapshotAt:t.nextAutoSnapshotAt?de.utc(t.nextAutoSnapshotAt):void 0}),t.nextAutoSnapshotAt&&console.debug("Auto snapshot token acquired:",t),t})}function MU(e,t){return Pe().post(`/networth/settings/${e}`,t)}async function FD(e){return(await Pe().get(`/networth/profile/${e}/snapshots`)).data}async function WD(e,t){return(await Pe().get(`/networth/profile/user/${e}/${t}/list`)).data}async function UD(e){return(await Pe().get(`/networth/profile/${e}`)).data}async function VD(e){var n;const t=(await Pe().get(`/networth/snapshots/${e}`)).data;return t?{...t,detailItems:(n=t.detailItems)==null?void 0:n.map(r=>Lx(r))}:null}function kU({socket:e,body:t}){return dr("Failed to add snapshot profile")(e,"profile:add",t)}function IU({socket:e,body:t}){return dr("Failed to update snapshot profile")(e,"profile:update",t)}function _U({socket:e,id:t}){return dr("Failed to delete snapshot profile")(e,"profile:delete",{id:t})}function Og(e,t){return e.find(n=>t.hash?n.hash===t.hash:n.displayName===t.displayName)}const Ox=(e,t=2)=>Math.round(e*10**t)/10**t;function jg(e,t){const n=t.filter(i=>!e.includes(i)),r=e.filter(i=>!t.includes(i));let s=[...e];return n.forEach(i=>{s.includes(i)||s.push(i)}),s=s.filter(i=>!r.includes(i)),{added:n,removed:r,merged:s}}const Rg=(e,t)=>{if(!e)return;const n={};return e.forEach(r=>{var s;(s=r.items)==null||s.forEach(i=>{var o;(o=i.categoryIds)==null||o.forEach(l=>{n[l]||(n[l]=0),n[l]+=t(r)*(i.stackSize||1)})})}),Object.entries(n).sort((r,s)=>s[1]-r[1]).map(r=>({id:r[0],totalPrice:Ox(r[1],2)}))},BD=(e,t)=>{const n={};return t.forEach(r=>{const s=e.find(i=>i.id===r.id);if(s){const i=(r.totalPrice??0)-(s.totalPrice??0),o=(r.totalSessionPrice??0)-(s.totalSessionPrice??0);n[r.id]={...r,totalPrice:i,totalSessionPrice:o}}else n[r.id]={...r,totalPrice:r.totalPrice??0,totalSessionPrice:r.totalSessionPrice===void 0?void 0:r.totalSessionPrice}}),e.forEach(r=>{n[r.id]||(n[r.id]={...r,totalPrice:-(r.totalPrice??0),totalSessionPrice:-(r.totalSessionPrice??0)})}),Object.values(n)},Xu=(e,t)=>{var r;if(!e)return;const n={};for(const s of e){if(!s.items)return;(r=s.items)==null||r.forEach(i=>{i.stashTabId&&(n[i.stashTabId]||(n[i.stashTabId]=0),n[i.stashTabId]+=t(s)*(i.stackSize||1))})}return Object.entries(n).sort((s,i)=>i[1]-s[1]).map(s=>({id:s[0],totalPrice:Ox(s[1],2)}))},zD=(e,t)=>{const n=[];return t.forEach(r=>{const s=Og(e,r);if(r.quantity>0&&(!r.items||r.items.length===0)){const l=Array.from(new Set(r.stashTabsIds||[])),c=s?Array.from(new Set(s.stashTabsIds||[])):[],{added:u,removed:f,merged:a}=jg(c,l),d=r.quantity-(s?s.quantity:0);(!s||d!==0||u.length>0||f.length>0)&&n.push({...r,stashTabsIds:a,quantity:d,items:[]});return}let i=[];const o=l=>`${l.x??0}|${l.y??0}|${l.stashTabId??""}`;if(!s)i=(r.items||[]).map(l=>({...l}));else{const l=new Map((s.items||[]).map(h=>[o(h),h])),c=new Map((r.items||[]).map(h=>[o(h),h]));for(const[h,p]of l.entries())if(c.has(h)){const m=c.get(h),g=p.stackSize??1,y=(m.stackSize??1)-g;y!==0&&i.push({...m,stackSize:y})}const u=[],f=[];for(const[h,p]of l.entries())c.has(h)||u.push({pi:p,stack:p.stackSize??1});for(const[h,p]of c.entries())l.has(h)||f.push({pi:p,stack:p.stackSize??1});let a=0,d=0;for(;a<u.length&&d<f.length;){const h=Math.min(u[a].stack,f[d].stack);h>0&&(i.push({...u[a].pi,stackSize:-h}),i.push({...f[d].pi,stackSize:h}),u[a].stack-=h,f[d].stack-=h),u[a].stack===0&&a++,f[d].stack===0&&d++}for(;a<u.length;a++)u[a].stack>0&&i.push({...u[a].pi,stackSize:-u[a].stack});for(;d<f.length;d++)f[d].stack>0&&i.push({...f[d].pi,stackSize:f[d].stack})}if(i.length>0){const l=Array.from(new Set(i.map(f=>f.stashTabId).filter(Boolean))),c=i.reduce((f,a)=>f+(a.stackSize??1),0),u=r.quantity-(s?s.quantity:0);c!==u&&console.warn(`Quantity mismatch for item ${r.displayName}: expected ${u}, got ${c}`),n.push({...r,stashTabsIds:l,quantity:u,items:i})}}),e.forEach(r=>{if(!Og(t,r)){if(r.quantity>0&&(!r.items||r.items.length===0)){const c=Array.from(new Set(r.stashTabsIds||[])),u=[],{added:f,removed:a,merged:d}=jg(c,u),h=-r.quantity;(h!==0||f.length>0||a.length>0)&&n.push({...r,stashTabsIds:d,quantity:h,items:[]});return}const s=Array.from(new Set((r.items||[]).map(c=>c.stashTabId).filter(Boolean)));let i=0;const o=(r.items||[]).map(c=>{const u=-(c.stackSize??1);return i+=u,{...c,stackSize:u}}),l=-r.quantity;i!==l&&console.warn(`Quantity mismatch for item ${r.displayName}: expected ${l}, got ${i}`),n.push({...r,stashTabsIds:s,quantity:l,items:o})}}),n};function HD(e,t,n=!1,r=!1){var o;if(e.id===t.id)return qD(t);let s;!t.sessionDetailItems&&t.detailItems&&!e.sessionDetailItems&&e.detailItems&&(s=zD(e.detailItems,t.detailItems));const i={...t,stashTabs:t.stashTabs,categoryItems:t.categoryItems,detailItems:s,sessionDetailItems:void 0};if(i.totalPrice=((o=i.detailItems)==null?void 0:o.reduce((l,c)=>l+(c.price??0)*(c.quantity??1),0))||0,i.totalSessionPrice=i.totalPrice,n){const l=i.detailItems?Xu(i.detailItems,c=>c.price||0):void 0;i.stashTabs=i.stashTabs.map(c=>{var f;const u={...c};return u.totalPrice=(f=l==null?void 0:l.find(a=>a.id===u.id))==null?void 0:f.totalPrice,u.totalSessionPrice=u.totalPrice,u})}return r&&(i.categoryItems=BD(e.categoryItems,t.categoryItems)),i}function TU(e){return{...e,totalPrice:0,totalSessionPrice:e.totalSessionPrice===void 0?void 0:0,pricedStashTabs:e.pricedStashTabs.map(t=>({...t,totalPrice:0,totalSessionPrice:t.totalSessionPrice===void 0?void 0:0})),createdAt:new Date(e.createdAt)}}function qD(e){return{...e,totalPrice:0,totalSessionPrice:e.totalSessionPrice===void 0?void 0:0,stashTabs:e.stashTabs.map(t=>({...t,totalPrice:0,totalSessionPrice:t.totalSessionPrice===void 0?void 0:0})),categoryItems:[],detailItems:e.detailItems===void 0?void 0:[]}}const EU=(e,t)=>e?t(e.id)?e.totalSessionPrice??0:e.totalPrice??0:0,jx=e=>{const t=e[2];return{id:e[0],characterName:e[1]??void 0,sessionStart:t===_s.Start||void 0,sessionEnd:t===_s.End||void 0,sessionId:e[3]??void 0,totalPrice:e[4],totalSessionPrice:e[5]??void 0,pricedStashTabs:e[6].map(n=>({id:n[0],totalPrice:n[1],totalSessionPrice:n[2]})),updatedAt:new Date(e[7]),createdAt:new Date(e[8])}},QD=e=>{var n;const t=e[2];return{id:e[0],characterName:e[1]??void 0,sessionStart:t===_s.Start||void 0,sessionEnd:t===_s.End||void 0,sessionId:e[3]??void 0,totalPrice:e[4],totalSessionPrice:e[5]??void 0,pricedStashTabs:(n=e[6])==null?void 0:n.map(r=>({id:r[0],totalPrice:r[1],totalSessionPrice:r[2]})),updatedAt:e[7]?new Date(e[7]):void 0,createdAt:e[8]?new Date(e[8]):void 0}},XD=(e,t,n)=>({queryKey:["snapshot-settings",t],queryFn:()=>jD(e),staleTime:30*60*1e3,gcTime:30*60*1e3,enabled:$e.isClient&&!!t&&n!==!1}),CU=(e,t,n)=>({queryKey:["networth-profiles",e,t],queryFn:()=>WD(e,t),staleTime:30*60*1e3,gcTime:30*60*1e3,enabled:$e.isClient&&!!e&&n!==!1}),GD=(e,t)=>({queryKey:["networth-profile",e],queryFn:()=>UD(e),staleTime:30*60*1e3,gcTime:30*60*1e3,enabled:$e.isClient&&!!e&&t!==!1}),AU=(e,t)=>({queryKey:["profile-snapshots",e],queryFn:async()=>e?(await FD(e)).map(n=>jx(n)):[],staleTime:30*60*1e3,enabled:$e.isClient&&!!e&&t!==!1}),JD=(e,t)=>({queryKey:["snapshot",e],queryFn:()=>VD(e),staleTime:24*60*60*1e3,gcTime:5*60*1e3,enabled:$e.isClient&&!!e&&t!==!1}),Rx=(e,t,n,r)=>{var i;const s=Yi(St);return Si({mutationKey:["update-snapshot-settings",(i=t==null?void 0:t.profile)==null?void 0:i.uuid],mutationFn:({data:o})=>RD(n,o),onSuccess:(o,l)=>{var u;console.log("Snapshot settings updated successfully:",o),l.reason?r(l.reason,l.type??"success"):r("Auto snapshotting disabled",l.type??"success"),e.setQueryData(["snapshot-settings",(u=t==null?void 0:t.profile)==null?void 0:u.uuid],f=>{if(f)return{...f,autosnapshotEnabled:l.data.autosnapshotEnabled??f.autosnapshotEnabled,snapshotInterval:l.data.snapshotInterval??f.snapshotInterval,updatedAt:new Date}});const c=de.utc();s(f=>{const a=f!=null&&f.nextManualSnapshotAt?f.nextManualSnapshotAt.isBefore(c)?de.utc().add(30,"seconds"):f.nextManualSnapshotAt:de.utc().add(3,"minutes");return{lastSnapshotAt:(f==null?void 0:f.lastSnapshotAt)||void 0,nextManualSnapshotAt:a,nextAutoSnapshotAt:void 0}})},onError:o=>{console.error("Error updating snapshot settings:",o),"message"in o?r(o.message,"error"):r("Error updating snapshot settings","error")}})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M21 8L18.74 5.74A9.75 9.75 0 0 0 12 3C11 3 10.03 3.16 9.13 3.47",key:"1krf6h"}],["path",{d:"M8 16H3v5",key:"1cv678"}],["path",{d:"M3 12C3 9.51 4 7.26 5.64 5.64",key:"ruvoct"}],["path",{d:"m3 16 2.26 2.26A9.75 9.75 0 0 0 12 21c2.49 0 4.74-1 6.36-2.64",key:"19q130"}],["path",{d:"M21 12c0 1-.16 1.97-.47 2.87",key:"4w8emr"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M22 22 2 2",key:"1r8tn9"}]],KD=qs("refresh-cw-off",YD);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],e8=qs("refresh-cw",ZD);de.extend(Aa);de.extend(U0);const t8=(e,t,n)=>{var v;const r=on(),s=Ta(),[i,o]=cn(Lr(I=>[I.socket,I.connected])),l=ka(),{data:c}=tr(XD(i,(v=e==null?void 0:e.profile)==null?void 0:v.uuid,o)),[u,f]=zi(Lr(I=>[I.getNotifications,I.remove])),a=Nr(St),d=x.useRef(a);d.current=a;const h=a==null?void 0:a.nextAutoSnapshotAt,p=a==null?void 0:a.lastSnapshotAt,m=x.useRef(),g=x.useRef(!1);x.useEffect(()=>{if(!c||!c.autoSnapshotProfileId||!c.autosnapshotEnabled)return;const I=setInterval(async()=>{var _;try{if((_=d.current)!=null&&_.nextAutoSnapshotAt&&d.current.nextAutoSnapshotAt.isAfter(de.utc())){console.log("Next automatic snapshot is still scheduled for this tab, skipping re-acquire of auto snapshot token.");return}const S=await $a(i);console.log("Auto snapshot token re-acquired successfully.",S)}catch(S){console.error("Error acquiring auto snapshot token:",S)}},c.snapshotInterval*1e3*60/2);return()=>clearInterval(I)},[c,c==null?void 0:c.autosnapshotEnabled,c==null?void 0:c.autoSnapshotProfileId,i]),x.useEffect(()=>{if(!c||!i||!i.connected||!o)return;const I=()=>{const _=Math.floor(Math.random()*5e3);setTimeout(async()=>{try{const S=await $a(i);console.log("Auto snapshot token re-acquired successfully.",S)}catch(S){console.error("Error acquiring auto snapshot token:",S)}},_)};return i.on("snapshot:token-revoked",I),()=>{i.off("snapshot:token-revoked",I)}},[i,o]);const y=x.useRef(c);return y.current=c,x.useEffect(()=>{if(!c||!c.autoSnapshotProfileId||!c.autosnapshotEnabled||n.isPending||!h||!p||!o)return;(!m.current||!m.current.isSame(h))&&de.utc().isBefore(h)&&(m.current=h,n8(s,h,l,u,f));let I=h.diff(de.utc(),"millisecond");I<0&&(I=1e3),console.log(`Time until next auto-snapshot: ${I} ms`);const _=setTimeout(async()=>{var b;const S=y.current,k=(b=d.current)==null?void 0:b.nextAutoSnapshotAt;if(!S||!S.autoSnapshotProfileId||!k)return;const $=de.utc();if(k.isBefore($)||k.isSame($)){if(!S.autosnapshotEnabled||g.current)return;let M=null;try{M=await r.ensureQueryData(GD(S.autoSnapshotProfileId))}catch{s("Failed to take auto-snapshot profile request failed","error");return}if(!M){s("Failed to take auto-snapshot: No profile found","error");return}g.current=!0,console.log(`Taking auto-snapshot for profile ${M.name} at ${de.utc().format()}`),n.mutateAsync({profile:M??void 0,type:"auto"}).finally(()=>{g.current=!1})}},I);return()=>clearTimeout(_)},[h==null?void 0:h.valueOf(),p==null?void 0:p.valueOf(),c==null?void 0:c.autosnapshotEnabled,c==null?void 0:c.autoSnapshotProfileId,n.isPending,e,t,o]),null},n8=(e,t,n,r,s)=>{const i=r().filter(f=>{var a;return(a=f.id)==null?void 0:a.toString().startsWith("auto-snapshot-")});s(i.map(f=>f.id.toString()));const o=P.jsx(tD,{innerClassName:"text-white font-semibold text-sm space-x-1",prefix:`Auto-snapshot will be taken at ${t.local().format("HH:mm:ss")} `,formatFn:()=>de.utc().to(t)}),l=f=>P.jsx(r8,{toast:e,notificationCenter:f}),c=P.jsxs(HS,{className:"flex items-center gap-1 font-sans text-white cursor-pointer",to:s8("/poexchange/networth/tracking"),children:["Show Networth Page",P.jsx(qS,{className:"bg-blue-200",icon:"arrow-up-right.svg",width:20,height:20})]}),u={content:o,actions:l(!0),bottomAction:c};e(o,"info",{toastId:"auto-snapshot",notificationId:`auto-snapshot-${t.valueOf()}`,action:l(!1),notificationCenter:u,display:!1,delay:0})},r8=({toast:e,notificationCenter:t})=>{const{t:n}=an(),r=cn(l=>l.socket),s=Nr(kt),i=on(),o=Rx(i,s,r,e);return P.jsxs(AD,{children:[P.jsx(PD,{asChild:!0,children:P.jsx(Oa,{className:je("rounded-md w-8 h-8"),variant:t?"ghost":"outline",size:"icon",children:P.jsx(KD,{className:"w-4 h-4 shrink-0"})})}),P.jsxs(Ix,{children:[P.jsxs(_x,{children:[P.jsx(Ex,{children:"Disable Auto Snapshotting"}),P.jsx(Cx,{children:"Do you want to disable auto snapshotting? This will stop the automatic snapshots from being taken at the scheduled time."})]}),P.jsxs(Tx,{children:[P.jsx(Px,{children:n("action.cancel")}),P.jsxs(Ax,{disabled:o.isPending,onClick:()=>{o.mutate({data:{autosnapshotEnabled:!1}})},className:"flex items-center justify-center gap-1",children:["Confirm",o.isPending&&P.jsx(e8,{className:"animate-spin w-5 h-5 shrink-0"})]})]})]})]})};function s8(e){return window.location.pathname.match(/^\/(poe[0-9]*)/)?`/poe/${e}`.replace(/\/+/g,"/"):`/${e}`}const Dx=()=>{const{addPromiseNotification:e}=zi(Lr(t=>({addPromiseNotification:t.addPromiseNotification})));return e},i8=()=>{const e=Dx(),t=x.useRef({updatePendingMessage:void 0,updateSuccessMessage:void 0,updateErrorMessage:void 0}),n=x.useRef({updatePendingToast:void 0,updateSuccessToast:void 0,updateErrorToast:void 0}),r=x.useRef({pending:void 0,success:void 0,error:void 0});return{openToastPromise:s=>{let i,o;const l=f=>{f==="success"?i==null||i():o==null||o("Ignore this error. It's to show an error toast.")},c=(f,a)=>{const d=a??"pending";r.current[d]=f;const h=d==="pending"?t.current.updatePendingMessage:d==="success"?t.current.updateSuccessMessage:t.current.updateErrorMessage;h&&h(f),(d==="success"||d==="error")&&l(d)};n.current.updatePendingToast=f=>{t.current.updatePendingMessage=f};const u=Hi();return e({promise:new Promise((f,a)=>{i=f,o=a}),toastContent:{pending:{render:()=>P.jsx(a8,{type:"pending",initialMessage:s,updateMessageSetters:n.current}),type:"info",isLoading:!0,autoClose:!1,style:{background:`linear-gradient(to right, transparent 50%, rgba(var(${o8("info")}), 0.3) 100%)`}}},id:u}),c}}},o8=e=>{switch(e){case"info":return"--maxroll-color-blue";case"success":return"--maxroll-color-green";case"warning":return"--maxroll-color-orange";case"error":return"--maxroll-color-red";default:return}},a8=({initialMessage:e,updateMessageSetters:t,type:n})=>{const[r,s]=x.useState(e),i=x.useRef(s);return i.current=s,x.useEffect(()=>{var o,l,c;n==="pending"?(o=t.updatePendingToast)==null||o.call(t,u=>{i.current(u)}):n==="success"?(l=t.updateSuccessToast)==null||l.call(t,u=>{i.current(u)}):n==="error"&&((c=t.updateErrorToast)==null||c.call(t,u=>{i.current(u)}))},[n,t]),P.jsx("div",{className:"flex items-center justify-between gap-2 flex-1",children:P.jsx("div",{className:"flex-1",children:r})})},l8=[{tag:"allflame_ember",shards:0},{tag:"coffin",shards:0},{tag:"misc",shards:1},{tag:"vial",shards:1},{tag:"influenced_map",shards:1},{tag:"artifacts",shards:1},{tag:"delirium_orb",shards:1},{tag:"atlas_memory",shards:1},{tag:"invitation",shards:1},{tag:"runegraft",shards:1},{tag:"fossil",shards:1},{tag:"resonator",shards:1},{tag:"contract",shards:1},{tag:"logbook",shards:1},{tag:"breach",shards:1},{tag:"omen",shards:1},{tag:"catalyst",shards:1},{tag:"unique_relic",shards:1},{tag:"unique_map",shards:1},{tag:"beast",shards:1},{tag:"scouting_report",shards:1},{tag:"blueprint",shards:1},{tag:"essence",shards:1},{tag:"blighted_ravaged_map",shards:1},{tag:"fragment",shards:1},{tag:"oil",shards:1},{tag:"alva_temple",shards:1},{tag:"scarab",shards:1},{tag:"tattoo",shards:1},{tag:"corpse",shards:1},{tag:"blighted_map",shards:1},{tag:"currency",shards:1},{tag:"inscribed_ultimatum",shards:5},{tag:"reward_map",shards:5},{tag:"incubator",shards:1},{tag:"map",shards:5},{tag:"card",shards:5},{tag:"cluster",shards:12},{tag:"gem",shards:25},{tag:"unique",shards:50},{tag:"timeless_jewel",shards:50}],c8=(e,t)=>parseInt(e,16)%t,u8=e=>{const t=l8.find(n=>n.tag===e);return t&&(t==null?void 0:t.shards)>1?t.shards:0};let bc=class extends Error{constructor(n,r,s){super(r);Ve(this,"innerError");this.name=n,this.innerError=s}};const d8=e=>{const t=x.useContext(W0);if(!t)throw new Error("useNetworthTrackingStore must be use within NetworthTrackingStoreProvider");return Ja(t,e)},Nx=e=>{const t=on(e),n=x.useContext(Df);return x.useCallback((...r)=>{t.setQueryData(...r);const[s]=r;n==null||n.persistQueryByKey(s,t??e)},[n,t,e])},f8={isProcessing:!1,queue:[]},Fx=x.createContext({current:f8});function h8({children:e}){const t=x.useRef({isProcessing:!1,queue:[]});return P.jsx(Fx.Provider,{value:t,children:e})}let Gu=class extends Error{constructor(t="Mutation cancelled or queue full."){super(t),this.name="CancellationError"}};function p8(){const e=x.useContext(Fx),t=x.useCallback(async()=>{const{isProcessing:n,queue:r}=e.current;if(!(n||r.length===0)){for(e.current.isProcessing=!0;r.length>0;){const{mutationFn:s,resolve:i,reject:o}=r.shift();try{const l=await s();i(l)}catch(l){o(l)}await new Promise(l=>setTimeout(l,3e4))}e.current.isProcessing=!1}},[]);return x.useCallback(n=>new Promise((r,s)=>{const{isProcessing:i,queue:o}=e.current;if(o.length>=3){s(new Gu("Queue limit exceeded"));return}o.push({mutationFn:n,resolve:r,reject:s}),i||t()}),[t])}const pr={NETWORTH:{SETTINGS:{CHANGE:e=>`snapshot:settings:${e}:change`},PROFILE:{CHANGE:e=>`snapshot:profile:${e}:change`},PROFILES:{CHANGE:(e,t)=>`snapshot:profiles:${e}:${t}:change`},SNAPSHOT:{CHANGE:e=>`snapshot:snapshot:${e}:change`},PROFILE_SNAPSHOTS:{CHANGE:e=>`snapshot:profile:${e}:snapshots:change`},SESSION:{CHANGE:e=>`snapshot:session:${e}:change`},PROFILE_SESSIONS:{CHANGE:e=>`snapshot:profile:${e}:sessions:change`}}};function m8(e,t){const n={"snapshot-settings":({userId:r})=>["snapshot-settings",r],"networth-profiles":({userId:r,poe:s})=>["networth-profiles",r,s],"networth-profile":({profileId:r})=>["networth-profile",r],"profile-snapshots":({profileId:r})=>["profile-snapshots",r],snapshot:({snapshotId:r})=>["snapshot",r],"profile-sessions":({profileId:r})=>["profile-sessions",r],session:({sessionId:r})=>["session",r]}[e];return n(t)}function Rt(e,t){const n={"snapshot-settings":({userId:r})=>pr.NETWORTH.SETTINGS.CHANGE(r),"networth-profiles":({userId:r,poe:s})=>pr.NETWORTH.PROFILES.CHANGE(r,s),"networth-profile":({profileId:r})=>pr.NETWORTH.PROFILE.CHANGE(r),"profile-snapshots":({profileId:r})=>pr.NETWORTH.PROFILE_SNAPSHOTS.CHANGE(r),snapshot:({snapshotId:r})=>pr.NETWORTH.SNAPSHOT.CHANGE(r),session:({sessionId:r})=>pr.NETWORTH.SESSION.CHANGE(r),"profile-sessions":({profileId:r})=>pr.NETWORTH.PROFILE_SESSIONS.CHANGE(r)}[e];return n(t)}const $t=m8;function Wx(e,t){const n={"snapshot-settings":(r,s)=>{const i=$t("snapshot-settings",r);switch(s.mode){case"timeinfo":{const o=s.data;Ge.set(St,{lastSnapshotAt:o.lastSnapshotAt?de.utc(o.lastSnapshotAt):void 0,nextManualSnapshotAt:de.utc(o.nextManualSnapshotAt)});break}case"updated":case"invalidate":default:e.invalidateQueries({queryKey:i,exact:!0});break}},"networth-profiles":(r,s)=>{const i=$t("networth-profiles",r);switch(s.mode){case"added":{e.setQueryData(i,o=>o&&[s.data,...o]);break}case"updated":{e.setQueryData(i,o=>o&&o.map(l=>l.id===s.id?{...l,...s.data}:l));break}case"deleted":{e.setQueryData(i,o=>o&&o.filter(l=>l.id!==s.id));break}case"invalidate":default:e.invalidateQueries({queryKey:i,exact:!0});break}},"networth-profile":(r,s)=>{const i=$t("networth-profile",r);switch(s.mode){case"updated":{if("data"in s&&s.data){const o=s.data;e.setQueryData(i,l=>l&&{...l,...o})}else e.invalidateQueries({queryKey:i,exact:!0});break}case"deleted":{e.setQueryData(i,null);break}case"snapshot-changed":{const{mode:o,userId:l,poe:c,date:u}=s.data;e.setQueryData(i,f=>f&&{...f,lastSnapshotAt:o==="added"?u:f.lastSnapshotAt,snapshotCount:o==="added"?f.snapshotCount+1:f.snapshotCount-1,updatedAt:u}),e.setQueryData($t("networth-profiles",{userId:l,poe:c}),f=>f&&f.map(a=>a.id===r.profileId?{...a,lastSnapshotAt:o==="added"?u:a.lastSnapshotAt,snapshotCount:o==="added"?a.snapshotCount+1:a.snapshotCount-1,updatedAt:u}:a));break}case"session-changed":{const{mode:o,userId:l,poe:c,date:u}=s.data;e.setQueryData(i,f=>f&&{...f,sessionCount:o==="added"?f.sessionCount+1:f.sessionCount-1,updatedAt:u}),e.setQueryData($t("networth-profiles",{userId:l,poe:c}),f=>f&&f.map(a=>a.id===r.profileId?{...a,sessionCount:o==="added"?a.sessionCount+1:a.sessionCount-1,updatedAt:u}:a));break}case"invalidate":default:e.invalidateQueries({queryKey:i,exact:!0});break}},"profile-snapshots":(r,s)=>{const i=$t("profile-snapshots",r);switch(s.mode){case"added":{const o=s.data;if(!o)return;const l=jx(o);e.setQueryData(i,c=>{if(!c)return c;const u=[...c];return u.unshift(l),u});break}case"updated":{const o=s.data,l=QD(o);e.setQueryData(i,c=>c&&c.map(u=>u.id===s.id?{...u,...l}:u));break}case"patched":{const{id:o,patch:l}=s;e.setQueryData(i,c=>c&&c.map(u=>u.id===o?{...u,...l}:u));break}case"deleted":{const o=s.id;e.setQueryData(i,l=>l&&l.filter(c=>c.id!==o));break}case"invalidate":default:e.invalidateQueries({queryKey:i,exact:!0});break}},snapshot:(r,s)=>{const i=$t("snapshot",r);switch(s.mode){case"added":{const o=s.data;t(["snapshot",o.id],o);break}case"updated":{if(s.data){const o=s.data;t(i,l=>l&&{...l,...o})}else e.invalidateQueries({queryKey:i,exact:!0});break}case"deleted":{t(i,null);break}case"invalidate":default:e.invalidateQueries({queryKey:i,exact:!0});break}},"profile-sessions":(r,s)=>{const i=$t("profile-sessions",r);switch(s.mode){case"added":{const o=s.data;e.setQueryData(i,l=>l&&[...l,o]);break}case"updated":{const o=s.data,l=o.snapshotProfileId??r.profileId;e.setQueryData($t("profile-sessions",{profileId:l}),c=>c&&c.map(u=>u.id===o.id?{...u,...o}:u));break}case"deleted":{const o=s.id,l=s.profileId;e.setQueryData(i,c=>c&&c.filter(u=>u.id!==o)),e.setQueryData($t("profile-snapshots",{profileId:l}),c=>c&&c.map(u=>u.sessionId===o?{...u,sessionStart:!1,sessionEnd:!1,sessionId:null,totalSessionPrice:void 0,pricedStashTabs:u.pricedStashTabs.map(f=>({...f,totalSessionPrice:void 0}))}:u)),e.getQueriesData({queryKey:["snapshot"],exact:!1}).filter(([,c])=>(c==null?void 0:c.sessionId)===o).forEach(([c])=>{const u=c[1];t($t("snapshot",{snapshotId:u}),f=>f&&{...f,sessionStart:!1,sessionEnd:!1,sessionId:null,totalSessionPrice:void 0,stashTabs:f.stashTabs.map(a=>({...a,totalSessionPrice:void 0})),categoryItems:f.categoryItems.map(a=>({...a,totalSessionPrice:void 0})),detailItems:f.sessionDetailItems?f.detailItems===void 0?void 0:[]:f.detailItems})});break}case"invalidate":default:e.invalidateQueries({queryKey:i,exact:!0});break}},session:(r,s)=>{const i=$t("session",r);e.invalidateQueries({queryKey:i,exact:!0})}};return{apply:(r,s,i)=>n[r](s,i),buildQueryKey:$t}}const g8=(e,t)=>Wx(e,t).apply,y8=(e,t,n)=>{console.log("Add networth handler");const r=Wx(e,t),s=new Set(["snapshot-settings","networth-profiles","networth-profile","profile-snapshots","snapshot","profile-sessions"]),i=c=>{if(!c||!nt(c))return!0;const u=c[0],f=c[1];return typeof u=="string"&&s.has(u)&&f==null},o=c=>{if(i(c.queryKey))return;const{addSharedListener:u}=n(),f=c.queryKey[0],a=c.queryKey[1],d=c.queryKey[2],h=(p,m)=>u(p,p,c.queryHash,c.queryKey,m);switch(f){case"snapshot-settings":{const p=a;h(Rt("snapshot-settings",{userId:p}),(m,g)=>r.apply("snapshot-settings",{userId:p},g));break}case"networth-profiles":{const p=a,m=d;h(Rt("networth-profiles",{userId:p,poe:m}),(g,y)=>r.apply("networth-profiles",{userId:p,poe:m},y));break}case"networth-profile":{const p=a;h(Rt("networth-profile",{profileId:p}),(m,g)=>r.apply("networth-profile",{profileId:p},g));break}case"profile-snapshots":{const p=a;h(Rt("profile-snapshots",{profileId:p}),(m,g)=>r.apply("profile-snapshots",{profileId:p},g));break}case"snapshot":{const p=a;h(Rt("snapshot",{snapshotId:p}),(m,g)=>r.apply("snapshot",{snapshotId:p},g));break}case"profile-sessions":{const p=a;h(Rt("profile-sessions",{profileId:p}),(m,g)=>r.apply("profile-sessions",{profileId:p},g));break}}},l=new Set(["snapshot-settings","networth-profiles","networth-profile","profile-snapshots","snapshot","profile-sessions"]);return console.log("Register existing networth listeners"),e.getQueryCache().getAll().forEach(c=>{if(!nt(c.queryKey))return;const u=c.queryKey[0];typeof u=="string"&&l.has(u)&&o(c)}),console.log("Registered existing networth listeners"),{addNetworthListener:o,removeNetworthListener:c=>{if(i(c.queryKey))return;const{removeSharedListener:u}=n(),f=h=>u(h,h,c.queryHash),a=c.queryKey[1],d=c.queryKey[2];switch(c.queryKey[0]){case"snapshot-settings":{f(Rt("snapshot-settings",{userId:a}));break}case"networth-profiles":{f(Rt("networth-profiles",{userId:a,poe:d}));break}case"networth-profile":{f(Rt("networth-profile",{profileId:a}));break}case"profile-snapshots":{f(Rt("profile-snapshots",{profileId:a}));break}case"snapshot":{f(Rt("snapshot",{snapshotId:a}));break}}},applyNetworthChange:r.apply}};function b8(){this.__data__=new En,this.size=0}function v8(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function w8(e){return this.__data__.get(e)}function x8(e){return this.__data__.has(e)}var S8=200;function $8(e,t){var n=this.__data__;if(n instanceof En){var r=n.__data__;if(!Oi||r.length<S8-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Cn(r)}return n.set(e,t),this.size=n.size,this}function xn(e){var t=this.__data__=new En(e);this.size=t.size}xn.prototype.clear=b8;xn.prototype.delete=v8;xn.prototype.get=w8;xn.prototype.has=x8;xn.prototype.set=$8;function M8(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var k8=1,I8=2;function Ux(e,t,n,r,s,i){var o=n&k8,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),f=i.get(t);if(u&&f)return u==t&&f==e;var a=-1,d=!0,h=n&I8?new ji:void 0;for(i.set(e,t),i.set(t,e);++a<l;){var p=e[a],m=t[a];if(r)var g=o?r(m,p,a,t,e,i):r(p,m,a,e,t,i);if(g!==void 0){if(g)continue;d=!1;break}if(h){if(!M8(t,function(y,v){if(!D0(h,v)&&(p===y||s(p,y,n,r,i)))return h.push(v)})){d=!1;break}}else if(!(p===m||s(p,m,n,r,i))){d=!1;break}}return i.delete(e),i.delete(t),d}var Dg=Tn.Uint8Array;function _8(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}var T8=1,E8=2,C8="[object Boolean]",A8="[object Date]",P8="[object Error]",L8="[object Map]",O8="[object Number]",j8="[object RegExp]",R8="[object Set]",D8="[object String]",N8="[object Symbol]",F8="[object ArrayBuffer]",W8="[object DataView]",Ng=ar?ar.prototype:void 0,vc=Ng?Ng.valueOf:void 0;function U8(e,t,n,r,s,i,o){switch(n){case W8:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case F8:return!(e.byteLength!=t.byteLength||!i(new Dg(e),new Dg(t)));case C8:case A8:case O8:return R0(+e,+t);case P8:return e.name==t.name&&e.message==t.message;case j8:case D8:return e==t+"";case L8:var l=_8;case R8:var c=r&T8;if(l||(l=Rf),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=E8,o.set(e,t);var f=Ux(l(e),l(t),r,s,i,o);return o.delete(e),f;case N8:if(vc)return vc.call(e)==vc.call(t)}return!1}function V8(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}function B8(e,t,n){var r=t(e);return nt(e)?r:V8(r,n(e))}function z8(e,t){for(var n=-1,r=e==null?0:e.length,s=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[s++]=o)}return i}function H8(){return[]}var q8=Object.prototype,Q8=q8.propertyIsEnumerable,Fg=Object.getOwnPropertySymbols,X8=Fg?function(e){return e==null?[]:(e=Object(e),z8(Fg(e),function(t){return Q8.call(e,t)}))}:H8;function G8(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Ns(e){return e!=null&&typeof e=="object"}var J8="[object Arguments]";function Wg(e){return Ns(e)&&Ys(e)==J8}var Vx=Object.prototype,Y8=Vx.hasOwnProperty,K8=Vx.propertyIsEnumerable,Bx=Wg(function(){return arguments}())?Wg:function(e){return Ns(e)&&Y8.call(e,"callee")&&!K8.call(e,"callee")};function Z8(){return!1}var zx=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ug=zx&&typeof module=="object"&&module&&!module.nodeType&&module,eN=Ug&&Ug.exports===zx,Vg=eN?Tn.Buffer:void 0,tN=Vg?Vg.isBuffer:void 0,Ju=tN||Z8,nN=9007199254740991,rN=/^(?:0|[1-9]\d*)$/;function Hx(e,t){var n=typeof e;return t=t??nN,!!t&&(n=="number"||n!="symbol"&&rN.test(e))&&e>-1&&e%1==0&&e<t}var sN=9007199254740991;function Uf(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=sN}var iN="[object Arguments]",oN="[object Array]",aN="[object Boolean]",lN="[object Date]",cN="[object Error]",uN="[object Function]",dN="[object Map]",fN="[object Number]",hN="[object Object]",pN="[object RegExp]",mN="[object Set]",gN="[object String]",yN="[object WeakMap]",bN="[object ArrayBuffer]",vN="[object DataView]",wN="[object Float32Array]",xN="[object Float64Array]",SN="[object Int8Array]",$N="[object Int16Array]",MN="[object Int32Array]",kN="[object Uint8Array]",IN="[object Uint8ClampedArray]",_N="[object Uint16Array]",TN="[object Uint32Array]",Re={};Re[wN]=Re[xN]=Re[SN]=Re[$N]=Re[MN]=Re[kN]=Re[IN]=Re[_N]=Re[TN]=!0;Re[iN]=Re[oN]=Re[bN]=Re[aN]=Re[vN]=Re[lN]=Re[cN]=Re[uN]=Re[dN]=Re[fN]=Re[hN]=Re[pN]=Re[mN]=Re[gN]=Re[yN]=!1;function EN(e){return Ns(e)&&Uf(e.length)&&!!Re[Ys(e)]}function CN(e){return function(t){return e(t)}}var qx=typeof exports=="object"&&exports&&!exports.nodeType&&exports,vi=qx&&typeof module=="object"&&module&&!module.nodeType&&module,AN=vi&&vi.exports===qx,wc=AN&&L0.process,Bg=function(){try{var e=vi&&vi.require&&vi.require("util").types;return e||wc&&wc.binding&&wc.binding("util")}catch{}}(),zg=Bg&&Bg.isTypedArray,Qx=zg?CN(zg):EN,PN=Object.prototype,LN=PN.hasOwnProperty;function ON(e,t){var n=nt(e),r=!n&&Bx(e),s=!n&&!r&&Ju(e),i=!n&&!r&&!s&&Qx(e),o=n||r||s||i,l=o?G8(e.length,String):[],c=l.length;for(var u in e)LN.call(e,u)&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Hx(u,c)))&&l.push(u);return l}var jN=Object.prototype;function RN(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||jN;return e===n}function DN(e,t){return function(n){return e(t(n))}}var NN=DN(Object.keys,Object),FN=Object.prototype,WN=FN.hasOwnProperty;function UN(e){if(!RN(e))return NN(e);var t=[];for(var n in Object(e))WN.call(e,n)&&n!="constructor"&&t.push(n);return t}function Xx(e){return e!=null&&Uf(e.length)&&!j0(e)}function Vf(e){return Xx(e)?ON(e):UN(e)}function Hg(e){return B8(e,Vf,X8)}var VN=1,BN=Object.prototype,zN=BN.hasOwnProperty;function HN(e,t,n,r,s,i){var o=n&VN,l=Hg(e),c=l.length,u=Hg(t),f=u.length;if(c!=f&&!o)return!1;for(var a=c;a--;){var d=l[a];if(!(o?d in t:zN.call(t,d)))return!1}var h=i.get(e),p=i.get(t);if(h&&p)return h==t&&p==e;var m=!0;i.set(e,t),i.set(t,e);for(var g=o;++a<c;){d=l[a];var y=e[d],v=t[d];if(r)var I=o?r(v,y,d,t,e,i):r(y,v,d,e,t,i);if(!(I===void 0?y===v||s(y,v,n,r,i):I)){m=!1;break}g||(g=d=="constructor")}if(m&&!g){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(m=!1)}return i.delete(e),i.delete(t),m}var Yu=Vr(Tn,"DataView"),Ku=Vr(Tn,"Promise"),Zu=Vr(Tn,"WeakMap"),qg="[object Map]",qN="[object Object]",Qg="[object Promise]",Xg="[object Set]",Gg="[object WeakMap]",Jg="[object DataView]",QN=Ur(Yu),XN=Ur(Oi),GN=Ur(Ku),JN=Ur(cs),YN=Ur(Zu),Fn=Ys;(Yu&&Fn(new Yu(new ArrayBuffer(1)))!=Jg||Oi&&Fn(new Oi)!=qg||Ku&&Fn(Ku.resolve())!=Qg||cs&&Fn(new cs)!=Xg||Zu&&Fn(new Zu)!=Gg)&&(Fn=function(e){var t=Ys(e),n=t==qN?e.constructor:void 0,r=n?Ur(n):"";if(r)switch(r){case QN:return Jg;case XN:return qg;case GN:return Qg;case JN:return Xg;case YN:return Gg}return t});var KN=1,Yg="[object Arguments]",Kg="[object Array]",Eo="[object Object]",ZN=Object.prototype,Zg=ZN.hasOwnProperty;function e9(e,t,n,r,s,i){var o=nt(e),l=nt(t),c=o?Kg:Fn(e),u=l?Kg:Fn(t);c=c==Yg?Eo:c,u=u==Yg?Eo:u;var f=c==Eo,a=u==Eo,d=c==u;if(d&&Ju(e)){if(!Ju(t))return!1;o=!0,f=!1}if(d&&!f)return i||(i=new xn),o||Qx(e)?Ux(e,t,n,r,s,i):U8(e,t,c,n,r,s,i);if(!(n&KN)){var h=f&&Zg.call(e,"__wrapped__"),p=a&&Zg.call(t,"__wrapped__");if(h||p){var m=h?e.value():e,g=p?t.value():t;return i||(i=new xn),s(m,g,n,r,i)}}return d?(i||(i=new xn),HN(e,t,n,r,s,i)):!1}function Bf(e,t,n,r,s){return e===t?!0:e==null||t==null||!Ns(e)&&!Ns(t)?e!==e&&t!==t:e9(e,t,n,r,Bf,s)}var t9=1,n9=2;function r9(e,t,n,r){var s=n.length,i=s;if(e==null)return!i;for(e=Object(e);s--;){var o=n[s];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++s<i;){o=n[s];var l=o[0],c=e[l],u=o[1];if(o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new xn,a;if(!(a===void 0?Bf(u,c,t9|n9,r,f):a))return!1}}return!0}function Gx(e){return e===e&&!jf(e)}function s9(e){for(var t=Vf(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,Gx(s)]}return t}function Jx(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function i9(e){var t=s9(e);return t.length==1&&t[0][2]?Jx(t[0][0],t[0][1]):function(n){return n===e||r9(n,e,t)}}var o9="[object Symbol]";function zf(e){return typeof e=="symbol"||Ns(e)&&Ys(e)==o9}var a9=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l9=/^\w*$/;function Hf(e,t){if(nt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||zf(e)?!0:l9.test(e)||!a9.test(e)||t!=null&&e in Object(t)}var c9="Expected a function";function qf(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(c9);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=e.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(qf.Cache||Cn),n}qf.Cache=Cn;var u9=500;function d9(e){var t=qf(e,function(r){return n.size===u9&&n.clear(),r}),n=t.cache;return t}var f9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h9=/\\(\\)?/g,p9=d9(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(f9,function(n,r,s,i){t.push(s?i.replace(h9,"$1"):r||n)}),t});function m9(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var ey=ar?ar.prototype:void 0,ty=ey?ey.toString:void 0;function Yx(e){if(typeof e=="string")return e;if(nt(e))return m9(e,Yx)+"";if(zf(e))return ty?ty.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function g9(e){return e==null?"":Yx(e)}function Kx(e,t){return nt(e)?e:Hf(e,t)?[e]:p9(g9(e))}function ml(e){if(typeof e=="string"||zf(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Zx(e,t){t=Kx(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ml(t[n++])];return n&&n==r?e:void 0}function y9(e,t,n){var r=e==null?void 0:Zx(e,t);return r===void 0?n:r}function b9(e,t){return e!=null&&t in Object(e)}function v9(e,t,n){t=Kx(t,e);for(var r=-1,s=t.length,i=!1;++r<s;){var o=ml(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=s?i:(s=e==null?0:e.length,!!s&&Uf(s)&&Hx(o,s)&&(nt(e)||Bx(e)))}function w9(e,t){return e!=null&&v9(e,t,b9)}var x9=1,S9=2;function $9(e,t){return Hf(e)&&Gx(t)?Jx(ml(e),t):function(n){var r=y9(n,e);return r===void 0&&r===t?w9(n,e):Bf(t,r,x9|S9)}}function M9(e){return e}function k9(e){return function(t){return t==null?void 0:t[e]}}function I9(e){return function(t){return Zx(t,e)}}function _9(e){return Hf(e)?k9(ml(e)):I9(e)}function eS(e){return typeof e=="function"?e:e==null?M9:typeof e=="object"?nt(e)?$9(e[0],e[1]):i9(e):_9(e)}function T9(e,t){return e&&e.length?N0(e,eS(t)):[]}function E9(e,t,n,r){const s=Nx(e),i=x.useContext(Df),{openToastPromise:o}=i8(),l=cn(S=>S.socket),c=Yi(St),{disableLowConfidencePricing:u,priceThreshold:f,totalPriceThreshold:a,thresholdOperator:d}=d8(Lr(S=>({disableLowConfidencePricing:S.disableLowConfidencePricing,priceThreshold:S.priceThreshold,totalPriceThreshold:S.totalPriceThreshold,thresholdOperator:S.thresholdOperator}))),h=Rx(e,r,l,t),p=x.useRef(),m=C9(t),g=x.useCallback(async(S,k=3e4,$=1e3)=>{const b=Date.now();return new Promise((M,w)=>{const E=()=>{if(S.connected)return M();if(Date.now()-b>=k)return w(new Error("Socket did not reconnect in time"));setTimeout(E,$)};E()})},[]),y=x.useCallback(async(S,k,$,b=3)=>{var M;if(!S.connected){(M=p.current)==null||M.call(p,"Socket disconnected. Waiting to reconnect...");try{await g(S)}catch(w){console.error(w.message)}await $a(S)}return await DD(S,k,$)},[g]),v=x.useCallback(async({profile:S,type:k="manual",startSession:$})=>{var Je;if(!r||!S||!S.activeLeague||!S.activePriceLeague)throw new Error("You must be logged in and have a profile with a valid league selected. Initially logging in creates a default profile.");if(!S.activeStashTabs||S.activeStashTabs.length===0)throw new Error("You must have at least one active stash tab to create a snapshot.");if(!l.connected)throw new Error("Socket connection is not established. Please try again later or reload the page");if(p.current)throw new Error("A snapshot is already being created. Please wait until the current snapshot is finished.");p.current=o(`Creating snapshot for ${S.name}...`);const b=p.current;let M=0;const w=[];try{for(const G of S.activeStashTabs){M++,b(P.jsxs("div",{className:"flex flex-col",children:[P.jsx("span",{children:`Loading stash tab: ${G.name}`}),P.jsxs("span",{children:["(",M,"/",S.activeStashTabs.length,")"]})]}));const Y=up(n,r,S.activeLeague.id,G,!0,void 0,void 0,"temp-stash"),T=up(n,r,S.activeLeague.id,G);let A=e.getQueryCache().find({queryKey:T.queryKey});A||(e.setQueryData(T.queryKey,[]),A=e.getQueryCache().find({queryKey:T.queryKey})),A&&A.setState({...A.state,status:"pending",fetchStatus:"fetching"});let O=[];try{A?O=await e.fetchQuery({...Y,staleTime:2e4,gcTime:2e4}):O=await e.fetchQuery({...T})}catch(q){throw A&&A.setState({...A.state,error:q,errorUpdatedAt:Date.now(),errorUpdateCount:A.state.errorUpdateCount+1,fetchFailureCount:A.state.fetchFailureCount+1,status:"error",fetchStatus:"idle"}),q}A?(A.setOptions({...A.options,gcTime:5*60*1e3}),A.setState({...A.state,data:O,dataUpdatedAt:Date.now(),dataUpdateCount:A.state.dataUpdateCount+1,error:null,errorUpdatedAt:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:"success",fetchStatus:"idle"}),i==null||i.persistQueryByKey(T.queryKey,e)):(e.setQueryData(T.queryKey,O),i==null||i.persistQueryByKey(T.queryKey,e)),w.push(...O)}}catch(G){throw G instanceof Sd?(console.warn("Snapshot creation was cancelled:",G),new Error("Snapshot creation was cancelled")):(console.error("Error loading stash data:",G),G instanceof Zn&&((Je=G.response)==null?void 0:Je.status)===404?new bc("StashNotFound","Failed to load stash data",G):G instanceof Error?new bc("UnknownError","Failed to load stash data",G):new Error("Failed to load stash data"))}const E={},L=[];w.forEach(G=>{G.group&&(E[G.group.primary.tag]?E[G.group.primary.tag].push(G):E[G.group.primary.tag]=[G])});const Q=Object.entries(E),W=Q.map(([G,Y])=>{const T=u8(G);if(T<=1)return[G,[]];const A=Y.map(q=>c8(q.group.primary.hash,T)),O=T9(A,q=>q);return[G,O]});b("Loading item valuations...");const U=performance.now(),N=await Promise.all(W.map(async([G,Y])=>{let T={};if(Y.length>0){const A=await Promise.all(Y.map(q=>e.ensureQueryData(IE(S.activePriceLeague.id,G,q))));let O=!0;return T=A.reduce((q,J)=>{if(J&&J.valuations){const ie=Object.entries(J.valuations);ie.length===0?O=!1:ie.forEach(([he,we])=>{q[he]=we})}else O=!1;return q},{}),O?{meta:{timestampMs:Date.now(),league:S.activePriceLeague.id,tag:G},valuations:T}:e.ensureQueryData(ia(S.activePriceLeague.id,G))}else return e.ensureQueryData(ia(S.activePriceLeague.id,G))}));b("Grouping items..."),console.log(`Valuation data loaded in ${performance.now()-U}ms`);const H=Q.map(([G,Y])=>{var A;const T=(A=N.find(O=>O.meta.tag===G))==null?void 0:A.valuations;return T?Y.map(O=>T&&O.group&&T[O.group.primary.hash]?{...O,valuation:T[O.group.primary.hash]}:O):Y}).flat(),F=[];H.forEach(G=>{if(G){const Y=F.find(T=>T.stashTab.id===G.stash.id);Y?Y.valuation.push(G):F.push({stashTab:G.stash,valuation:[G]})}}),L.forEach(G=>{const Y=F.find(T=>T.stashTab.id===G.stash.id);Y?Y.valuation.push(G):F.push({stashTab:G.stash,valuation:[G]})}),b("Pricing items...");let Z=[];const te=G=>{if(!G.group)return[];const Y=G.group.primary.tag,T=Us.filter(O=>O.tags.includes(Y));if(!T)return[];const A=[];return T.forEach(O=>{var q,J,ie,he;A.push(O.id),((ie=O.filter)==null?void 0:ie.call(O,{primaryGroup:((q=O.getGroup)==null?void 0:q.call(O,G.group))||((J=G.group)==null?void 0:J.primary)}))!==!1&&((he=O.subCategories)==null||he.forEach(we=>{var Fe,_e,Ae;const Ce=(Ae=we.filter)==null?void 0:Ae.call(we,{primaryGroup:((Fe=we.getGroup)==null?void 0:Fe.call(we,G.group))||((_e=G.group)==null?void 0:_e.primary)});we.tags.includes(Y)&&(Ce??!0)&&A.push(we.id)}))}),A};Z=F.map(G=>{const Y=pI(G.stashTab);G.valuation.forEach(O=>{O.data.categoryIds=te(O)});const T=gI(G.valuation,Y,Hy),A=vI(T);return yI(A)}).flat();let ae=bI(Z);u&&(ae=ae.filter(G=>!G.valuation||!G.valuation.lowConfidence)),d==="AND"?(f||a)&&(ae=ae.filter(G=>{const Y=f?(G.calculatedPrice??0)>=f:!0,T=a?G.calculatedTotalPrice>=a:!0;return Y&&T})):(f&&(ae=ae.filter(G=>(G.calculatedPrice??0)>=f)),a&&(ae=ae.filter(G=>G.calculatedTotalPrice>=a))),b("Saving snapshot data...");const Me=Hi(),fe={id:Me,snapshotProfileId:S.id,poe:S.poe,characterId:void 0,characterName:void 0,sessionId:void 0,totalPrice:ae.reduce((G,Y)=>G+(Y.calculatedTotalPrice??0),0),pricedStashTabs:Xu(ae,G=>G.calculatedPrice||0)??[],pricedCategories:Rg(ae,G=>G.calculatedPrice||0)??[],detailItems:ae.map((G,Y)=>{var A,O,q,J,ie,he,we,Ce,Fe;const T={id:Y,sId:Me,hash:(A=G.primaryGroup)==null?void 0:A.hash,pHash:((O=G.priceGroup)==null?void 0:O.hash)===((q=G.primaryGroup)==null?void 0:q.hash)||(J=G.priceGroup)==null?void 0:J.hash,dN:G.displayName,i:G.icon.replaceAll("https://web.poecdn.com/gen/image/",""),hProps:(ie=G.primaryGroup)==null?void 0:ie.unsafeHashProperties,t:(he=G.primaryGroup)==null?void 0:he.tag,sTIds:G.stashTabs.map(_e=>_e.id),q:G.stackSize,p:G.calculatedPrice,isCP:!1,oP:G.originalPrice,isLc:((we=G.valuation)==null?void 0:we.lowConfidence)||!1,dPH:((Ce=G.valuation)==null?void 0:Ce.history.primaryValueDaily.slice(0,30))||[],hPH:((Fe=G.valuation)==null?void 0:Fe.history.primaryValueHourly.slice(0,24))||[],fT:G.frameType,items:G.items.map(_e=>{const Ae=By(_e);return Ae.i="",Ae})};return T.dPH.length>16&&(T.dPH=T.dPH.filter((_e,Ae)=>Ae%2===0)),T.hPH.length>12&&(T.hPH=T.hPH.filter((_e,Ae)=>Ae%2===0)),T})};let ye;if(S.baseSnapshotId){ye=ny(fe,S);const G=await e.ensureQueryData({...JD(S.baseSnapshotId),gcTime:20*60*1e3});if(G&&G.sessionStart){const Y=HD(G,ye);fe.totalSessionPrice=Y.totalPrice,ye.totalSessionPrice=Y.totalPrice;const T=Xu(Y.detailItems??[],O=>O.price||0);fe.pricedStashTabs.forEach(O=>{var q;O.totalSessionPrice=((q=T==null?void 0:T.find(J=>J.id===O.id))==null?void 0:q.totalPrice)??0}),ye.stashTabs.forEach(O=>{var q;O.totalSessionPrice=((q=T==null?void 0:T.find(J=>J.id===O.id))==null?void 0:q.totalPrice)??0}),T==null||T.forEach(O=>{if(fe.pricedStashTabs.find(q=>q.id===O.id)||fe.pricedStashTabs.push({...O,totalPrice:-O.totalPrice,totalSessionPrice:O.totalPrice}),!ye.stashTabs.find(q=>q.id===O.id)){const q=S.inactiveStashTabs.find(J=>J.id===O.id);if(!q)return;ye.stashTabs.push({id:q.id,tabId:q.tabId,index:q.index,name:q.name,type:q.type,metadata:q.metadata,items:q.items,parent:q.parent,children:q.children,totalPrice:-O.totalPrice,totalSessionPrice:O.totalPrice})}});const A=Rg(Y.detailItems,O=>O.price||0);fe.pricedCategories.forEach(O=>{var q;O.totalSessionPrice=((q=A==null?void 0:A.find(J=>J.id===O.id))==null?void 0:q.totalPrice)??0}),ye.categoryItems.forEach(O=>{var q;O.totalSessionPrice=((q=A==null?void 0:A.find(J=>J.id===O.id))==null?void 0:q.totalPrice)??0}),A==null||A.forEach(O=>{if(fe.pricedCategories.find(q=>q.id===O.id)||fe.pricedCategories.push({...O,totalPrice:-O.totalPrice,totalSessionPrice:O.totalPrice}),!ye.categoryItems.find(q=>q.id===O.id)){const q=tS(O.id,0);q&&(q.totalPrice=-O.totalPrice,q.totalSessionPrice=O.totalPrice,ye.categoryItems.push(q))}})}}const Le=await y(l,fe,k);return b("Snapshot created successfully!","success"),p.current=void 0,m(),{snapshotTimeInfo:Le,compressedSnapshot:fe,detailSnapshot:ye}},[r,l,o,u,d,y,m,n,e,i,f,a]),I=p8(),_=x.useCallback(async S=>await I(()=>v(S)),[v,I]);return Si({mutationKey:["create-snapshot"],mutationFn:_,onSuccess:(S,k)=>{var L,Q,W;const $=S.compressedSnapshot,b=k.profile;$.sessionId=(L=S.snapshotTimeInfo.data)==null?void 0:L.sessionId,S.detailSnapshot&&(S.detailSnapshot.sessionId=$.sessionId);const M=new Date,w=g8(e,s);w("snapshot",{snapshotId:$.id},{mode:"added",data:S.detailSnapshot??ny($,b)}),w("networth-profile",{profileId:(b==null?void 0:b.id)||""},{mode:"snapshot-changed",data:{mode:"added",userId:((Q=r==null?void 0:r.profile)==null?void 0:Q.uuid)||"",poe:(b==null?void 0:b.poe)||"poe1",date:S.snapshotTimeInfo.lastSnapshotAt||M}});const E=(W=e.getQueryData(["profile-snapshots",b==null?void 0:b.id]))==null?void 0:W[0];E&&b&&!de.utc(E.updatedAt).isSame(b.lastSnapshotAt,"minute")?e.invalidateQueries({queryKey:["profile-snapshots",b.id],exact:!0}):e.setQueryData(["profile-snapshots",b==null?void 0:b.id],U=>{if(!U)return;const N=[...U];return N.unshift({id:$.id,characterName:$.characterName,sessionId:$.sessionId,totalPrice:$.totalPrice,totalSessionPrice:$.totalSessionPrice,pricedStashTabs:[...$.pricedStashTabs],updatedAt:M,createdAt:M}),N})},onError:(S,k)=>{var $;try{if(!(S instanceof Ri)||!S.snapshotTimeInfoResult||S instanceof Gu){if(S instanceof Gu){console.warn("Snapshot creation was cancelled:",S);return}if(S instanceof bc)S.name==="StashNotFound"&&k.type==="auto"&&h.mutate({data:{autosnapshotEnabled:!1},type:"warning",reason:"Disabled autosnapshotting: Stash not found"});else{const M=de.utc();c(w=>{const E=w!=null&&w.nextManualSnapshotAt?w.nextManualSnapshotAt.isBefore(M)?de.utc().add(30,"seconds"):w.nextManualSnapshotAt:de.utc().add(3,"minutes");return{lastSnapshotAt:(w==null?void 0:w.lastSnapshotAt)||void 0,nextManualSnapshotAt:E,nextAutoSnapshotAt:k.type==="auto"?de.utc().add(15,"minutes"):void 0}})}}console.error("Error creating snapshot:",S);let b="An unknown error occurred while creating the snapshot";S instanceof Error&&(b=S.message),p.current&&(($=p.current)==null||$.call(p,b,"error")),t(b,"error")}finally{p.current=void 0}}})}const ny=(e,t)=>{const n=new Date;return{id:e.id,characterName:e.characterName,sessionId:e.sessionId,totalPrice:e.totalPrice,totalSessionPrice:e.totalSessionPrice,stashTabs:((t==null?void 0:t.activeStashTabs)||[]).map(r=>{var s;return{id:r.id,tabId:r.tabId,index:r.index,name:r.name,type:r.type,metadata:r.metadata,items:r.items,parent:r.parent,children:r.children,totalPrice:((s=e.pricedStashTabs.find(i=>i.id===r.id))==null?void 0:s.totalPrice)||0}}),categoryItems:e.pricedCategories.map(({id:r,totalPrice:s})=>tS(r,s)).filter(r=>r!==null),updatedAt:n,createdAt:n,detailItems:e.detailItems.map(r=>Lx(r))}},tS=(e,t)=>{let n=null,r;for(const s of Us){if(s.id===e){n=s;break}if(s.subCategories){const i=s.subCategories.find(o=>o.id===e);if(i){n=i,r=s.id;break}}}return n?{id:n.id,name:n.name,icon:n.icon,tags:n.tags,parentCategoryId:r||void 0,totalPrice:t||0}:null},C9=e=>{const[t,n,r,s]=zi(Lr(i=>[i.getNotifications,i.updateToast,i.updateNotification,i.remove]));return x.useCallback(()=>{var f,a;const i=t().filter(d=>{var h;return(h=d.id)==null?void 0:h.toString().startsWith("snapshot-created-")}),o=i.filter(d=>!d.read),l=i.filter(d=>d.read),c="Snapshot created successfully",u=o[0];if(u){let d=((a=(f=u.options)==null?void 0:f.data)==null?void 0:a.counter)||0;d++;let h="Snapshot created successfully";d>1&&(h+=` ( ${d})`),r(u==null?void 0:u.id,{notificationCenter:{content:h},options:{...u.options,data:{counter:d}}})}else e(c,"success",{toastId:"snapshot-created",notificationId:`snapshot-created-${Date.now()}`,delay:0,store:!0,display:!1,read:!1});l.length>0&&s(l.map(d=>d.id)),o.length>1&&s(o.slice(1).map(d=>d.id))},[t,r,e,s])};function A9({children:e}){const t=Ta(),n=Dx(),r=on(),s=cn(l=>l.poe),i=Nr(kt),o=E9(r,t,n,i);return t8(i,s,o),e}function P9({children:e,poe:t}){return P.jsx(h8,{children:P.jsx(Y4,{poe:t,children:P.jsx(A9,{children:e})})})}function L9({i18n:e,defaultNS:t,children:n}){const r=x.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return x.createElement(rv.Provider,{value:r},n)}const O9={en:{common:nM,notification:aM}},nS=Iy();F$("en",nS,O9);const Ge=kd(),kt=Ji(null);Ge.set(kt,null);const Qf=Ji($e.webapi.url);Ge.set(Qf,$e.webapi.url);const St=Ji(null);Ge.set(St,null);const j9=Ji({open:!1,type:"profile",action:"selectedProfile"});Ge.set(j9,{open:!1,type:"profile"});const R9=Ji(void 0);Ge.set(R9,void 0);const D9=e=>No(e,{auth:{token:$e.isClient?localStorage.getItem("doNotShareJwt"):""},withCredentials:!0,transports:["websocket","polling"],autoConnect:!1});function OU({children:e,overwriteWebApiUrl:t,overwritePoe:n}){return P.jsx(YE,{store:Ge,children:P.jsx(N9,{overwriteWebApiUrl:t,overwritePoe:n,children:e})})}function N9({children:e,overwriteWebApiUrl:t,overwritePoe:n}){const[r,s]=Ev(kt),i=ka(),o=x.useRef(!1);return x.useEffect(()=>{if(o.current)return;o.current=!0;const l=localStorage.getItem("doNotShareJwt");if(l)try{const c=uM(l);c&&(U9(c)?(localStorage.removeItem("doNotShareJwt"),s(null)):s(c))}catch(c){console.error("Error decoding jwt",c)}},[s,r]),!i&&!r?e:P.jsx(W9,{overwriteWebApiUrl:t,overwritePoe:n,children:e})}const F9=({overwriteWebApiUrl:e,children:t})=>{const n=Yi(Qf),r=x.useRef(null);return r.current||(r.current=D9(e||$e.webapi.url)),x.useEffect(()=>{e&&n(e)},[e,n]),t(r.current)};function W9({children:e,overwriteWebApiUrl:t,overwritePoe:n}){const{poe:r}=XS(),s=n||r,i=x.useMemo(()=>s==="poe2"?"poe2":"poe1",[s]);return W$(),P.jsx(L9,{i18n:nS,children:P.jsx(F9,{overwriteWebApiUrl:t,children:o=>P.jsx(JC,{children:P.jsx(G4,{poe:i,socket:o,children:P.jsxs(l7,{poe:i,socket:o,children:[i==="poe1"?P.jsx(P9,{poe:i,children:e}):e,P.jsx(V4,{}),P.jsx(eC,{})]})})})})})}function U9(e){if(!e.exp)return!1;const t=Math.floor(Date.now()/1e3);return e.exp<t}const ed=(e,t,n,r,s,i)=>`${e}:${t}:${n}:${r}:${s}:${i}`,jU=e=>ed(e.poe,e.league,e.userId,e.location,e.serviceCategory,e.serviceName),ry=e=>({userId:e[1],poe:e[2],league:e[3],serviceCategory:e[4],serviceName:e[5]}),V9=(e,t,n)=>{e.setQueriesData({queryKey:t,exact:!0},r=>{if(!r)return r;let s=r;return s=s.map(i=>{const o=ed(i.poe,i.league,i.userId,i.location,i.serviceCategory,i.serviceName),l=n.findIndex(c=>ed(c.poe,c.league,c.userId,c.location,c.serviceCategory,c.serviceName)===o);return l===-1?i:n.splice(l,1)[0]}),s.concat(n)})},B9=(e,t,n)=>{e.setQueriesData({queryKey:t,exact:!0},r=>{if(!r)return r;const s=r,i=s.findIndex(l=>l.id===n.id);if(i===-1)return s;const o=[...s];return o[i]=n,o})},z9=(e,t,n)=>{e.setQueriesData({queryKey:t,exact:!0},r=>r&&r.filter(s=>!n.includes(s.id)))},H9=(e,t,n)=>{e.setQueriesData({queryKey:t,exact:!0},r=>r&&r.map(s=>s.userId===n.userId?{...s,userStatus:n.status}:s))},q9=(e,t)=>{console.log("Add serviceListings handler");const n=(c,u)=>{V9(e,c,u)},r=(c,u)=>{B9(e,c,u)},s=(c,u)=>{z9(e,c,u)},i=(c,u)=>{H9(e,c,u)},o=c=>{if(nt(c.queryKey)&&c.queryKey[0]==="service-listings"){const u=ry(c.queryKey),f=`services-${u.poe}-${u.league}-${u.serviceCategory}-${u.serviceName}`,{addSharedListener:a}=t();a(f,`add-or-update:${f}`,c.queryHash,c.queryKey,n),a(f,`update:${f}`,c.queryHash,c.queryKey,r),a(f,`delete:${f}`,c.queryHash,c.queryKey,s),a(f,`status:${f}`,c.queryHash,c.queryKey,i)}},l=e.getQueryCache().find({queryKey:["service-listings"]});return l&&(console.warn("Already existing service-listings query adding serviceListingHandler",l),o(l)),{addServiceListingsListener:o,removeServiceListingsListener:c=>{if(nt(c.queryKey)&&c.queryKey[0]==="service-listings"){const u=ry(c.queryKey),f=`services-${u.poe}-${u.league}-${u.serviceCategory}-${u.serviceName}`,{removeSharedListener:a}=t();a(f,`add-or-update:${f}`,c.queryHash),a(f,`update:${f}`,c.queryHash),a(f,`delete:${f}`,c.queryHash),a(f,`status:${f}`,c.queryHash)}}}},sy=(e,t,n)=>{t.forEach(r=>{e.addEventListener(r,n)})},iy=(e,t,n)=>{t.forEach(r=>{e.removeEventListener(r,n)})};let Q9=class{constructor(t){Ve(this,"defaults");Ve(this,"settings");Ve(this,"visibilityEvents");Ve(this,"clearTimeout");Ve(this,"idle");Ve(this,"visible");Ve(this,"stopListener");Ve(this,"idlenessEventsHandler");Ve(this,"visibilityEventsHandler");this.defaults={idle:1e4,events:["mousemove","scroll","keydown","mousedown","touchstart"],onIdle:null,onActive:null,onHide:null,onShow:null,keepTracking:!0,startAtIdle:!1,recurIdleCall:!1},this.throwOnBadKey(Object.keys(t),Object.keys(this.defaults)),this.settings={...this.defaults,...t},this.visibilityEvents=["visibilitychange","webkitvisibilitychange","mozvisibilitychange","msvisibilitychange"],this.clearTimeout=null,this.reset(),this.stopListener=n=>{this.stop()},this.idlenessEventsHandler=n=>{this.idle&&(this.idle=!1,this.settings.onActive&&this.settings.onActive.call(this)),this.resetTimeout(this.settings)},this.visibilityEventsHandler=n=>{document&&(document.hidden||document.webkitHidden||document.mozHidden||document.msHidden)?this.visible&&(this.visible=!1,this.settings.onHide&&this.settings.onHide.call(this)):this.visible||(this.visible=!0,this.settings.onShow&&this.settings.onShow.call(this))}}resetTimeout(t,n=this.settings.keepTracking){this.clearTimeout&&(this.clearTimeout(),this.clearTimeout=null),n&&this.timeout(this.settings)}timeout(t){const n=this.settings.recurIdleCall?{set:setInterval.bind(window),clear:clearInterval.bind(window)}:{set:setTimeout.bind(window),clear:clearTimeout.bind(window)},r=n.set(()=>{this.idle=!0,this.settings.onIdle&&this.settings.onIdle.call(this)},this.settings.idle);this.clearTimeout=()=>n.clear(r)}start(){return window.addEventListener("idle:stop",this.stopListener),this.timeout(this.settings),sy(window,this.settings.events,this.idlenessEventsHandler),(this.settings.onShow||this.settings.onHide)&&sy(document,this.visibilityEvents,this.visibilityEventsHandler),this}stop(){return window.removeEventListener("idle:stop",this.stopListener),iy(window,this.settings.events,this.idlenessEventsHandler),this.resetTimeout(this.settings,!1),(this.settings.onShow||this.settings.onHide)&&iy(document,this.visibilityEvents,this.visibilityEventsHandler),this}reset({idle:t=this.settings.startAtIdle,visible:n=!this.settings.startAtIdle}={}){return this.idle=t,this.visible=n,this}throwOnBadKey(t,n){t.forEach(r=>{if(!n.includes(r))throw new Error(`set: Unknown key ${r}`)})}set(t){this.throwOnBadKey(Object.keys(t),Object.keys(this.defaults)),this.settings={...this.settings,...t}}};const oy=18e5,X9=3e5;var ay=function(){try{var e=Vr(Object,"defineProperty");return e({},"",{}),e}catch{}}();function G9(e,t,n){t=="__proto__"&&ay?ay(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function J9(e,t,n,r){for(var s=-1,i=e==null?0:e.length;++s<i;){var o=e[s];t(r,o,n(o),e)}return r}function Y9(e){return function(t,n,r){for(var s=-1,i=Object(t),o=r(t),l=o.length;l--;){var c=o[++s];if(n(i[c],c,i)===!1)break}return t}}var K9=Y9();function Z9(e,t){return e&&K9(e,t,Vf)}function e7(e,t){return function(n,r){if(n==null)return n;if(!Xx(n))return e(n,r);for(var s=n.length,i=-1,o=Object(n);++i<s&&r(o[i],i,o)!==!1;);return n}}var t7=e7(Z9);function n7(e,t,n,r){return t7(e,function(s,i,o){t(r,s,n(s),o)}),r}function r7(e,t){return function(n,r){var s=nt(n)?J9:n7,i={};return s(n,e,eS(r),i)}}var s7=Object.prototype,i7=s7.hasOwnProperty,o7=r7(function(e,t,n){i7.call(e,n)?e[n].push(t):G9(e,n,[t])});const a7=(e,t,n,r)=>{const s={poe:n,leaguePoe1:El("poe1")[0],leaguePoe2:El("poe2")[0],mainIgnsPoe1:{},mainIgnsPoe2:{},confirmedIgnsPoe1:{},connected:r.connected,getDisconnected:!1,sharedEventListeners:new Map,sharedRooms:[],tabId:Hi(),tabActive:!0};localStorage.setItem("currentTabId",s.tabId);const i=_d()(Id((v,I)=>({...s,socket:r,setPoe:_=>v({poe:_}),setLeague:(_,S)=>v(()=>_==="poe1"?{leaguePoe1:S}:{leaguePoe2:S}),setMainIgn:_=>v(S=>S.poe==="poe1"?{mainIgnsPoe1:{...S.mainIgnsPoe1,[S.leaguePoe1]:_}}:{mainIgnsPoe2:{...S.mainIgnsPoe2,[S.leaguePoe2]:_}}),setConfirmedIgn:_=>v(S=>({confirmedIgnsPoe1:{...S.confirmedIgnsPoe1,[S.leaguePoe1]:_}})),setMainIgnPending:_=>v({mainIgnPending:_}),addSharedListener:(_,S,k,$,b)=>{const{sharedRooms:M,sharedEventListeners:w}=I();if(M.some(N=>N.room===_&&N.event===S&&N.queryHash===k))return;const E=[...M],L=new Map(w),Q=`${_}:${S}`;let W=L.get(Q),U=!1;W||(W=N=>{I().sharedRooms.filter(H=>H.room===_&&H.event===S).forEach(H=>H.listener(H.queryKey,N))},L.set(Q,W),U=!0),E.push({room:_,event:S,queryHash:k,queryKey:$,listener:b}),v({sharedRooms:E,sharedEventListeners:L}),o.schedule(),U&&W&&r.on(S,W)},removeSharedListener:(_,S,k)=>{const{sharedRooms:$,sharedEventListeners:b,connected:M}=I();if(!$.some(Q=>Q.room===_&&Q.event===S&&Q.queryHash===k))return;const w=$.filter(Q=>!(Q.room===_&&Q.event===S&&Q.queryHash===k)),E=new Map(b),L=`${_}:${S}`;if(v({sharedRooms:w,sharedEventListeners:E}),o.schedule(),I().sharedRooms.filter(Q=>Q.room===_&&Q.event===S).length===0){const Q=E.get(L);Q&&(r.off(S,Q),E.delete(L),v({sharedEventListeners:new Map(E)}))}},setCurrentTabActive:()=>v(_=>_.tabActive?_:(localStorage.setItem("currentTabId",_.tabId),{tabActive:!0})),initTabListener:()=>{const{tabId:_}=I();window.addEventListener("storage",S=>{S.key==="currentTabId"&&(S.newValue===_?!I().tabActive:I().tabActive)&&v({tabActive:S.newValue===_})})}}),{name:"poexchange-ui-state-store",storage:Ga(()=>localStorage),migrate:(v,I)=>I<2?{...v,leaguePoe1:El("poe1")[0],mainIgnsPoe1:{},confirmedIgnsPoe1:{}}:v,partialize:v=>({leaguePoe1:v.leaguePoe1,leaguePoe2:v.leaguePoe2,mainIgnsPoe1:v.mainIgnsPoe1,mainIgnsPoe2:v.mainIgnsPoe2,confirmedIgnsPoe1:v.confirmedIgnsPoe1}),version:2})),o=(()=>{const v=new Set;let I=!1;const _=(S=40)=>{I||(I=!0,setTimeout(()=>{I=!1;const k=i.getState(),$=Array.from(new Set(k.sharedRooms.map(w=>w.room))).filter(w=>w!=="user"),b=$.filter(w=>!v.has(w)),M=Array.from(v).filter(w=>!$.includes(w));if(b.length>0&&k.connected&&!r.recovered)try{console.log("Subscribing to",b),r.emit("subscribe",[...b]),b.forEach(w=>v.add(w))}catch{}if(M.length>0&&k.connected)try{console.log("Unsubscribing from",M),r.emit("unsubscribe",[...M]),M.forEach(w=>v.delete(w))}catch{}},S))};return{schedule:_,forceSync:()=>{I=!1,_(0)},subscribed:v}})();if(!$e.isClient)return i;const l=e.getQueryCache(),{addCacheListener:c,removeCacheListener:u}=RL(e,i.getState),{addMyVouchCountListener:f,removeMyVouchCountListener:a}=jL(e,i.getState),{addServiceListingsListener:d,removeServiceListingsListener:h}=q9(e,i.getState),{addNetworthListener:p,removeNetworthListener:m}=y8(e,t,i.getState),g=[c,f,d,p],y=[u,a,h,m];if(l.subscribe(v=>{v.type==="added"?g.forEach(I=>I(v.query)):v.type==="removed"&&y.forEach(I=>I(v.query))}),r.auth=v=>{v({token:$e.isClient?localStorage.getItem("doNotShareJwt"):""})},r.connect().on("connect",async()=>{const{sharedRooms:v,getDisconnected:I}=i.getState(),_=Object.keys(o7(v,"room")).filter(S=>S!=="user");_.length>0&&!r.recovered&&(console.log("Resubsccribe to",[..._]),r.emit("subscribe",[..._])),r.onAny((S,...k)=>{console.log("Socket event received:",S,k)}),I&&await $a(r),i.setState({connected:!0,getDisconnected:!1})}).on("disconnect",()=>{i.setState({connected:!1,getDisconnected:!0}),Ge.set(St,v=>({lastSnapshotAt:v==null?void 0:v.lastSnapshotAt,nextManualSnapshotAt:(v==null?void 0:v.nextManualSnapshotAt)??de.utc().add(10,"seconds"),nextAutoSnapshotAt:void 0}))}),$e.isClient){let v=Date.now();setInterval(()=>{Date.now()-v<oy&&r.emit("userActive")},X9),document==null||document.addEventListener("mousemove",()=>{v=Date.now(),i.getState().setCurrentTabActive()}),document==null||document.addEventListener("keydown",()=>{v=Date.now(),i.getState().setCurrentTabActive()}),document==null||document.addEventListener("mousedown",()=>{v=Date.now(),i.getState().setCurrentTabActive()}),document==null||document.addEventListener("touchstart",()=>{v=Date.now(),i.getState().setCurrentTabActive()}),new Q9({idle:oy,events:["mousemove","keydown","mousedown","touchstart"],onIdle:function(){r.emit("userIdle")},onActive:function(){r.emit("userActive")},onHide:function(){},onShow:function(){},keepTracking:!0,startAtIdle:!1}).start()}return i},rS=x.createContext(null),l7=({children:e,poe:t,socket:n})=>{const r=on(),s=Nx(r),i=x.useRef();return i.current||(i.current=a7(r,s,t,n)),x.useEffect(()=>{i.current&&i.current.getState().initTabListener()},[t,n]),P.jsx(rS.Provider,{value:i.current,children:e})},cn=e=>{const t=x.useContext(rS);if(!t)throw new Error("uiStateStoreContext must be use within UiStateStoreProvider");return Ja(t,e)};export{sW as $,mD as A,pi as B,qs as C,lr as D,nr as E,M7 as F,on as G,an as H,hD as I,Ta as J,iW as K,Nr as L,bD as M,_d as N,fD as O,GP as P,Id as Q,Ga as R,As as S,gD as T,de as U,Aa as V,Rv as W,Wv as X,_W as Y,G7 as Z,Yi as _,yD as a,KS as a$,uM as a0,Zn as a1,tr as a2,Uv as a3,CW as a4,e8 as a5,Wp as a6,m3 as a7,EW as a8,Hi as a9,VT as aA,zT as aB,A$ as aC,rv as aD,EL as aE,ss as aF,Tn as aG,zf as aH,jf as aI,pb as aJ,_5 as aK,jU as aL,cW as aM,GD as aN,CU as aO,lW as aP,aW as aQ,T9 as aR,uW as aS,Dx as aT,St as aU,XD as aV,MU as aW,kU as aX,UW as aY,zW as aZ,xb as a_,_i as aa,NW as ab,Yd as ac,BW as ad,vu as ae,GL as af,Qd as ag,Xd as ah,Gd as ai,E5 as aj,Jd as ak,I5 as al,$W as am,Xw as an,Gw as ao,_u as ap,Hd as aq,NA as ar,PL as as,Ja as at,e3 as au,xW as av,Fs as aw,qc as ax,E$ as ay,Er as az,JP as b,Sf as b$,kE as b0,V7 as b1,AD as b2,Zw as b3,Ix as b4,_x as b5,Ex as b6,Cx as b7,Tx as b8,Ax as b9,PW as bA,wW as bB,Nv as bC,Fo as bD,yb as bE,gU as bF,$5 as bG,yU as bH,dm as bI,QL as bJ,HL as bK,DW as bL,LL as bM,ZP as bN,Ya as bO,gb as bP,v3 as bQ,FW as bR,Np as bS,Pp as bT,VW as bU,j9 as bV,R9 as bW,IU as bX,oW as bY,B7 as bZ,EF as b_,$e as ba,Tk as bb,Ek as bc,q7 as bd,Tu as be,tD as bf,Fv as bg,up as bh,pI as bi,gI as bj,AF as bk,vI as bl,yI as bm,bI as bn,ia as bo,Hy as bp,U0 as bq,zR as br,g0 as bs,Ei as bt,Ac as bu,S5 as bv,fW as bw,li as bx,Pc as by,AW as bz,o7 as c,ji as c$,_6 as c0,RR as c1,n0 as c2,Pa as c3,tl as c4,Fd as c5,bw as c6,qv as c7,Ed as c8,mw as c9,b5 as cA,kg as cB,P6 as cC,z1 as cD,W1 as cE,dO as cF,nW as cG,JD as cH,qD as cI,HD as cJ,TU as cK,EU as cL,PD as cM,RD as cN,d8 as cO,_U as cP,Px as cQ,Yr as cR,jW as cS,Nx as cT,g8 as cU,$U as cV,WW as cW,LW as cX,h3 as cY,Ge as cZ,iI as c_,gw as ca,Ud as cb,nl as cc,pw as cd,$7 as ce,SW as cf,OU as cg,Pe as ch,W7 as ci,R1 as cj,KO as ck,wn as cl,yj as cm,hR as cn,Be as co,rf as cp,ft as cq,Sj as cr,xj as cs,js as ct,lf as cu,vn as cv,g5 as cw,Xe as cx,L6 as cy,v5 as cz,Ji as d,O4 as d0,D0 as d1,ar as d2,V8 as d3,ay as d4,M9 as d5,Ns as d6,Xx as d7,E9 as d8,AU as d9,Q7 as da,X7 as db,H7 as dc,z7 as dd,U7 as de,dW as df,yn as dg,Qy as dh,jk as di,TF as dj,CF as dk,kt as e,Oa as f,Dw as g,Us as h,El as i,La as j,tI as k,Ev as l,cn as m,je as n,rW as o,Lr as p,Bv as q,Ki as r,Wd as s,gt as t,vt as u,Ze as v,ix as w,pD as x,Si as y,rt as z};
