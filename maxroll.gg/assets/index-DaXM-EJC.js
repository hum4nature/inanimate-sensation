import{r,o as ne}from"./jsx-runtime-BmCkTyBI.js";import{R as me}from"./index-B7uSRlxY.js";import{N,s as I,a as he,u as re,b as D,c as j,d as q,l as pe,D as ae,e as J,R as we,f as ve,g as Se,h as ie,i as x,j as ge,I as ye,k as Re,m as be,n as $}from"./index-DQDlNFz_.js";/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T(){return T=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},T.apply(this,arguments)}function X(e,a){if(e==null)return{};var t={},i=Object.keys(e),n,s;for(s=0;s<i.length;s++)n=i[s],!(a.indexOf(n)>=0)&&(t[n]=e[n]);return t}const V="get",Y="application/x-www-form-urlencoded";function B(e){return e!=null&&typeof e.tagName=="string"}function Ee(e){return B(e)&&e.tagName.toLowerCase()==="button"}function Te(e){return B(e)&&e.tagName.toLowerCase()==="form"}function Ce(e){return B(e)&&e.tagName.toLowerCase()==="input"}function Le(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xe(e,a){return e.button===0&&(!a||a==="_self")&&!Le(e)}function G(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((a,t)=>{let i=e[t];return a.concat(Array.isArray(i)?i.map(n=>[t,n]):[[t,i]])},[]))}function Pe(e,a){let t=G(e);return a&&a.forEach((i,n)=>{t.has(n)||a.getAll(n).forEach(s=>{t.append(n,s)})}),t}let M=null;function Fe(){if(M===null)try{new FormData(document.createElement("form"),0),M=!1}catch{M=!0}return M}const Ie=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function z(e){return e!=null&&!Ie.has(e)?null:e}function Ae(e,a){let t,i,n,s,l;if(Te(e)){let u=e.getAttribute("action");i=u?I(u,a):null,t=e.getAttribute("method")||V,n=z(e.getAttribute("enctype"))||Y,s=new FormData(e)}else if(Ee(e)||Ce(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(i=f?I(f,a):null,t=e.getAttribute("formmethod")||u.getAttribute("method")||V,n=z(e.getAttribute("formenctype"))||z(u.getAttribute("enctype"))||Y,s=new FormData(u,e),!Fe()){let{name:o,type:c,value:h}=e;if(c==="image"){let d=o?o+".":"";s.append(d+"x","0"),s.append(d+"y","0")}else o&&s.append(o,h)}}else{if(B(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=V,i=null,n=Y,l=e}return s&&n==="text/plain"&&(l=s,s=void 0),{action:i,method:t.toLowerCase(),encType:n,formData:s,body:l}}const Ue=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ke=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Ne=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"],De="6";try{window.__reactRouterVersion=De}catch{}const oe=r.createContext({isTransitioning:!1}),se=r.createContext(new Map),_e="startTransition",Q=ne[_e],Oe="flushSync",Z=me[Oe],Me="useId",ee=ne[Me];function Ke(e){Q?Q(e):e()}function k(e){Z?Z(e):e()}class Ve{constructor(){this.status="pending",this.promise=new Promise((a,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",a(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}}function nt(e){let{fallbackElement:a,router:t,future:i}=e,[n,s]=r.useState(t.state),[l,u]=r.useState(),[f,o]=r.useState({isTransitioning:!1}),[c,h]=r.useState(),[d,g]=r.useState(),[S,b]=r.useState(),y=r.useRef(new Map),{v7_startTransition:E}=i||{},m=r.useCallback(v=>{E?Ke(v):v()},[E]),p=r.useCallback((v,C)=>{let{deletedFetchers:R,flushSync:O,viewTransitionOpts:P}=C;R.forEach(F=>y.current.delete(F)),v.fetchers.forEach((F,de)=>{F.data!==void 0&&y.current.set(de,F.data)});let fe=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!P||fe){O?k(()=>s(v)):m(()=>s(v));return}if(O){k(()=>{d&&(c&&c.resolve(),d.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let F=t.window.document.startViewTransition(()=>{k(()=>s(v))});F.finished.finally(()=>{k(()=>{h(void 0),g(void 0),u(void 0),o({isTransitioning:!1})})}),k(()=>g(F));return}d?(c&&c.resolve(),d.skipTransition(),b({state:v,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(u(v),o({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[t.window,d,c,y,m]);r.useLayoutEffect(()=>t.subscribe(p),[t,p]),r.useEffect(()=>{f.isTransitioning&&!f.flushSync&&h(new Ve)},[f]),r.useEffect(()=>{if(c&&l&&t.window){let v=l,C=c.promise,R=t.window.document.startViewTransition(async()=>{m(()=>s(v)),await C});R.finished.finally(()=>{h(void 0),g(void 0),u(void 0),o({isTransitioning:!1})}),g(R)}},[m,l,c,t.window]),r.useEffect(()=>{c&&l&&n.location.key===l.location.key&&c.resolve()},[c,d,n.location,l]),r.useEffect(()=>{!f.isTransitioning&&S&&(u(S.state),o({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),b(void 0))},[f.isTransitioning,S]),r.useEffect(()=>{},[]);let w=r.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:v=>t.navigate(v),push:(v,C,R)=>t.navigate(v,{state:C,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(v,C,R)=>t.navigate(v,{replace:!0,state:C,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[t]),L=t.basename||"/",U=r.useMemo(()=>({router:t,navigator:w,static:!1,basename:L}),[t,w,L]),_=r.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return r.useEffect(()=>pe(i,t.future),[i,t.future]),r.createElement(r.Fragment,null,r.createElement(ae.Provider,{value:U},r.createElement(J.Provider,{value:n},r.createElement(se.Provider,{value:y.current},r.createElement(oe.Provider,{value:f},r.createElement(we,{basename:L,location:n.location,navigationType:n.historyAction,navigator:w,future:_},n.initialized||t.future.v7_partialHydration?r.createElement(We,{routes:t.routes,future:t.future,state:n}):a))))),null)}const We=r.memo(je);function je(e){let{routes:a,future:t,state:i}=e;return ve(a,void 0,i,t)}const Be=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",He=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=r.forwardRef(function(a,t){let{onClick:i,relative:n,reloadDocument:s,replace:l,state:u,target:f,to:o,preventScrollReset:c,viewTransition:h}=a,d=X(a,Ue),{basename:g}=r.useContext(N),S,b=!1;if(typeof o=="string"&&He.test(o)&&(S=o,Be))try{let p=new URL(window.location.href),w=o.startsWith("//")?new URL(p.protocol+o):new URL(o),L=I(w.pathname,g);w.origin===p.origin&&L!=null?o=L+w.search+w.hash:b=!0}catch{}let y=he(o,{relative:n}),E=qe(o,{replace:l,state:u,target:f,preventScrollReset:c,relative:n,viewTransition:h});function m(p){i&&i(p),p.defaultPrevented||E(p)}return r.createElement("a",T({},d,{href:S||y,onClick:b||s?i:m,ref:t,target:f}))}),rt=r.forwardRef(function(a,t){let{"aria-current":i="page",caseSensitive:n=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:o,children:c}=a,h=X(a,ke),d=j(f,{relative:h.relative}),g=D(),S=r.useContext(J),{navigator:b,basename:y}=r.useContext(N),E=S!=null&&Qe(d)&&o===!0,m=b.encodeLocation?b.encodeLocation(d).pathname:d.pathname,p=g.pathname,w=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(p=p.toLowerCase(),w=w?w.toLowerCase():null,m=m.toLowerCase()),w&&y&&(w=I(w,y)||w);const L=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let U=p===m||!l&&p.startsWith(m)&&p.charAt(L)==="/",_=w!=null&&(w===m||!l&&w.startsWith(m)&&w.charAt(m.length)==="/"),v={isActive:U,isPending:_,isTransitioning:E},C=U?i:void 0,R;typeof s=="function"?R=s(v):R=[s,U?"active":null,_?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(v):u;return r.createElement(Ye,T({},h,{"aria-current":C,className:R,ref:t,style:O,to:f,viewTransition:o}),typeof c=="function"?c(v):c)}),ze=r.forwardRef((e,a)=>{let{fetcherKey:t,navigate:i,reloadDocument:n,replace:s,state:l,method:u=V,action:f,onSubmit:o,relative:c,preventScrollReset:h,viewTransition:d}=e,g=X(e,Ne),S=ce(),b=Xe(f,{relative:c}),y=u.toLowerCase()==="get"?"get":"post",E=m=>{if(o&&o(m),m.defaultPrevented)return;m.preventDefault();let p=m.nativeEvent.submitter,w=(p==null?void 0:p.getAttribute("formmethod"))||u;S(p||m.currentTarget,{fetcherKey:t,method:w,navigate:i,replace:s,state:l,relative:c,preventScrollReset:h,viewTransition:d})};return r.createElement("form",T({ref:a,method:y,action:b,onSubmit:n?o:E},g))});var A;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(A||(A={}));var W;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(W||(W={}));function H(e){let a=r.useContext(ae);return a||x(!1),a}function le(e){let a=r.useContext(J);return a||x(!1),a}function qe(e,a){let{target:t,replace:i,state:n,preventScrollReset:s,relative:l,viewTransition:u}=a===void 0?{}:a,f=re(),o=D(),c=j(e,{relative:l});return r.useCallback(h=>{if(xe(h,t)){h.preventDefault();let d=i!==void 0?i:q(o)===q(c);f(e,{replace:d,state:n,preventScrollReset:s,relative:l,viewTransition:u})}},[o,f,c,i,n,t,e,s,l,u])}function at(e){let a=r.useRef(G(e)),t=r.useRef(!1),i=D(),n=r.useMemo(()=>Pe(i.search,t.current?null:a.current),[i.search]),s=re(),l=r.useCallback((u,f)=>{const o=G(typeof u=="function"?u(n):u);t.current=!0,s("?"+o,f)},[s,n]);return[n,l]}function Ge(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let Je=0,ue=()=>"__"+String(++Je)+"__";function ce(){let{router:e}=H(A.UseSubmit),{basename:a}=r.useContext(N),t=Se();return r.useCallback(function(i,n){n===void 0&&(n={}),Ge();let{action:s,method:l,encType:u,formData:f,body:o}=Ae(i,a);if(n.navigate===!1){let c=n.fetcherKey||ue();e.fetch(c,t,n.action||s,{preventScrollReset:n.preventScrollReset,formData:f,body:o,formMethod:n.method||l,formEncType:n.encType||u,flushSync:n.flushSync})}else e.navigate(n.action||s,{preventScrollReset:n.preventScrollReset,formData:f,body:o,formMethod:n.method||l,formEncType:n.encType||u,replace:n.replace,state:n.state,fromRouteId:t,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,a,t])}function Xe(e,a){let{relative:t}=a===void 0?{}:a,{basename:i}=r.useContext(N),n=r.useContext(ie);n||x(!1);let[s]=n.matches.slice(-1),l=T({},j(e||".",{relative:t})),u=D();if(e==null){l.search=u.search;let f=new URLSearchParams(l.search),o=f.getAll("index");if(o.some(h=>h==="")){f.delete("index"),o.filter(d=>d).forEach(d=>f.append("index",d));let h=f.toString();l.search=h?"?"+h:""}}return(!e||e===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(l.pathname=l.pathname==="/"?i:ge([i,l.pathname])),q(l)}function it(e){var a;let{key:t}=e===void 0?{}:e,{router:i}=H(A.UseFetcher),n=le(W.UseFetcher),s=r.useContext(se),l=r.useContext(ie),u=(a=l.matches[l.matches.length-1])==null?void 0:a.route.id;s||x(!1),l||x(!1),u==null&&x(!1);let f=ee?ee():"",[o,c]=r.useState(t||f);t&&t!==o?c(t):o||c(ue()),r.useEffect(()=>(i.getFetcher(o),()=>{i.deleteFetcher(o)}),[i,o]);let h=r.useCallback((m,p)=>{u||x(!1),i.fetch(o,u,m,p)},[o,u,i]),d=ce(),g=r.useCallback((m,p)=>{d(m,T({},p,{navigate:!1,fetcherKey:o}))},[o,d]),S=r.useMemo(()=>r.forwardRef((p,w)=>r.createElement(ze,T({},p,{navigate:!1,fetcherKey:o,ref:w}))),[o]),b=n.fetchers.get(o)||ye,y=s.get(o);return r.useMemo(()=>T({Form:S,submit:g,load:h},b,{data:y}),[S,g,h,b,y])}const te="react-router-scroll-positions";let K={};function ot(e){let{getKey:a,storageKey:t}=e===void 0?{}:e,{router:i}=H(A.UseScrollRestoration),{restoreScrollPosition:n,preventScrollReset:s}=le(W.UseScrollRestoration),{basename:l}=r.useContext(N),u=D(),f=Re(),o=be();r.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),$e(r.useCallback(()=>{if(o.state==="idle"){let c=(a?a(u,f):null)||u.key;K[c]=window.scrollY}try{sessionStorage.setItem(t||te,JSON.stringify(K))}catch{}window.history.scrollRestoration="auto"},[t,a,o.state,u,f])),typeof document<"u"&&(r.useLayoutEffect(()=>{try{let c=sessionStorage.getItem(t||te);c&&(K=JSON.parse(c))}catch{}},[t]),r.useLayoutEffect(()=>{let c=a&&l!=="/"?(d,g)=>a(T({},d,{pathname:I(d.pathname,l)||d.pathname}),g):a,h=i==null?void 0:i.enableScrollRestoration(K,()=>window.scrollY,c);return()=>h&&h()},[i,l,a]),r.useLayoutEffect(()=>{if(n!==!1){if(typeof n=="number"){window.scrollTo(0,n);return}if(u.hash){let c=document.getElementById(decodeURIComponent(u.hash.slice(1)));if(c){c.scrollIntoView();return}}s!==!0&&window.scrollTo(0,0)}},[u,n,s]))}function $e(e,a){let{capture:t}={};r.useEffect(()=>{let i=t!=null?{capture:t}:void 0;return window.addEventListener("pagehide",e,i),()=>{window.removeEventListener("pagehide",e,i)}},[e,t])}function Qe(e,a){a===void 0&&(a={});let t=r.useContext(oe);t==null&&x(!1);let{basename:i}=H(A.useViewTransitionState),n=j(e,{relative:a.relative});if(!t.isTransitioning)return!1;let s=I(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=I(t.nextLocation.pathname,i)||t.nextLocation.pathname;return $(n.pathname,l)!=null||$(n.pathname,s)!=null}export{ze as F,Ye as L,rt as N,nt as R,it as a,ot as b,at as u};
