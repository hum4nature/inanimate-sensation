import{s as $}from"./use-search-client-2uPrn7lb.js";function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(n){H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H(e,t,r){return t=N(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e){var t=x(e,"string");return m(t)==="symbol"?t:String(t)}function x(e,t){if(m(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(m(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F(e,t){return K(e)||C(e,t)||_(e,t)||M()}function M(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(e,t){if(e){if(typeof e=="string")return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}}function P(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,p,c,o=[],u=!0,a=!1;try{if(p=(r=r.call(e)).next,t!==0)for(;!(u=(n=p.call(r)).done)&&(o.push(n.value),o.length!==t);u=!0);}catch(f){a=!0,i=f}finally{try{if(!u&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(a)throw i}}return o}}function K(e){if(Array.isArray(e))return e}function m(e){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(e)}function B(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,r=[],n=0;n<Math.ceil(e.length/t);n++)r.push(e.slice(n*t,(n+1)*t));return r}function T(e){var t=e.index,r=e.widgetType;e.methodName;var n=e.args,i=e.instantSearchInstance;if(n.length===1&&m(n[0])==="object")return[n[0]];var p=n[0].split(":"),c=F(p,2),o=c[0],u=c[1],a=n[1],f=n[2],b=n[3]||{};if(!a)return[];if((o==="click"||o==="conversion")&&!f)return[];var l=Array.isArray(a)?a:[a];if(l.length===0)return[];var S=l[0].__queryID,v=B(l),h=v.map(function(y){return y.map(function(s){return s.objectID})}),A=v.map(function(y){return y.map(function(s){return s.__position})});return o==="view"?i.status!=="idle"?[]:v.map(function(y,s){return{insightsMethod:"viewedObjectIDs",widgetType:r,eventType:o,payload:O({eventName:f||"Hits Viewed",index:t,objectIDs:h[s]},b),hits:y,eventModifier:u}}):o==="click"?v.map(function(y,s){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:r,eventType:o,payload:O({eventName:f||"Hit Clicked",index:t,queryID:S,objectIDs:h[s],positions:A[s]},b),hits:y,eventModifier:u}}):o==="conversion"?v.map(function(y,s){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:r,eventType:o,payload:O({eventName:f||"Hit Converted",index:t,queryID:S,objectIDs:h[s]},b),hits:y,eventModifier:u}}):[]}function W(e){var t=e.instantSearchInstance,r=e.index,n=e.widgetType,i={},p=void 0,c=function(){for(var u=arguments.length,a=new Array(u),f=0;f<u;f++)a[f]=arguments[f];var b=T({widgetType:n,index:r,methodName:"sendEvent",args:a,instantSearchInstance:t});b.forEach(function(l){l.eventType==="click"&&l.eventModifier==="internal"&&i[l.eventType]||(i[l.eventType]=!0,t.sendEventToInsights(l))}),clearTimeout(p),p=setTimeout(function(){i={}},0)};return c}function G(e){var t=e.index,r=e.widgetType,n=e.instantSearchInstance,i=function(){for(var c=arguments.length,o=new Array(c),u=0;u<c;u++)o[u]=arguments[u];var a=T({widgetType:r,index:t,methodName:"bindEvent",args:o,instantSearchInstance:n});return a.length?"data-insights-event=".concat($(a)):""};return i}function d(e){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q(e,t,r){return t=z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e){var t=L(e,"string");return d(t)==="symbol"?t:String(t)}function L(e,t){if(d(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(d(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J(e,t,r){return e.map(function(n,i){return D(D({},n),{},{__position:r*t+i+1})})}function g(e){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(e)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(n){Q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q(e,t,r){return t=R(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){var t=U(e,"string");return g(t)==="symbol"?t:String(t)}function U(e,t){if(g(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X(e,t){return t?e.map(function(r){return E(E({},r),{},{__queryID:t})}):e}export{G as a,J as b,W as c,X as d};
