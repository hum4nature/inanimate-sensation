import{k as C,i as z,l as Ut,c as Fe,m as Wt,o as W,n as U,u as Ht,s as Dt,h as Lt,E as Ft,p as Mt,q as kt,r as Kt,t as Qt,v as qt}from"./use-search-client-2uPrn7lb.js";import{r as Q,g as Bt,a as Ke}from"./jsx-runtime-BmCkTyBI.js";import{s as Vt}from"./index-D6xxO2Tw.js";const Ee="7.3.0";function mt(t){var e=C.highlightPreTag,r=C.highlightPostTag;return t.map(function(n){return n.isHighlighted?e+n.value+r:n.value}).join("")}function Ie(t,e){var r=t[e.getIndexId()]||{};e.getHelper().setState(e.getWidgetSearchParameters(e.getHelper().state,{uiState:r})),e.getWidgets().filter(z).forEach(function(n){return Ie(t,n)})}var zt=Promise.resolve();function Z(t){var e=null,r=!1,n=function(){for(var a=arguments.length,u=new Array(a),s=0;s<a;s++)u[s]=arguments[s];e===null&&(e=zt.then(function(){if(e=null,r){r=!1;return}t.apply(void 0,u)}))};return n.wait=function(){if(e===null)throw new Error("The deferred function should be called before calling `wait()`");return e},n.cancel=function(){e!==null&&(r=!0)},n}function Jt(t,e){for(var r,n=0;n<t.length;n++)if(r=t[n],e(r,n,t))return r}function Gt(t,e){if(!Array.isArray(t))return-1;for(var r=0;r<t.length;r++)if(e(t[r]))return r;return-1}function Xt(t){if(t.transporter){var e=t.transporter,r=e.headers,n=e.queryParameters,i="x-algolia-application-id",a="x-algolia-api-key",u=r[i]||n[i],s=r[a]||n[a];return[u,s]}else return[t.applicationID,t.apiKey]}function pt(t){var e=C.highlightPostTag,r=C.highlightPreTag,n=t.split(r),i=n.shift(),a=i?[{value:i,isHighlighted:!1}]:[];return n.forEach(function(u){var s=u.split(e);a.push({value:s[0],isHighlighted:!0}),s[1]!==""&&a.push({value:s[1],isHighlighted:!1})}),a}var Yt=new RegExp(/\w/i);function Zt(t,e){var r,n,i=t[e],a=((r=t[e+1])===null||r===void 0?void 0:r.isHighlighted)||!0,u=((n=t[e-1])===null||n===void 0?void 0:n.isHighlighted)||!0;return!Yt.test(Ut(i.value))&&u===a?u:i.isHighlighted}function _e(t,e){var r=Array.isArray(e)?e:e.split(".");return r.reduce(function(n,i){return n&&n[i]},t)}function ae(t){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(t)}function Qe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qe(Object(r),!0).forEach(function(n){yt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yt(t,e,r){return e=er(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function er(t){var e=tr(t,"string");return ae(e)==="symbol"?e:String(e)}function tr(t,e){if(ae(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ae(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rr(t,e){if(e&&!((!t.transporter||t._cacheHydrated)&&(!t._useCache||typeof t.addAlgoliaAgent!="function"))){if(t.transporter&&!t._cacheHydrated){t._cacheHydrated=!0;var r=t.search;t.search=function(i){for(var a=arguments.length,u=new Array(a>1?a-1:0),s=1;s<a;s++)u[s-1]=arguments[s];var c=i.map(function(o){return ye(ye({},o),{},{params:nr(o.params)})});return t.transporter.responsesCache.get({method:"search",args:[c].concat(u)},function(){return r.apply(void 0,[i].concat(u))})},t.transporter.responsesCache.set({method:"search",args:[Object.keys(e).reduce(function(i,a){return i.concat(e[a].results.map(function(u){return{indexName:u.index,params:u.params}}))},[])]},{results:Object.keys(e).reduce(function(i,a){return i.concat(e[a].results)},[])})}if(!t.transporter){var n="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:Object.keys(e).reduce(function(i,a){return i.concat(e[a].rawResults.map(function(u){return{indexName:u.index,params:u.params}}))},[])}));t.cache=ye(ye({},t.cache),{},yt({},n,JSON.stringify({results:Object.keys(e).reduce(function(i,a){return i.concat(e[a].rawResults)},[])})))}}}function nr(t){var e=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},r=function(i){for(var a=arguments.length,u=new Array(a>1?a-1:0),s=1;s<a;s++)u[s-1]=arguments[s];var c=0;return i.replace(/%s/g,function(){return encodeURIComponent(u[c++])})};return Object.keys(t).map(function(n){return r("%s=%s",n,e(t[n])?JSON.stringify(t[n]):t[n])}).join("&")}function ir(t){return t.filter(function(e,r,n){return n.indexOf(e)===r})}function oe(t){"@babel/helpers - typeof";return oe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(t)}var ar=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function qe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qe(Object(r),!0).forEach(function(n){or(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function or(t,e,r){return e=ur(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ur(t){var e=sr(t,"string");return oe(e)==="symbol"?e:String(e)}function sr(t,e){if(oe(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(oe(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cr(t,e){if(t==null)return{};var r=lr(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lr(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var fr=function(e,r){r.facets,r.disjunctiveFacets,r.facetsRefinements,r.facetsExcludes,r.disjunctiveFacetsRefinements,r.numericRefinements,r.tagRefinements,r.hierarchicalFacets,r.hierarchicalFacetsRefinements,r.ruleContexts;var n=cr(r,ar);return e.setQueryParameters(n)},dr=function(e,r){return r.facets.reduce(function(n,i){return n.addFacet(i)},e)},hr=function(e,r){return r.disjunctiveFacets.reduce(function(n,i){return n.addDisjunctiveFacet(i)},e)},gr=function(e,r){return e.setQueryParameters({hierarchicalFacets:r.hierarchicalFacets.reduce(function(n,i){var a=Gt(n,function(s){return s.name===i.name});if(a===-1)return n.concat(i);var u=n.slice();return u.splice(a,1,i),u},e.hierarchicalFacets)})},mr=function(e,r){return r.tagRefinements.reduce(function(n,i){return n.addTagRefinement(i)},e)},pr=function(e,r){return e.setQueryParameters({facetsRefinements:F(F({},e.facetsRefinements),r.facetsRefinements)})},yr=function(e,r){return e.setQueryParameters({facetsExcludes:F(F({},e.facetsExcludes),r.facetsExcludes)})},vr=function(e,r){return e.setQueryParameters({disjunctiveFacetsRefinements:F(F({},e.disjunctiveFacetsRefinements),r.disjunctiveFacetsRefinements)})},br=function(e,r){return e.setQueryParameters({numericRefinements:F(F({},e.numericRefinements),r.numericRefinements)})},Sr=function(e,r){return e.setQueryParameters({hierarchicalFacetsRefinements:F(F({},e.hierarchicalFacetsRefinements),r.hierarchicalFacetsRefinements)})},wr=function(e,r){var n=ir([].concat(e.ruleContexts).concat(r.ruleContexts).filter(Boolean));return n.length>0?e.setQueryParameters({ruleContexts:n}):e},we=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.reduce(function(i,a){var u=Sr(i,a),s=gr(u,a),c=mr(s,a),o=br(c,a),l=vr(o,a),h=yr(l,a),m=pr(h,a),f=hr(m,a),g=wr(f,a),d=dr(g,a);return fr(d,a)})};function ne(t,e,r){var n=e.getHelper();return{uiState:r,helper:n,parent:e,instantSearchInstance:t,state:n.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,scopedResults:[],searchMetadata:{isSearchStalled:t.status==="stalled"},status:t.status,error:t.error}}function Be(t,e){var r=e.getResults(),n=e.getHelper();return{helper:n,parent:e,instantSearchInstance:t,results:r,scopedResults:e.getScopedResults(),state:r?r._state:n.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,searchMetadata:{isSearchStalled:t.status==="stalled"},status:t.status,error:t.error}}function Or(t){for(var e=t.getParent(),r=[t.getHelper().state];e!==null;)r=[e.getHelper().state].concat(r),e=e.getParent();return r}function ue(t){"@babel/helpers - typeof";return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(t)}function Ve(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ve(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ve(Object(r),!0).forEach(function(n){Pr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pr(t,e,r){return e=_r(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _r(t){var e=$r(t,"string");return ue(e)==="symbol"?e:String(e)}function $r(t,e){if(ue(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ue(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vt(t){return t.some(function(e){return e.isHighlighted})?t.map(function(e,r){return ve(ve({},e),{},{isHighlighted:!Zt(t,r)})}):t.map(function(e){return ve(ve({},e),{},{isHighlighted:!1})})}function K(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},r=e.fallback;return typeof window>"u"?r():t({window})}function se(t){"@babel/helpers - typeof";return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(t)}function ze(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ze(Object(r),!0).forEach(function(n){bt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ze(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bt(t,e,r){return e=Rr(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rr(t){var e=xr(t,"string");return se(e)==="symbol"?e:String(e)}function xr(t,e){if(se(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(se(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jr=Fe({name:"configure",connector:!0});function Je(t,e){return t.setQueryParameters(Object.keys(e.searchParameters).reduce(function(r,n){return j(j({},r),{},bt({},n,void 0))},{}))}var Tr=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U;return function(n){if(!n||!Wt(n.searchParameters))throw new Error(jr("The `searchParameters` option expects an object."));var i={};function a(u){return function(s){var c=Je(u.state,n),o=we(c,new W.SearchParameters(s));n.searchParameters=s,u.setState(o).search()}}return{$$type:"ais.configure",init:function(s){var c=s.instantSearchInstance;e(j(j({},this.getWidgetRenderState(s)),{},{instantSearchInstance:c}),!0)},render:function(s){var c=s.instantSearchInstance;e(j(j({},this.getWidgetRenderState(s)),{},{instantSearchInstance:c}),!1)},dispose:function(s){var c=s.state;return r(),Je(c,n)},getRenderState:function(s,c){var o,l=this.getWidgetRenderState(c);return j(j({},s),{},{configure:j(j({},l),{},{widgetParams:j(j({},l.widgetParams),{},{searchParameters:we(new W.SearchParameters((o=s.configure)===null||o===void 0?void 0:o.widgetParams.searchParameters),new W.SearchParameters(l.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(s){var c=s.helper;return i.refine||(i.refine=a(c)),{refine:i.refine,widgetParams:n}},getWidgetSearchParameters:function(s,c){var o=c.uiState;return we(s,new W.SearchParameters(j(j({},o.configure),n.searchParameters)))},getWidgetUiState:function(s){return j(j({},s),{},{configure:j(j({},s.configure),n.searchParameters)})}}}};function Er(t,e){return Ht(Tr,{searchParameters:t},e)}function Vi(t){return Er(t,{$$widgetType:"ais.configure"}),null}function ce(t){"@babel/helpers - typeof";return ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(t)}var Ir=["initialSearchParameters"];function Ge(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function L(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ge(Object(r),!0).forEach(function(n){J(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J(t,e,r){return e=Ar(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ar(t){var e=Cr(t,"string");return ce(e)==="symbol"?e:String(e)}function Cr(t,e){if(ce(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ce(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function St(t){return Hr(t)||Wr(t)||Ur(t)||Nr()}function Nr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ur(t,e){if(t){if(typeof t=="string")return Ae(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ae(t,e)}}function Wr(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hr(t){if(Array.isArray(t))return Ae(t)}function Ae(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dr(t,e){if(t==null)return{};var r=Lr(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lr(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var ee=Fe({name:"index-widget"});function wt(t,e){var r=e.state,n=e.isPageReset,i=e._uiState;r!==t.state&&(t.state=r,t.emit("change",{state:t.state,results:t.lastResults,isPageReset:n,_uiState:i}))}function te(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.reduce(function(n,i){return z(i)||!i.getWidgetUiState&&!i.getWidgetState?n:i.getWidgetUiState?i.getWidgetUiState(n,e):i.getWidgetState(n,e)},r)}function re(t,e){var r=e.initialSearchParameters,n=Dr(e,Ir);return t.filter(function(i){return!z(i)}).reduce(function(i,a){return a.getWidgetSearchParameters?a.getWidgetSearchParameters(i,n):i},r)}function Ot(t){var e=t.filter(z);e.length!==0&&e.forEach(function(r){var n=r.getHelper();wt(n,{state:n.state.resetPage(),isPageReset:!0}),Ot(r.getWidgets())})}function Pt(t){var e=t.filter(z);return e.reduce(function(r,n){return r.concat.apply(r,[{indexId:n.getIndexId(),results:n.getResults(),helper:n.getHelper()}].concat(St(Pt(n.getWidgets()))))},[])}var Fr=function(e){if(e===void 0||e.indexName===void 0)throw new Error(ee("The `indexName` option is required."));var r=e.indexName,n=e.indexId,i=n===void 0?r:n,a=[],u={},s=null,c=null,o=null,l=null,h=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return r},getIndexId:function(){return i},getHelper:function(){return o},getResults:function(){var f;return(f=l)!==null&&f!==void 0&&f.lastResults?(l.lastResults._state=o.state,l.lastResults):null},getPreviousState:function(){return h},getScopedResults:function(){var f=this.getParent(),g=f?f.getWidgets():[this];return Pt(g)},getParent:function(){return c},createURL:function(f){return typeof f=="function"?s._createURL(J({},i,f(u))):s._createURL(J({},i,te(a,{searchParameters:f,helper:o})))},getWidgets:function(){return a},addWidgets:function(f){var g=this;if(!Array.isArray(f))throw new Error(ee("The `addWidgets` method expects an array of widgets."));if(f.some(function(d){return typeof d.init!="function"&&typeof d.render!="function"}))throw new Error(ee("The widget definition expects a `render` and/or an `init` method."));return a=a.concat(f),s&&f.length&&(wt(o,{state:re(a,{uiState:u,initialSearchParameters:o.state}),_uiState:u}),f.forEach(function(d){if(d.getRenderState){var p=d.getRenderState(s.renderState[g.getIndexId()]||{},ne(s,g,s._initialUiState));Re({renderState:p,instantSearchInstance:s,parent:g})}}),f.forEach(function(d){d.init&&d.init(ne(s,g,s._initialUiState))}),s.scheduleSearch()),this},removeWidgets:function(f){var g=this;if(!Array.isArray(f))throw new Error(ee("The `removeWidgets` method expects an array of widgets."));if(f.some(function(b){return typeof b.dispose!="function"}))throw new Error(ee("The widget definition expects a `dispose` method."));if(a=a.filter(function(b){return f.indexOf(b)===-1}),s&&f.length){var d=f.reduce(function(b,w){var $=w.dispose({helper:o,state:b,parent:g});return $||b},o.state),p=s.future.preserveSharedStateOnUnmount?re(a,{uiState:u,initialSearchParameters:new W.SearchParameters({index:this.getIndexName()})}):re(a,{uiState:te(a,{searchParameters:d,helper:o}),initialSearchParameters:d});u=te(a,{searchParameters:p,helper:o}),o.setState(p),a.length&&s.scheduleSearch()}return this},init:function(f){var g=this,d,p=f.instantSearchInstance,b=f.parent,w=f.uiState;if(o===null){s=p,c=b,u=w[i]||{};var $=p.mainHelper,I=re(a,{uiState:u,initialSearchParameters:new W.SearchParameters({index:r})});o=W({},I.index,I),o.search=function(){return p.onStateChange?(p.onStateChange({uiState:p.mainIndex.getWidgetUiState({}),setUiState:function(y){return p.setUiState(y,!1)}}),$):$.search()},o.searchWithoutTriggeringOnStateChange=function(){return $.search()},o.searchForFacetValues=function(v,y,x,N){var _=o.state.setQueryParameters(N);return $.searchForFacetValues(v,y,x,_)},l=$.derive(function(){return we.apply(void 0,[$.state].concat(St(Or(g))))});var R=(d=p._initialResults)===null||d===void 0?void 0:d[this.getIndexId()];if(R){var P=new W.SearchResults(new W.SearchParameters(R.state),R.results);l.lastResults=P,o.lastResults=P}o.on("change",function(v){var y=v.isPageReset;y&&Ot(a)}),l.on("search",function(){p.scheduleStalledRender()}),l.on("result",function(v){var y=v.results;p.scheduleRender(),o.lastResults=y,h=y==null?void 0:y._state}),a.forEach(function(v){if(v.getRenderState){var y=v.getRenderState(p.renderState[g.getIndexId()]||{},ne(p,g,w));Re({renderState:y,instantSearchInstance:p,parent:g})}}),a.forEach(function(v){v.init&&v.init(ne(p,g,w))}),o.on("change",function(v){var y=v.state,x=v._uiState;u=te(a,{searchParameters:y,helper:o},x||{}),p.onStateChange||p.onInternalStateChange()}),R&&p.scheduleRender()}},render:function(f){var g=this,d=f.instantSearchInstance;d.status==="error"&&!d.mainHelper.hasPendingRequests()&&h&&o.setState(h);var p=this.getResults()?a:a.filter(z);p.forEach(function(b){if(b.getRenderState){var w=b.getRenderState(d.renderState[g.getIndexId()]||{},Be(d,g));Re({renderState:w,instantSearchInstance:d,parent:g})}}),p.forEach(function(b){b.render&&b.render(Be(d,g))})},dispose:function(){var f=this,g,d;a.forEach(function(p){p.dispose&&p.dispose({helper:o,state:o.state,parent:f})}),s=null,c=null,(g=o)===null||g===void 0||g.removeAllListeners(),o=null,(d=l)===null||d===void 0||d.detach(),l=null},getWidgetUiState:function(f){return a.filter(z).reduce(function(g,d){return d.getWidgetUiState(g)},L(L({},f),{},J({},i,L(L({},f[i]),u))))},getWidgetState:function(f){return this.getWidgetUiState(f)},getWidgetSearchParameters:function(f,g){var d=g.uiState;return re(a,{uiState:d,initialSearchParameters:f})},refreshUiState:function(){u=te(a,{searchParameters:this.getHelper().state,helper:this.getHelper()},u)},setIndexUiState:function(f){var g=typeof f=="function"?f(u):f;s.setUiState(function(d){return L(L({},d),{},J({},i,g))})}}};function Re(t){var e=t.renderState,r=t.instantSearchInstance,n=t.parent,i=n?n.getIndexId():r.mainIndex.getIndexId();r.renderState=L(L({},r.renderState),{},J({},i,L(L({},r.renderState[i]),e)))}function Mr(t,e){return qr(t)||Qr(t,e)||Kr(t,e)||kr()}function kr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kr(t,e){if(t){if(typeof t=="string")return Xe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xe(t,e)}}function Xe(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qr(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,u,s=[],c=!0,o=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(l){o=!0,i=l}finally{try{if(!c&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(o)throw i}}return s}}function qr(t){if(Array.isArray(t))return t}function Br(){var t=Q.useReducer(function(n){return n+1},0),e=Mr(t,2),r=e[1];return r}var Vr=Q.createContext(null);function zr(){return Q.useContext(Vr)}var Jr="ais",$e=function(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.descendantName,i=r.modifierName,a=n?"-".concat(n):"",u=i?"--".concat(i):"";return"".concat(Jr,"-").concat(e).concat(a).concat(u)}},Gr=$e("Highlight");function Xr(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,u=a===void 0?{}:a,s=_e(i._highlightResult,e),c=s||{},o=c.value,l=o===void 0?"":o,h=Gr({descendantName:"highlighted"})+(u.highlighted?" ".concat(u.highlighted):"");return l.replace(new RegExp(C.highlightPreTag,"g"),"<".concat(n,' class="').concat(h,'">')).replace(new RegExp(C.highlightPostTag,"g"),"</".concat(n,">"))}var Yr=$e("ReverseHighlight");function Zr(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,u=a===void 0?{}:a,s=_e(i._highlightResult,e),c=s||{},o=c.value,l=o===void 0?"":o,h=Yr({descendantName:"highlighted"})+(u.highlighted?" ".concat(u.highlighted):""),m=mt(vt(pt(l)));return m.replace(new RegExp(C.highlightPreTag,"g"),"<".concat(n,' class="').concat(h,'">')).replace(new RegExp(C.highlightPostTag,"g"),"</".concat(n,">"))}var en=$e("Snippet");function tn(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,u=a===void 0?{}:a,s=_e(i._snippetResult,e),c=s||{},o=c.value,l=o===void 0?"":o,h=en({descendantName:"highlighted"})+(u.highlighted?" ".concat(u.highlighted):"");return l.replace(new RegExp(C.highlightPreTag,"g"),"<".concat(n,' class="').concat(h,'">')).replace(new RegExp(C.highlightPostTag,"g"),"</".concat(n,">"))}var rn=$e("ReverseSnippet");function nn(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,u=a===void 0?{}:a,s=_e(i._snippetResult,e),c=s||{},o=c.value,l=o===void 0?"":o,h=rn({descendantName:"highlighted"})+(u.highlighted?" ".concat(u.highlighted):""),m=mt(vt(pt(l)));return m.replace(new RegExp(C.highlightPreTag,"g"),"<".concat(n,' class="').concat(h,'">')).replace(new RegExp(C.highlightPostTag,"g"),"</".concat(n,">"))}function Ce(t){"@babel/helpers - typeof";return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(t)}function an(t){var e=t.method,r=t.payload;if(Ce(r)!=="object")throw new Error("The insights helper expects the payload to be an object.");var n;try{n=Dt(r)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(e,'" data-insights-payload="').concat(n,'"')}function on(t,e){return an({method:t,payload:e})}function Ne(t){"@babel/helpers - typeof";return Ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(t)}var un="_ALGOLIA";function sn(t){if(!((typeof document>"u"?"undefined":Ne(document))!=="object"||typeof document.cookie!="string"))for(var e="".concat(t,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}}function cn(){return sn(un)}function le(t){"@babel/helpers - typeof";return le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(t)}function Ye(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ye(Object(r),!0).forEach(function(n){ln(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ln(t,e,r){return e=fn(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fn(t){var e=dn(t,"string");return le(e)==="symbol"?e:String(e)}function dn(t,e){if(le(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(le(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oe(t,e){return mn(t)||gn(t,e)||_t(t,e)||hn()}function hn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gn(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,u,s=[],c=!0,o=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);c=!0);}catch(l){o=!0,i=l}finally{try{if(!c&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(o)throw i}}return s}}function mn(t){if(Array.isArray(t))return t}function pn(t){return bn(t)||vn(t)||_t(t)||yn()}function yn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _t(t,e){if(t){if(typeof t=="string")return Ue(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ue(t,e)}}function vn(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bn(t){if(Array.isArray(t))return Ue(t)}function Ue(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var $t="2.6.0",Sn="https://cdn.jsdelivr.net/npm/search-insights@".concat($t,"/dist/search-insights.min.js");function Ze(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.insightsClient,r=t.insightsInitParams,n=t.onEvent,i=t.$$internal,a=i===void 0?!1:i,u=t.$$automatic,s=u===void 0?!1:u,c=e;!e&&e!==null&&K(function(l){var h=l.window,m=h.AlgoliaAnalyticsObject||"aa";typeof m=="string"&&(c=h[m]),c||(h.AlgoliaAnalyticsObject=m,h[m]||(h[m]=function(){h[m].queue||(h[m].queue=[]);for(var f=arguments.length,g=new Array(f),d=0;d<f;d++)g[d]=arguments[d];h[m].queue.push(g)},h[m].version=$t,h[m].shouldAddScript=!0),c=h[m])});var o=c||U;return function(l){var h=l.instantSearchInstance,m=h.middleware.filter(function(v){return v.instance.$$type==="ais.insights"&&v.instance.$$internal}).map(function(v){return v.creator});h.unuse.apply(h,pn(m));var f=Xt(h.client),g=Oe(f,2),d=g[0],p=g[1],b=void 0,w=void 0;if(Array.isArray(o.queue)){var $=Jt(o.queue.slice().reverse(),function(v){var y=Oe(v,1),x=y[0];return x==="setUserToken"})||[],I=Oe($,2);b=I[1]}o("getUserToken",null,function(v,y){w=y}),(r||!et(o))&&o("init",q({appId:d,apiKey:p,partial:!0},r));var R,P;return{$$type:"ais.insights",$$internal:a,$$automatic:s,onStateChange:function(){},subscribe:function(){if(o.shouldAddScript){var y="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var x=document.createElement("script");x.async=!0,x.src=Sn,x.onerror=function(){h.emit("error",new Error(y))},document.body.appendChild(x),o.shouldAddScript=!1}catch{o.shouldAddScript=!1,h.emit("error",new Error(y))}}},started:function(){o("addAlgoliaAgent","insights-middleware"),P=h.mainHelper,R={userToken:P.state.userToken,clickAnalytics:P.state.clickAnalytics},s||P.overrideStateWithoutTriggeringChangeEvent(q(q({},P.state),{},{clickAnalytics:!0})),a||h.scheduleSearch();var y=function(M){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!M)return;var pe=P.state.userToken;function ke(){P.overrideStateWithoutTriggeringChangeEvent(q(q({},P.state),{},{userToken:M})),pe&&pe!==M&&h.scheduleSearch()}Y?ke():setTimeout(ke,0)},x=cn();x&&y(x,!0),w?(y(w,!0),o("setUserToken",w)):b&&(y(b,!0),o("setUserToken",b)),o("onUserTokenChange",y,{immediate:!0});var N=o;et(o)&&(N=function(M,Y){var pe={headers:{"X-Algolia-Application-Id":d,"X-Algolia-API-Key":p}};return o(M,Y,pe)}),h.sendEventToInsights=function(_){n?n(_,N):_.insightsMethod&&(_.payload.algoliaSource=["instantsearch"],s&&_.payload.algoliaSource.push("instantsearch-automatic"),_.eventModifier==="internal"&&_.payload.algoliaSource.push("instantsearch-internal"),N(_.insightsMethod,_.payload))}},unsubscribe:function(){o("onUserTokenChange",void 0),h.sendEventToInsights=U,P&&R&&(P.overrideStateWithoutTriggeringChangeEvent(q(q({},P.state),R)),h.scheduleSearch())}}}}function et(t){var e=(t.version||"").split(".").map(Number),r=Oe(e,2),n=r[0],i=r[1],a=n>=3,u=n===2&&i>=6,s=n===1&&i>=10;return a||u||s}function Rt(t,e,r){var n=ne(e,e.mainIndex,e._initialUiState);t.forEach(function(i){var a={};if(i.getWidgetRenderState){var u=i.getWidgetRenderState(n);u&&u.widgetParams&&(a=u.widgetParams)}var s=Object.keys(a).filter(function(c){return a[c]!==void 0});r.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:s}),i.$$type==="ais.index"&&Rt(i.getWidgets(),e,r)})}function wn(){return K(function(t){var e,r,n=t.window;return((e=n.navigator)===null||e===void 0||(r=e.userAgent)===null||r===void 0?void 0:r.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function On(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.$$internal,r=e===void 0?!1:e;return function(n){var i=n.instantSearchInstance,a={widgets:[]},u=document.createElement("meta"),s=document.querySelector("head");return u.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:r,onStateChange:function(){},subscribe:function(){setTimeout(function(){var o=i.client;a.ua=o.transporter&&o.transporter.userAgent?o.transporter.userAgent.value:o._ua,Rt(i.mainIndex.getWidgets(),i,a),i.middleware.forEach(function(l){return a.widgets.push({middleware:!0,type:l.instance.$$type,internal:l.instance.$$internal})}),u.content=JSON.stringify(a),s.appendChild(u)},0)},started:function(){},unsubscribe:function(){u.remove()}}}}var Pn=String.prototype.replace,_n=/%20/g,xe={RFC1738:"RFC1738",RFC3986:"RFC3986"},Me={default:xe.RFC3986,formatters:{RFC1738:function(t){return Pn.call(t,_n,"+")},RFC3986:function(t){return String(t)}},RFC1738:xe.RFC1738,RFC3986:xe.RFC3986},$n=Me,je=Object.prototype.hasOwnProperty,B=Array.isArray,H=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Rn=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(B(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},xt=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},xn=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(B(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!je.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return B(e)&&!B(r)&&(i=xt(e,n)),B(e)&&B(r)?(r.forEach(function(a,u){if(je.call(e,u)){var s=e[u];s&&typeof s=="object"&&a&&typeof a=="object"?e[u]=t(s,a,n):e.push(a)}else e[u]=a}),e):Object.keys(r).reduce(function(a,u){var s=r[u];return je.call(a,u)?a[u]=t(a[u],s,n):a[u]=s,a},i)},jn=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Tn=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},En=function(e,r,n,i,a){if(e.length===0)return e;var u=e;if(typeof e=="symbol"?u=Symbol.prototype.toString.call(e):typeof e!="string"&&(u=String(e)),n==="iso-8859-1")return escape(u).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var s="",c=0;c<u.length;++c){var o=u.charCodeAt(c);if(o===45||o===46||o===95||o===126||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||a===$n.RFC1738&&(o===40||o===41)){s+=u.charAt(c);continue}if(o<128){s=s+H[o];continue}if(o<2048){s=s+(H[192|o>>6]+H[128|o&63]);continue}if(o<55296||o>=57344){s=s+(H[224|o>>12]+H[128|o>>6&63]+H[128|o&63]);continue}c+=1,o=65536+((o&1023)<<10|u.charCodeAt(c)&1023),s+=H[240|o>>18]+H[128|o>>12&63]+H[128|o>>6&63]+H[128|o&63]}return s},In=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],u=a.obj[a.prop],s=Object.keys(u),c=0;c<s.length;++c){var o=s[c],l=u[o];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:u,prop:o}),n.push(l))}return Rn(r),e},An=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Cn=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Nn=function(e,r){return[].concat(e,r)},Un=function(e,r){if(B(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},jt={arrayToObject:xt,assign:jn,combine:Nn,compact:In,decode:Tn,encode:En,isBuffer:Cn,isRegExp:An,maybeMap:Un,merge:xn},We=jt,ie=Me,Wn=Object.prototype.hasOwnProperty,tt={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},V=Array.isArray,Hn=String.prototype.split,Dn=Array.prototype.push,Tt=function(t,e){Dn.apply(t,V(e)?e:[e])},Ln=Date.prototype.toISOString,rt=ie.default,E={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:We.encode,encodeValuesOnly:!1,format:rt,formatter:ie.formatters[rt],indices:!1,serializeDate:function(e){return Ln.call(e)},skipNulls:!1,strictNullHandling:!1},Fn=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Mn=function t(e,r,n,i,a,u,s,c,o,l,h,m,f,g){var d=e;if(typeof s=="function"?d=s(r,d):d instanceof Date?d=l(d):n==="comma"&&V(d)&&(d=We.maybeMap(d,function(_){return _ instanceof Date?l(_):_})),d===null){if(i)return u&&!f?u(r,E.encoder,g,"key",h):r;d=""}if(Fn(d)||We.isBuffer(d)){if(u){var p=f?r:u(r,E.encoder,g,"key",h);if(n==="comma"&&f){for(var b=Hn.call(String(d),","),w="",$=0;$<b.length;++$)w+=($===0?"":",")+m(u(b[$],E.encoder,g,"value",h));return[m(p)+"="+w]}return[m(p)+"="+m(u(d,E.encoder,g,"value",h))]}return[m(r)+"="+m(String(d))]}var I=[];if(typeof d>"u")return I;var R;if(n==="comma"&&V(d))R=[{value:d.length>0?d.join(",")||null:void 0}];else if(V(s))R=s;else{var P=Object.keys(d);R=c?P.sort(c):P}for(var v=0;v<R.length;++v){var y=R[v],x=typeof y=="object"&&typeof y.value<"u"?y.value:d[y];if(!(a&&x===null)){var N=V(d)?typeof n=="function"?n(r,y):r:r+(o?"."+y:"["+y+"]");Tt(I,t(x,N,n,i,a,u,s,c,o,l,h,m,f,g))}}return I},kn=function(e){if(!e)return E;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||E.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=ie.default;if(typeof e.format<"u"){if(!Wn.call(ie.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=ie.formatters[n],a=E.filter;return(typeof e.filter=="function"||V(e.filter))&&(a=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:E.addQueryPrefix,allowDots:typeof e.allowDots>"u"?E.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:E.charsetSentinel,delimiter:typeof e.delimiter>"u"?E.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:E.encode,encoder:typeof e.encoder=="function"?e.encoder:E.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:E.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:E.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:E.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:E.strictNullHandling}},Kn=function(t,e){var r=t,n=kn(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):V(n.filter)&&(a=n.filter,i=a);var u=[];if(typeof r!="object"||r===null)return"";var s;e&&e.arrayFormat in tt?s=e.arrayFormat:e&&"indices"in e?s=e.indices?"indices":"repeat":s="indices";var c=tt[s];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var o=0;o<i.length;++o){var l=i[o];n.skipNulls&&r[l]===null||Tt(u,Mn(r[l],l,c,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset))}var h=u.join(n.delimiter),m=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),h.length>0?m+h:""},G=jt,He=Object.prototype.hasOwnProperty,Qn=Array.isArray,T={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:G.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},qn=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Et=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Bn="utf8=%26%2310003%3B",Vn="utf8=%E2%9C%93",zn=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=r.parameterLimit===1/0?void 0:r.parameterLimit,u=i.split(r.delimiter,a),s=-1,c,o=r.charset;if(r.charsetSentinel)for(c=0;c<u.length;++c)u[c].indexOf("utf8=")===0&&(u[c]===Vn?o="utf-8":u[c]===Bn&&(o="iso-8859-1"),s=c,c=u.length);for(c=0;c<u.length;++c)if(c!==s){var l=u[c],h=l.indexOf("]="),m=h===-1?l.indexOf("="):h+1,f,g;m===-1?(f=r.decoder(l,T.decoder,o,"key"),g=r.strictNullHandling?null:""):(f=r.decoder(l.slice(0,m),T.decoder,o,"key"),g=G.maybeMap(Et(l.slice(m+1),r),function(d){return r.decoder(d,T.decoder,o,"value")})),g&&r.interpretNumericEntities&&o==="iso-8859-1"&&(g=qn(g)),l.indexOf("[]=")>-1&&(g=Qn(g)?[g]:g),He.call(n,f)?n[f]=G.combine(n[f],g):n[f]=g}return n},Jn=function(t,e,r,n){for(var i=n?e:Et(e,r),a=t.length-1;a>=0;--a){var u,s=t[a];if(s==="[]"&&r.parseArrays)u=[].concat(i);else{u=r.plainObjects?Object.create(null):{};var c=s.charAt(0)==="["&&s.charAt(s.length-1)==="]"?s.slice(1,-1):s,o=parseInt(c,10);!r.parseArrays&&c===""?u={0:i}:!isNaN(o)&&s!==c&&String(o)===c&&o>=0&&r.parseArrays&&o<=r.arrayLimit?(u=[],u[o]=i):c!=="__proto__"&&(u[c]=i)}i=u}return i},Gn=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,u=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,c=n.depth>0&&u.exec(a),o=c?a.slice(0,c.index):a,l=[];if(o){if(!n.plainObjects&&He.call(Object.prototype,o)&&!n.allowPrototypes)return;l.push(o)}for(var h=0;n.depth>0&&(c=s.exec(a))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&He.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+a.slice(c.index)+"]"),Jn(l,r,n,i)}},Xn=function(e){if(!e)return T;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?T.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?T.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:T.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:T.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:T.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:T.comma,decoder:typeof e.decoder=="function"?e.decoder:T.decoder,delimiter:typeof e.delimiter=="string"||G.isRegExp(e.delimiter)?e.delimiter:T.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:T.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:T.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:T.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:T.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:T.strictNullHandling}},Yn=function(t,e){var r=Xn(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?zn(t,r):t,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),u=0;u<a.length;++u){var s=a[u],c=Gn(s,n[s],r,typeof t=="string");i=G.merge(i,c,r)}return G.compact(i)},Zn=Kn,ei=Yn,ti=Me,ri={formats:ti,parse:ei,stringify:Zn};const nt=Bt(ri);function fe(t){"@babel/helpers - typeof";return fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(t)}function ni(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ii(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,It(n.key),n)}}function ai(t,e,r){return ii(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function A(t,e,r){return e=It(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function It(t){var e=oi(t,"string");return fe(e)==="symbol"?e:String(e)}function oi(t,e){if(fe(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fe(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var it=function(e){e&&(window.document.title=e)},ui=function(){function t(e){var r=this,n=e.windowTitle,i=e.writeDelay,a=i===void 0?400:i,u=e.createURL,s=e.parseURL,c=e.getLocation,o=e.start,l=e.dispose,h=e.push;ni(this,t),A(this,"$$type","ais.browser"),A(this,"windowTitle",void 0),A(this,"writeDelay",void 0),A(this,"_createURL",void 0),A(this,"parseURL",void 0),A(this,"getLocation",void 0),A(this,"writeTimer",void 0),A(this,"_onPopState",void 0),A(this,"inPopState",!1),A(this,"isDisposed",!1),A(this,"latestAcknowledgedHistory",0),A(this,"_start",void 0),A(this,"_dispose",void 0),A(this,"_push",void 0),this.windowTitle=n,this.writeTimer=void 0,this.writeDelay=a,this._createURL=u,this.parseURL=s,this.getLocation=c,this._start=o,this._dispose=l,this._push=h,K(function(m){var f=m.window,g=r.windowTitle&&r.windowTitle(r.read());it(g),r.latestAcknowledgedHistory=f.history.length})}return ai(t,[{key:"read",value:function(){return this.parseURL({qsModule:nt,location:this.getLocation()})}},{key:"write",value:function(r){var n=this;K(function(i){var a=i.window,u=n.createURL(r),s=n.windowTitle&&n.windowTitle(r);n.writeTimer&&clearTimeout(n.writeTimer),n.writeTimer=setTimeout(function(){it(s),n.shouldWrite(u)&&(n._push?n._push(u):a.history.pushState(r,s||"",u),n.latestAcknowledgedHistory=a.history.length),n.inPopState=!1,n.writeTimer=void 0},n.writeDelay)})}},{key:"onUpdate",value:function(r){var n=this;this._start&&this._start(function(){r(n.read())}),this._onPopState=function(){n.writeTimer&&(clearTimeout(n.writeTimer),n.writeTimer=void 0),n.inPopState=!0,r(n.read())},K(function(i){var a=i.window;a.addEventListener("popstate",n._onPopState)})}},{key:"createURL",value:function(r){var n=this._createURL({qsModule:nt,routeState:r,location:this.getLocation()});return n}},{key:"dispose",value:function(){var r=this;this._dispose&&this._dispose(),this.isDisposed=!0,K(function(n){var i=n.window;r._onPopState&&i.removeEventListener("popstate",r._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(r){var n=this;return K(function(i){var a=i.window,u=!(n.isDisposed&&n.latestAcknowledgedHistory!==a.history.length);return!n.inPopState&&u&&r!==a.location.href})}}]),t}();function si(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.createURL,r=e===void 0?function(f){var g=f.qsModule,d=f.routeState,p=f.location,b=p.protocol,w=p.hostname,$=p.port,I=$===void 0?"":$,R=p.pathname,P=p.hash,v=g.stringify(d),y=I===""?"":":".concat(I);return v?"".concat(b,"//").concat(w).concat(y).concat(R,"?").concat(v).concat(P):"".concat(b,"//").concat(w).concat(y).concat(R).concat(P)}:e,n=t.parseURL,i=n===void 0?function(f){var g=f.qsModule,d=f.location;return g.parse(d.search.slice(1),{arrayLimit:99})}:n,a=t.writeDelay,u=a===void 0?400:a,s=t.windowTitle,c=t.getLocation,o=c===void 0?function(){return K(function(f){var g=f.window;return g.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:c,l=t.start,h=t.dispose,m=t.push;return new ui({createURL:r,parseURL:i,writeDelay:u,windowTitle:s,getLocation:o,start:l,dispose:h,push:m})}function de(t){"@babel/helpers - typeof";return de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(t)}var ci=["configure"];function at(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function be(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?at(Object(r),!0).forEach(function(n){De(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function De(t,e,r){return e=li(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function li(t){var e=fi(t,"string");return de(e)==="symbol"?e:String(e)}function fi(t,e){if(de(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(de(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function di(t,e){if(t==null)return{};var r=hi(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hi(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ot(t){t.configure;var e=di(t,ci);return e}function gi(){return{$$type:"ais.simple",stateToRoute:function(e){return Object.keys(e).reduce(function(r,n){return be(be({},r),{},De({},n,ot(e[n])))},{})},routeToState:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(r,n){return be(be({},r),{},De({},n,ot(e[n])))},{})}}}function he(t){"@babel/helpers - typeof";return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(t)}function ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ut(Object(r),!0).forEach(function(n){At(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function At(t,e,r){return e=mi(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mi(t){var e=pi(t,"string");return he(e)==="symbol"?e:String(e)}function pi(t,e){if(he(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(he(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yi=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.router,n=r===void 0?si():r,i=e.stateMapping,a=i===void 0?gi():i,u=e.$$internal,s=u===void 0?!1:u;return function(c){var o=c.instantSearchInstance;function l(f){var g=o.mainIndex.getWidgets().length===0?o._initialUiState:o.mainIndex.getWidgetUiState({}),d=Object.keys(f).reduce(function(b,w){return Se(Se({},b),{},At({},w,f[w]))},g),p=a.stateToRoute(d);return n.createURL(p)}o._createURL=l;var h=void 0,m=o._initialUiState;return{$$type:"ais.router({router:".concat(n.$$type||"__unknown__",", stateMapping:").concat(a.$$type||"__unknown__","})"),$$internal:s,onStateChange:function(g){var d=g.uiState,p=a.stateToRoute(d);(h===void 0||!Lt(h,p))&&(n.write(p),h=p)},subscribe:function(){o._initialUiState=Se(Se({},m),a.routeToState(n.read())),n.onUpdate(function(g){o.mainIndex.getWidgets().length>0&&o.setUiState(a.routeToState(g))})},started:function(){var g;(g=n.start)===null||g===void 0||g.call(n)},unsubscribe:function(){n.dispose()}}}};function vi(t,e){return t.toLocaleString(e)}function ge(t){"@babel/helpers - typeof";return ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(t)}function st(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?st(Object(r),!0).forEach(function(n){bi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bi(t,e,r){return e=Si(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Si(t){var e=wi(t,"string");return ge(e)==="symbol"?e:String(e)}function wi(t,e){if(ge(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ge(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oi(t){var e=t.numberLocale;return{formatNumber:function(n,i){return vi(Number(i(n)),e)},highlight:function(n,i){try{var a=JSON.parse(n);return i(Xr(k(k({},a),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(n,i){try{var a=JSON.parse(n);return i(Zr(k(k({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(n,i){try{var a=JSON.parse(n);return i(tn(k(k({},a),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(n,i){try{var a=JSON.parse(n);return i(nn(k(k({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(n,i){try{var a=JSON.parse(n),u=a.method,s=a.payload;return i(on(u,k({objectIDs:[this.objectID]},s)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}const Pi="4.60.0";function X(t){"@babel/helpers - typeof";return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(t)}function ct(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Te(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ct(Object(r),!0).forEach(function(n){O(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ct(n.key),n)}}function Ri(t,e,r){return $i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Le(t,e)}function Le(t,e){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Le(t,e)}function ji(t){var e=Ei();return function(){var n=Pe(t),i;if(e){var a=Pe(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ti(this,i)}}function Ti(t,e){if(e&&(X(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(t)}function S(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ei(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pe(t){return Pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pe(t)}function O(t,e,r){return e=Ct(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ct(t){var e=Ii(t,"string");return X(e)==="symbol"?e:String(e)}function Ii(t,e){if(X(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(X(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D=Fe({name:"instantsearch"});function Ai(){return"#"}var Nt={preserveSharedStateOnUnmount:!1},Ci=function(t){xi(r,t);var e=ji(r);function r(n){var i;_i(this,r),i=e.call(this),O(S(i),"client",void 0),O(S(i),"indexName",void 0),O(S(i),"insightsClient",void 0),O(S(i),"onStateChange",null),O(S(i),"future",void 0),O(S(i),"helper",void 0),O(S(i),"mainHelper",void 0),O(S(i),"mainIndex",void 0),O(S(i),"started",void 0),O(S(i),"templatesConfig",void 0),O(S(i),"renderState",{}),O(S(i),"_stalledSearchDelay",void 0),O(S(i),"_searchStalledTimer",void 0),O(S(i),"_initialUiState",void 0),O(S(i),"_initialResults",void 0),O(S(i),"_createURL",void 0),O(S(i),"_searchFunction",void 0),O(S(i),"_mainHelperSearch",void 0),O(S(i),"_insights",void 0),O(S(i),"middleware",[]),O(S(i),"sendEventToInsights",void 0),O(S(i),"status","idle"),O(S(i),"error",void 0),O(S(i),"scheduleSearch",Z(function(){i.started&&i.mainHelper.search()})),O(S(i),"scheduleRender",Z(function(){var _,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(_=i.mainHelper)!==null&&_!==void 0&&_.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,M&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:S(i)}),i.emit("render")})),O(S(i),"onInternalStateChange",Z(function(){var _=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(M){var Y=M.instance;Y.onStateChange({uiState:_})})})),i.setMaxListeners(100);var a=n.indexName,u=a===void 0?"":a,s=n.numberLocale,c=n.initialUiState,o=c===void 0?{}:c,l=n.routing,h=l===void 0?null:l,m=n.insights,f=m===void 0?void 0:m,g=n.searchFunction,d=n.stalledSearchDelay,p=d===void 0?200:d,b=n.searchClient,w=b===void 0?null:b,$=n.insightsClient,I=$===void 0?null:$,R=n.onStateChange,P=R===void 0?null:R,v=n.future,y=v===void 0?Te(Te({},Nt),n.future||{}):v;if(w===null)throw new Error(D("The `searchClient` option is required."));if(typeof w.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof w.addAlgoliaAgent=="function"&&w.addAlgoliaAgent("instantsearch.js (".concat(Pi,")")),I&&typeof I!="function")throw new Error(D("The `insightsClient` option should be a function."));if(i.client=w,i.future=y,i.insightsClient=I,i.indexName=u,i.helper=null,i.mainHelper=null,i.mainIndex=Fr({indexName:u}),i.onStateChange=P,i.started=!1,i.templatesConfig={helpers:Oi({numberLocale:s}),compileOptions:{}},i._stalledSearchDelay=p,i._searchStalledTimer=null,i._createURL=Ai,i._initialUiState=o,i._initialResults=null,i._insights=f,g&&(i._searchFunction=g),i.sendEventToInsights=U,h){var x=typeof h=="boolean"?{}:h;x.$$internal=!0,i.use(yi(x))}if(f){var N=typeof f=="boolean"?{}:f;N.$$internal=!0,i.use(Ze(N))}return wn()&&i.use(On({$$internal:!0})),i}return Ri(r,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,a=arguments.length,u=new Array(a),s=0;s<a;s++)u[s]=arguments[s];var c=u.map(function(o){var l=Te({$$type:"__unknown__",$$internal:!1,subscribe:U,started:U,unsubscribe:U,onStateChange:U},o({instantSearchInstance:i}));return i.middleware.push({creator:o,instance:l}),l});return this.started&&c.forEach(function(o){o.subscribe(),o.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return this.middleware.filter(function(s){return a.includes(s.creator)}).forEach(function(s){return s.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(s){return!a.includes(s.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(D("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(a){return typeof a.init!="function"&&typeof a.render!="function"}))throw new Error(D("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(D("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(a){return typeof a.dispose!="function"}))throw new Error(D("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(D("The `start` method has already been called once."));var a=this.mainHelper||W(this.client,this.indexName);if(a.search=function(){return i.status="loading",i.scheduleRender(!1),a.searchOnlyWithDerivedHelpers()},this._searchFunction){var u={search:function(){return new Promise(U)}};this._mainHelperSearch=a.search.bind(a),a.search=function(){var c=i.mainIndex.getHelper(),o=W(u,c.state.index,c.state);return o.once("search",function(l){var h=l.state;c.overrideStateWithoutTriggeringChangeEvent(h),i._mainHelperSearch()}),o.on("change",function(l){var h=l.state;c.setState(h)}),i._searchFunction(o),a}}if(a.on("error",function(c){var o=c.error;if(!(o instanceof Error)){var l=o;o=Object.keys(l).reduce(function(h,m){return h[m]=l[m],h},new Error(l.message))}o.error=o,i.error=o,i.status="error",i.scheduleRender(!1),i.emit("error",o)}),this.mainHelper=a,this.middleware.forEach(function(c){var o=c.instance;o.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){rr(this.client,this._initialResults);var s=this.scheduleSearch;this.scheduleSearch=Z(U),Z(function(){i.scheduleSearch=s})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(c){var o=c.instance;o.started()}),typeof this._insights>"u"&&a.derivedHelpers[0].once("result",function(){var c=i.mainIndex.getScopedResults().some(function(o){var l=o.results;return l==null?void 0:l._automaticInsights});c&&i.use(Ze({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(a){var u=a.instance;u.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var a=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(D("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var s=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&u?this.onStateChange({uiState:s,setUiState:function(o){Ie(typeof o=="function"?o(s):o,a.mainIndex),a.scheduleSearch(),a.onInternalStateChange()}}):(Ie(s,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(D("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(D("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),r}(Ft),Ni={};function me(t){"@babel/helpers - typeof";return me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(t)}function lt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ft(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lt(Object(r),!0).forEach(function(n){Ui(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ui(t,e,r){return e=Wi(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wi(t){var e=Hi(t,"string");return me(e)==="symbol"?e:String(e)}function Hi(t,e){if(me(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(me(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dt=["react (".concat(Q.version,")"),"react-instantsearch (".concat(Ee,")"),"react-instantsearch-core (".concat(Ee,")")],ht="react-instantsearch-server (".concat(Ee,")"),Di=function(e){return e?"next.js (".concat(e,")"):null};function Li(t){var e=Br(),r=Mt(),n=zr(),i=kt(),a=n==null?void 0:n.initialResults,u=Q.useRef(t),s=r||a||i,c=Q.useRef(null);if(n&&(c=n.ssrSearchRef),c.current===null){var o=new Ci(t);o._schedule=function(p){o._schedule.queue.push(p),clearTimeout(o._schedule.timer),o._schedule.timer=setTimeout(function(){o._schedule.queue.forEach(function(b){b()}),o._schedule.queue=[]},0)},o._schedule.queue=[],s&&(o._initialResults=a||{}),gt(t.searchClient,[].concat(dt,[r&&ht,Di(Fi())])),s&&o.start(),r&&r.notifyServer({search:o}),t.routing,c.current=o}{var l=c.current,h=u.current;if(h.indexName!==t.indexName&&(l.helper.setIndex(t.indexName||"").search(),u.current=t),h.searchClient!==t.searchClient&&(gt(t.searchClient,[].concat(dt,[r&&ht])),l.mainHelper.setClient(t.searchClient).search(),u.current=t),h.onStateChange!==t.onStateChange&&(l.onStateChange=t.onStateChange,u.current=t),h.searchFunction!==t.searchFunction&&(l._searchFunction=t.searchFunction,u.current=t),h.stalledSearchDelay!==t.stalledSearchDelay){var m;l._stalledSearchDelay=(m=t.stalledSearchDelay)!==null&&m!==void 0?m:200,u.current=t}Kt(h.future,t.future)||(l.future=ft(ft({},Nt),t.future),u.current=t)}var f=Q.useRef(null),g=Vt.useSyncExternalStore(Q.useCallback(function(){var d=c.current;return f.current===null?d.started||(d.start(),e()):(clearTimeout(f.current),d._preventWidgetCleanup=!1),function(){function p(){d.dispose()}clearTimeout(d._schedule.timer),f.current=setTimeout(p),d._preventWidgetCleanup=!0}},[e]),function(){return c.current},function(){return c.current});return g}function gt(t,e){typeof t.addAlgoliaAgent=="function"&&e.filter(Boolean).forEach(function(r){t.addAlgoliaAgent(r)})}function Fi(){var t,e;return typeof window<"u"&&((t=window.next)===null||t===void 0?void 0:t.version)||(typeof process<"u"?(e=Ni)===null||e===void 0?void 0:e.NEXT_RUNTIME:void 0)}var Mi=["children"];function ki(t,e){if(t==null)return{};var r=Ki(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ki(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function zi(t){var e=t.children,r=ki(t,Mi),n=Li(r);return n.started?Ke.createElement(Qt.Provider,{value:n},Ke.createElement(qt.Provider,{value:n.mainIndex},e)):null}export{Vi as C,zi as I,Vr as a,pt as b,_e as g};
