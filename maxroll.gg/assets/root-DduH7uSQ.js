const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunk-IKWJMTEU-B1WfP16l.js","assets/jsx-runtime-BmCkTyBI.js","assets/useUiStateStore-BTW2eq2x.js","assets/index-0f3ee958-DZWNGZaJ.js","assets/index-B7uSRlxY.js","assets/index-DQDlNFz_.js","assets/index-DaXM-EJC.js","assets/input-CP8d1LBk.js","assets/dialog-BgY3zGCx.js","assets/index-bpJNUpaV.js","assets/schemas-BlmeThha.js","assets/useInitSettings-DTwUvEoS.js","assets/plus-DBL14xDl.js","assets/pencil-jRDbvWXy.js","assets/scroll-area-r19cRpaW.js","assets/index-Cef8Deab.js","assets/useMainIgn-C4RS_MXP.js"])))=>i.map(i=>d[i]);
import{r as d,j as e,a as $}from"./jsx-runtime-BmCkTyBI.js";import{I as jt,q as Z,a8 as K,c as F,w as S,aG as ke,ay as se,aH as ne,aI as G,g as Ze,b as yt,aJ as vt,P as Nt,n as kt,aK as St,az as V,aL as Tt,aA as _t,aB as Ct,aw as Et,au as Mt,av as Ke,s as L,aM as At,f as et,aN as Pt,r as Ot,aO as Dt,aC as It,aD as Lt,aP as Rt}from"./index-0f3ee958-DZWNGZaJ.js";import{r as $t}from"./index-B7uSRlxY.js";import{u as Ht,C as Se}from"./client-only-cWYvs-hb.js";import{b as Te,k as Ft,m as tt,O as st,F as Ut,z as Wt}from"./index-DQDlNFz_.js";import{j as qt,_ as Bt,k as zt,a as Gt,S as nt,u as rt,M as Vt,l as Yt}from"./components-yGT3xdTE.js";import{l as Jt,m as Qt,s as Xt,n as Zt}from"./util-DPeyOfYu.js";import{c as f}from"./index-DTex4z8k.js";import{u as y,A as Kt}from"./context-D_yk-qIR.js";import{A as es}from"./ad-container-client-only-BXY_4qal.js";import{M as ue,u as at}from"./modal-dialog-tKazuiwh.js";import{u as ts,a as ss,i as Ee,A as ns}from"./use-account-deletion-D9g0Y2Jg.js";import{i as Me}from"./identity-pending-deletion-alert-displayed-cache-Bfsdi8KO.js";import{L as rs}from"./login-form-BKPApONl.js";import{S as as}from"./subscription-widget-Dib6ULhw.js";import{B as Ae}from"./button-DKL5qgxS.js";import{g as is,s as os}from"./local-storage-utils-D-tYHVlb.js";import{G as E}from"./global-link-C3EsOPSs.js";import{S as ls,I as ee}from"./index-6I29kCM5.js";import{I as P}from"./image-D3FC_yFf.js";import{N as cs}from"./newsletter-signup-widget-D0quISB9.js";import{c as ds,a as us,f as ms,T as Pe,n as ps,u as gs,l as hs,j as it}from"./use-search-client-2uPrn7lb.js";import{g as fs,b as xs,I as ot,C as lt}from"./InstantSearch-CSMMGZWR.js";import{c as ae,S as ct}from"./SearchBox-BX1vzEIn.js";import{c as bs,a as ws,b as js,d as ys}from"./hits-query-id-BHx0wXll.js";import{I as vs,a as _e}from"./icon-arrow-down-LhH7J9Ih.js";import{d as dt}from"./index-J7VLbtRZ.js";import{l as Ns}from"./lodash-DicVzLFw.js";import"./chunk-IKWJMTEU-B1WfP16l.js";import{cg as ks}from"./useUiStateStore-BTW2eq2x.js";import"./input-CP8d1LBk.js";import"./useMainIgn-C4RS_MXP.js";import"./dialog-BgY3zGCx.js";import"./connect-poe-account-info-Db8mA3tC.js";import"./store-provider-BA37OI_d.js";import"./store-provider-BbEvw6Ky.js";import"./hover-card-evu0jAM8.js";import"./index-HsF-S_bG.js";import"./store-provider-zBsskQKl.js";import"./store-provider-Ubnk8f1_.js";import"./index-bWA_3qBZ.js";import"./index-CkA9uuBa.js";import"./quantity-column-6vZwNzJV.js";import"./table-Dh6Pmeof.js";import"./price-column-DkIVfYGp.js";import"./index-7cpPce6A.js";import"./service-selection-I9-6ryFd.js";import"./index-CM5_VR2k.js";import{c as Ss}from"./ory-utils-CWGoKueJ.js";import{E as Ts}from"./external-libs-Cwu5KtnL.js";import{b as _s}from"./index-DaXM-EJC.js";import"./line-separator-B6WHh7IT.js";import"./user-auth-card-B_q7Ra4P.js";import"./index-Bo3yTGNn.js";import"./index-D6xxO2Tw.js";import"./useSearchBox-BPRiBVfD.js";import"./index-bpJNUpaV.js";import"./schemas-BlmeThha.js";import"./useInitSettings-DTwUvEoS.js";import"./plus-DBL14xDl.js";import"./pencil-jRDbvWXy.js";import"./scroll-area-r19cRpaW.js";import"./index-Cef8Deab.js";import"./client-only-EEwIJfBK.js";import"./immer-Dw4EE-Qj.js";import"./mid-ad-container-CtoYpZdm.js";import"./useSyncLeagueStores-9jK57x3p.js";import"./funnel-Ivj98osJ.js";import"./sheet-DlBAQsIB.js";import"./skeleton-uQgPEDp6.js";import"./obscenity-Bs8f5lhx.js";import"./info-CilF81GL.js";import"./currency-input-DZgJ7P6M.js";import"./coerce-BuJEUD2S.js";import"./list-checks-BsovS5X-.js";import"./whisper.utils-B4Kh6tfH.js";import"./store-DLU3xr0A.js";import"./listing-category-select-D6xid_4F.js";import"./accordion-n3zJuvLo.js";import"./layout-list-CWMZJz9E.js";import"./tabs-dB-_aH7C.js";import"./useSkipper-BPqtXzmD.js";import"./check-column-0JE1AfPu.js";import"./multiplier-column-DxfWu9Tp.js";import"./arrow-right-to-line-DDEV6LXZ.js";import"./trash-2-CKNrPGIi.js";import"./useListingToolStore-CdZOxAv4.js";import"./index7-C0P7EISV.js";import"./service-table-columns-Bq_v5G7F.js";/**
 * @remix-run/react v2.15.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */let Oe="positions";function Cs({getKey:t,...s}){let{isSpaMode:r}=qt(),n=Te(),a=Ft();_s({getKey:t,storageKey:Oe});let i=d.useMemo(()=>{if(!t)return null;let c=t(n,a);return c!==n.key?c:null},[]);if(r)return null;let o=((c,m)=>{if(!window.history.state||!window.history.state.key){let p=Math.random().toString(32).slice(2);window.history.replaceState({key:p},"")}try{let l=JSON.parse(sessionStorage.getItem(c)||"{}")[m||window.history.state.key];typeof l=="number"&&window.scrollTo(0,l)}catch(p){console.error(p),sessionStorage.removeItem(c)}}).toString();return d.createElement("script",Bt({},s,{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${o})(${JSON.stringify(Oe)}, ${JSON.stringify(i)})`}}))}function ut(){let t=Es();return d.createElement(d.Fragment,null,t.map(s=>d.createElement(Ms,{key:s.src,...s})))}function Es(){let t=Te(),s=zt();return d.useMemo(()=>{let r=s.flatMap((a,i,o)=>{if(!a.handle)return[];if(a.handle===null)return[];if(typeof a.handle!="object")return[];if(!("scripts"in a.handle))return[];let c=a.handle.scripts;if(Array.isArray(c))return c;if(typeof c!="function")return[];let m=c({id:a.id,data:a.data,params:a.params,location:t,parentsData:o.slice(0,i).map(p=>p.data),matches:o});return Array.isArray(m)?m:[]}),n=new Map;for(let a of r)n.set(a.src,a);return[...n.values()]},[s,t])}function Ms({src:t,preload:s=!1,async:r=!0,defer:n=!0,crossOrigin:a,integrity:i,type:o,referrerPolicy:c,noModule:m,nonce:p,id:l}){let u=Ht(),g=d.useRef(u);if(d.useEffect(()=>{if(!g.current&&u)return;let b=document.createElement("script");b.src=t;let j={async:r,defer:n,crossOrigin:a,integrity:i,type:o,referrerPolicy:c,noModule:m,nonce:p,id:l};for(let[w,N]of Object.entries(j))N&&b.setAttribute(w,N.toString());return document.body.appendChild(b),()=>b.remove()},[r,a,n,i,u,m,p,c,t,o,l]),g.current&&u)return null;let h=m?"modulepreload":"preload",x=m?void 0:"script";return d.createElement(d.Fragment,null,s&&d.createElement("link",{rel:h,href:t,as:x,crossOrigin:a,integrity:i,referrerPolicy:c}),d.createElement("script",{id:l,src:t,defer:n,async:r,type:o,noModule:m,nonce:p,crossOrigin:a,integrity:i,referrerPolicy:c}))}const As=t=>{document.cookie="chdpa="+(t?"1":"")+";path=/;"},Ps=()=>{const[t,s]=d.useState(null);return d.useEffect(()=>{const r=()=>{const n=window.__PGAB;if(!n){s(null);return}const o={alphaValue:1-n.ab/100,activeProvider:n.current};s(o)};return window.__PGAB&&r(),window.addEventListener("PGAB",r),()=>{window.removeEventListener("PGAB",r)}},[]),t},Os=({config:t})=>(d.useEffect(()=>{const s=document.createElement("script");s.type="text/javascript",s.id="pogo",s.src="https://cdn.ziffstatic.com/pg/maxroll.js",s.async=!0,document.head.appendChild(s)},[]),e.jsxs(e.Fragment,{children:[e.jsx("script",{dangerouslySetInnerHTML:{__html:`window.PogoConfig = ${JSON.stringify(t)}`}}),e.jsx("link",{rel:"preload",as:"script",href:"https://cdn.ziffstatic.com/pg/maxroll.js",fetchpriority:"high"}),e.jsx("script",{type:"text/javascript",src:"https://cdn.ziffstatic.com/geo.js",fetchpriority:"high",async:!0}),e.jsx("link",{rel:"preload",as:"script",href:"https://cdn.ziffstatic.com/pg/maxroll.prebid.js"}),e.jsx("link",{rel:"preload",as:"script",href:"https://securepubads.g.doubleclick.net/tag/js/gpt.js?network-code=5691"}),e.jsx("link",{rel:"stylesheet",href:"https://cdn.ziffstatic.com/pg/maxroll.css"})]})),Ds=({onClose:t,deletionDate:s})=>{const[r,n]=d.useState(!0),[a,i]=d.useState(!1),o=s.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),c=()=>{n(!1)},m=()=>{i(!0),c()},p=l=>{l||t({restoreAccount:a})};return e.jsx(ue,{visible:r,visibleFunction:p,children:e.jsxs("div",{className:"flex flex-col p-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(jt,{title:"Account pending deletion",accentColor:"red"}),e.jsxs("p",{className:"text-white",children:["Your account will be deleted on ",o,". If you want to cancel the deletion, click the button below."]})]}),e.jsxs("div",{className:"flex justify-end items-center gap-4 mt-8",children:[e.jsx(Z,{onClick:c,children:"Close"}),e.jsx(Z,{buttonStyle:"primary",onClick:m,children:"Restore Account"})]})]})})},Is=()=>{const{user:t}=y(),{revoke:s,scheduledAt:r}=ts(),n=t==null?void 0:t[0],a=d.useMemo(()=>!!n&&!!r&&!Me.get(n.id),[n,r]),i=d.useCallback(async o=>{if(n){if(!o.restoreAccount){Me.set(n.id);return}await s()}},[n,s]);return a?e.jsx(Ds,{onClose:i,deletionDate:r}):null},Ls=()=>{const{userLoaded:t}=y(),[s,r]=d.useState(!1);return d.useEffect(()=>{if(typeof window>"u")return;const n=()=>{r(!0)};return window.adblock&&n(),window.addEventListener("adblock",n),()=>{window.removeEventListener("adblock",n)}},[t==null?void 0:t[0]]),s},De=()=>{var r;const t=window.document.getElementById("onetrust-banner-sdk");return!!(t!=null&&t.offsetWidth||t!=null&&t.offsetHeight||(r=t==null?void 0:t.getClientRects())!=null&&r.length)},Rs=()=>{const[t,s]=d.useState(!1);return d.useEffect(()=>{De();const r=setInterval(()=>{s(De())},100);return()=>{clearInterval(r)}},[]),{isActive:t}};function $s(){const{user:t,userLoaded:s,userHasSub:r,loginDialogOpen:n}=y(),a=Ls(),{isActive:i}=Rs(),[o,c]=d.useState(!1),[m,p]=d.useState(0),l=d.useRef(!1),[u,g]=d.useState(!1),x=n[0]||u,b=d.useCallback(()=>{l.current=!0,c(!0)},[]);d.useEffect(()=>{if(typeof window>"u"||!(s!=null&&s[0])||l.current)return;a||c(!1);const w=is("adBlockWarning")==null,N=window.location.pathname.startsWith("/auth");a&&w&&(r==null?void 0:r[0])===!1&&!N&&b()},[a,r,s,b]),d.useEffect(()=>{},[]),d.useEffect(()=>{const w=setTimeout(()=>{g(!0)},5e3);return()=>{clearTimeout(w)}},[]);const j=d.useCallback(()=>{c(!1),os("adBlockWarning",!0,6*60*60*1e3)},[m]);return x?null:e.jsx(ue,{className:"w-[400px] max-w-[calc(100vw_-_40px)] p-0 lg:max-w-none",visible:!i&&o,onClose:j,timerSeconds:m,children:e.jsx("div",{className:f("max-h-[calc(100vh_-_10rem)] overflow-y-auto","flex flex-col items-center py-10 px-5"),children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h3",{className:"mb-8 text-center font-sans text-3xl font-extralight text-white",children:"Attention Ad-Block User"}),e.jsxs("div",{className:"flex flex-col gap-5 text-center",children:[e.jsxs("p",{className:"font-sans text-lg leading-tight text-white",children:["Show your support to Maxroll and its ",e.jsx("br",{}),"content creators by disabling Adblock ",e.jsx("br",{}),"or by subscribing to an ",e.jsx("br",{}),e.jsx("span",{className:"font-sans text-2xl font-bold italic text-blue-200",children:"Ad-Free membership"})]}),e.jsxs("p",{className:"font-title text-3xl font-extralight leading-tight text-white",children:["Ad-free subscriptions ",e.jsx("br",{}),"start from as little as ",e.jsx("br",{}),e.jsx("span",{className:"font-title text-3xl font-normal text-blue-200",children:"$1.99 per month."})]}),e.jsxs("div",{className:"mt-8 flex gap-4",children:[e.jsx(Ae,{onClick:()=>{var w;if((w=t==null?void 0:t[0])!=null&&w.id&&(t!=null&&t[0].nitroSubscriptionUrl)){window.location.href=t==null?void 0:t[0].nitroSubscriptionUrl;return}n[1](!0)},className:"flex-1",type:"primary",title:"Support Us"}),e.jsx(Ae,{onClick:()=>{j()},className:"flex-1",type:"secondary",title:"No Thanks",disabled:m<=0})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"bg-grey-425 flex h-[1px] flex-1"}),e.jsx("span",{style:{width:"48px",height:"48px"},className:"mask-image-[url(https://assets-ng.maxroll.gg/images/maxroll-mark-icon.svg?scope=mask)] bg-grey-425 basis-[48px]"}),e.jsx("span",{className:"bg-grey-425 flex h-[1px] flex-1"})]})]})]})})})}const Hs="_Consent_vk3kd_1",Fs="_Consent__btn_vk3kd_10",Us="_Consent__link_vk3kd_20",le={Consent:Hs,Consent__btn:Fs,Consent__link:Us};function Ws(){return e.jsx(Se,{fallback:e.jsx(e.Fragment,{}),children:()=>e.jsxs(e.Fragment,{children:[e.jsx("li",{className:le.Consent,children:e.jsxs("button",{className:f(le.Consent__btn,"showConsentTool"),onClick:t=>{t.preventDefault(),t.stopPropagation(),window.zdconsent.showConsentTool(t)},children:[e.jsx("img",{src:"https://cdn.ziffstatic.com/pub/icong1.png",style:{verticalAlign:"middle"},alt:"Ziff Davis icon"})," ","AdChoices"]})}),e.jsx("li",{className:le.Consent,children:e.jsx("a",{href:"https://dsar.ign.com/",target:"_blank",rel:"noreferrer noopener",className:f(le.Consent__link,"zdDSAR"),children:"Do Not Sell My Personal Information"})})]})})}function qs(){const{pathname:t}=y(),s=[{text:"Terms of Service",link:"https://www.ziffdavis.com/terms-of-use",newWindow:!0},{text:"Privacy Policy",link:"https://www.ign.com/privacy-policy",newWindow:!0},{text:"Accessibility",link:"https://www.ziffdavis.com/accessibility",newWindow:!0},{text:"Refund Policy",link:"/refund-policy"},{text:"Contact Us",link:"/contact-us"},{text:"Cookie Policy",link:"https://www.ziffdavis.com/cookie-policy",newWindow:!0}],r=d.useMemo(()=>t.startsWith("/poe/poexchange")||t.startsWith("/poe2/poexchange")||t.startsWith("/poe2/planner"),[t]);return e.jsxs("div",{className:"bg-dark-1 relative z-[1] mt-10 flex flex-col gap-0 md:ml-24 md:mt-36",children:[t!=="/404"&&e.jsx("div",{className:"bg-dark-3 hidden h-12 w-full rounded-bl-[32px] md:flex"}),e.jsxs("div",{className:"flex flex-col gap-12 px-4 pb-6 pt-16 lg:pb-8 lg:pt-32",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("ul",{className:"flex flex-wrap items-center justify-center gap-4 lg:gap-10",children:[s.map((n,a)=>e.jsx("li",{children:e.jsx(E,{to:n.link,regularLinks:!0,target:n.newWindow?"_blank":void 0,rel:n.newWindow?"noreferrer noopener":void 0,className:"text-grey-3 font-roboto text-sm font-medium hover:text-white",children:n.text})},a)),e.jsx(Ws,{})]})}),e.jsx("div",{className:"flex items-center justify-center gap-4 md:pb-16",children:e.jsx(ls,{width:22,height:22,className:"flex-wrap gap-4 sm:gap-8",innerClassName:"p-[10px] bg-dark-1",iconClass:"bg-opac-50 hover:bg-white",separator:e.jsx("span",{className:"bg-dark-5 h-6 w-[1px]"})})}),r?e.jsx("p",{className:"text-grey-3 text-center font-sans font-medium lg:text-center",children:"Maxroll.gg is not affiliated with or endorsed by Grinding Gear Games."}):null,e.jsxs("p",{className:"text-grey-3 text-center font-sans font-medium lg:text-center",children:["Â© ",new Date().getFullYear()," Maxroll a brand of IGN Entertainment, Inc. All rights reserved. ",e.jsx("br",{}),"No part of this website or its content may be reproduced without the copyright owner's permission.",e.jsx("br",{})," Maxroll is a registered trademark of IGN Entertainment, Inc."]})]})]})}function mt(){const t=tt(),s=t.state!=="idle",r=d.useRef(null),[n,a]=d.useState(!0);return d.useEffect(()=>{r.current&&(s&&a(!1),Promise.allSettled(r.current.getAnimations().map(({finished:i})=>i)).then(()=>!s&&a(!0)))},[s]),e.jsx("div",{role:"progressbar","aria-hidden":!s,"aria-valuetext":s?"Loading":void 0,className:f("fixed inset-x-0 top-0 left-0 z-[1000] h-2",s?"animate-pulse":void 0),children:e.jsx("div",{ref:r,className:f("h-full bg-gradient-to-r from-blue-200 to-blue-500 transition-all duration-500 ease-in-out",t.state==="idle"&&n&&"w-0 opacity-0 transition-none",t.state==="submitting"&&"w-4/12",t.state==="loading"&&"w-10/12",t.state==="idle"&&!n&&"w-full")})})}function pt({className:t}){return e.jsx("span",{className:f("absolute flex h-[10px] w-[10px] items-center justify-center rounded-full",t),children:e.jsx("span",{style:{boxShadow:"0px 0px 10px 3px rgb(var(--maxroll-color-blue))"},className:"flex h-full w-full rounded-full bg-white"})})}function B({url:t,children:s,normalTag:r=!1,onClick:n,...a}){const{apiUrl:i}=y();return t?t.startsWith("http")?e.jsx(K,{to:F(t,i),...a,children:s}):r?e.jsx("a",{href:F(t,i),onClick:n,...a,children:s}):e.jsx(E,{to:F(t,i),onClick:n,...a,children:s}):e.jsx("div",{onClick:n,...a,children:s})}function Ie({item:t,collapsed:s}){const{pathname:r,assetPath:n}=y(),a=d.useMemo(()=>r.startsWith(t.url),[t,r]);return e.jsxs("li",{className:f("group/game relative",!s&&"pl-4 transition-all"),children:[e.jsx(B,{url:t.url,className:f("flex h-10 cursor-pointer flex-row items-center justify-center"),title:t.name,normalTag:!0,onClick:t.onClick,children:e.jsxs("div",{className:f("flex h-full w-full items-center rounded-lg pl-1"),children:[!!t.icon&&e.jsxs("div",{className:"relative flex h-10 w-10 items-center justify-center",children:[e.jsx("div",{className:f("bg-dark-1 relative flex h-10 w-10 items-center justify-center overflow-hidden rounded-full border p-1","border-fix-[#057AF0] border-blue-200 hover:border-2"),children:e.jsx(P,{className:"max-w-none",src:`${n}/images/${t.icon.split("images/")[1]}`,width:te[t.id]||32,height:te[t.id]||32,alt:t.name})}),e.jsx(pt,{className:"top-[1px] right-[2px]"})]}),!s&&e.jsx("div",{className:f("truncate-text-[1] ml-3 grow text-base",a?"text-white":"text-grey-1 group-hover/game:text-white-2"),children:t.name})]})}),!s&&(t.subtext&&typeof t.subtext=="string"?e.jsx("div",{className:"text-grey-425 ml-[60px] text-xs",children:t.subtext}):t.subtext)]})}const te={poe:40,d3:36,"elden-ring-nightreign":36,"wuchang-fallen-feathers":40,"black-myth-wukong":40,"wizard-of-legend-2":40,"blue-protocol":40},Le={},Ce=[],Re=Ce.map(t=>t.id);function Bs({item:t,collapsed:s}){const{pathname:r,assetPath:n}=y(),a=d.useMemo(()=>r===t.url||r.startsWith(`${t.url}/`),[t,r]);return e.jsxs("li",{className:f("group/game relative",!s&&"pl-4 transition-all"),children:[e.jsx(B,{url:t.url,className:f("flex h-10 cursor-pointer flex-row items-center justify-center"),title:t.name,normalTag:!0,onClick:t.onClick,children:e.jsxs("div",{className:f("flex h-full w-full items-center rounded-lg pl-1"),children:[!!t.icon&&e.jsx("div",{className:f("bg-dark-1 flex h-10 w-10 items-center justify-center overflow-hidden rounded-full border-2 p-1",a?"border-fix-[#057AF0] border-blue-200":"border-dark-5 border-fix-[#2B2C2C] group-hover/game:border-grey-3 group-hover/game:border-fix-[#737373]"),children:e.jsx(P,{className:"max-w-none",clientOnly:!1,src:`${n}/images/${t.icon.split("images/")[1]}`,width:te[t.id]||32,height:te[t.id]||32,alt:t.name})}),!s&&e.jsx("div",{className:f("truncate-text-[1] ml-3 grow text-base",a?"text-white":"text-grey-1 group-hover/game:text-white-2"),children:t.name})]})}),!s&&(t.subtext&&typeof t.subtext=="string"?e.jsx("div",{className:"text-grey-425 ml-[60px] text-xs",children:t.subtext}):t.subtext)]})}function $e({branch:t,isMobileMenu:s}){const{minorBranchInfo:r}=y(),n=(r==null?void 0:r.slug)===t.slug;return e.jsx("li",{className:"group relative px-6",children:e.jsx(B,{url:t.enabled?`/${t.slug}`:"",className:f("flex h-12 flex-row items-center justify-center",t.enabled?"text-grey-1 cursor-pointer":"text-grey-3"),title:t.enabled?t.name:"Coming Soon",normalTag:!0,children:e.jsxs("div",{className:f("flex h-full w-full items-center justify-center px-3",s?"":"rounded-lg"),children:[!!t.icon&&e.jsx("div",{className:"border-dark-5 flex h-7 w-7 items-center justify-center overflow-hidden rounded-full border",children:e.jsx(P,{className:"max-w-none",src:t.icon,width:Le[t.slug]||28,height:Le[t.slug]||28,alt:t.name})}),e.jsx("div",{className:f("truncate-text-[1] mx-3 grow text-lg",t.enabled?n?"text-white":"text-grey-1 group-hover:text-white-2":"text-grey-3"),children:t.name})]})})},t.slug)}function zs({minorBranches:t,item:s,collapsed:r,isMobileMenu:n}){const{minorBranchInfo:a}=y(),i=a!==void 0&&Ce.some(l=>l.id!==a.slug),[o,c]=d.useState(),[m,p]=d.useState(!1);return e.jsxs("li",{ref:c,className:f("group/game relative",!r&&"pl-4 transition-all"),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[e.jsx("div",{className:f("flex h-12 cursor-pointer flex-row items-center justify-center rounded-lg",i?"bg-blue-200":"group-hover/game:bg-dark-5"),title:s.name,children:e.jsxs("div",{className:"flex h-full w-full items-center",children:[e.jsx("div",{className:"relative flex h-12 w-12 items-center justify-center",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center overflow-hidden p-1",children:e.jsx(S,{className:f("max-w-none",i?"bg-white":"bg-grey-1"),icon:"more-circle.svg",width:te[s.id]||24,height:te[s.id]||24})})}),!r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:f("truncate-text-[1] ml-3 grow text-base",i?"text-white":"text-grey-1 group-hover/game:text-white-2"),children:s.name}),e.jsx(S,{className:f("mr-3",i?"bg-white":"bg-grey-1"),icon:"chevron-right.svg",width:24,height:24})]})]})}),!n&&e.jsx(ke,{className:"pl-6",referenceElement:o,visible:m,watchForUpdate:{collapsed:r},options:{placement:"right",modifiers:[{name:"offset",options:{offset:[0,0]}},{name:"preventOverflow"}]},children:e.jsxs("div",{className:"flex items-center pl-1",children:[e.jsx("div",{className:"bg-dark-3 border-dark-5 mr-[-5px] flex h-3 w-3 -rotate-45 rounded-[4px] border-t border-l"}),e.jsx("ul",{className:"bg-dark-3 border-dark-5 flex w-[280px] list-none flex-col gap-2 rounded-lg border py-4",children:t.map(l=>e.jsx($e,{branch:l,isMobileMenu:n},l.slug))})]})}),n&&m&&e.jsx("ul",{className:"flex w-full list-none flex-col gap-2 rounded-lg py-4",children:t.map(l=>e.jsx($e,{branch:l,isMobileMenu:n},l.slug))})]})}function xe({item:t,collapsed:s,gamesOpen:r,setGamesOpen:n,isMobileMenu:a=!1}){var l;const{pathname:i,minorBranches:o}=y(),c=d.useMemo(()=>{if(r)return!1;if(t.url===i)return!0;for(const u of t.children||[])if((u==null?void 0:u.url)===i)return!0;return!1},[t,i,r]),m=d.useMemo(()=>o.filter(u=>u.enabled&&u.visibleInMenu&&u.icon&&!Re.includes(u.slug)),[o]),p=d.useCallback(u=>o.filter(g=>g.enabled&&g.visibleInMenu&&g.icon&&g.slug===u.id).map(g=>({id:g.slug,name:g.name,slug:g.slug,icon:g.icon,url:`/${g.slug}`,enabled:g.enabled}))[0],[o]);return e.jsx("li",{className:f("relative px-6 pt-[6px]"),children:e.jsxs("div",{className:f(a&&"bg-dark-3 rounded-lg"),children:[e.jsx(B,{url:t.enabled&&t.url,className:f("group flex h-12 flex-row items-center justify-center",t.enabled?"cursor-pointer":"text-grey-30"),title:t.enabled?t.name:"Coming Soon",normalTag:!0,onClick:()=>{n(!r)},children:e.jsxs("div",{className:f("flex h-full w-full items-center justify-center rounded-lg px-3",t.enabled&&(c?"bg-blue-200":"group-hover:bg-dark-5")),children:[!!t.icon&&e.jsx(S,{icon:t.icon.split("images/")[1],width:t.type==="site"?32:24,height:t.type==="site"?32:24,className:f(t.enabled?c?"bg-white":"bg-grey-1 group-hover:bg-white-2":"bg-grey-3")}),!s&&e.jsx("div",{className:f("truncate-text-[1] mx-3 grow text-lg",t.enabled?c?"text-white":"text-grey-1 group-hover:text-white-2":"text-grey-3"),children:t.name}),!s&&e.jsx(S,{className:f("transition-transform",t.enabled?c?"bg-white":"bg-grey-1 group-hover:bg-white-2":"bg-grey-3",r?"-rotate-90":"rotate-90"),icon:"chevron-right.svg",width:24,height:24})]})}),!s&&(t.subtext&&typeof t.subtext=="string"?e.jsx("div",{className:"text-grey-425 ml-[60px] text-xs",children:t.subtext}):t.subtext),!!((l=t.children)!=null&&l.length)&&r&&e.jsxs("ul",{className:f("flex list-none flex-col gap-4 py-4 md:pt-[10px] md:pb-2"),children:[Ce.map(u=>{const g=u.isMiniBranch?p(u):void 0,h=t.children.find(x=>x.id===u.id);return g?e.jsx(Ie,{item:g,collapsed:s},u.id):h?e.jsx(Ie,{item:h,collapsed:s},u.id):void 0}),t.children.filter(u=>u.id!=="news"&&u.id!=="ti").map(u=>Re.includes(u.id)?void 0:e.jsx(Bs,{item:u,collapsed:s},u.id)),m.length>0?e.jsx(zs,{minorBranches:m,item:{id:"more-games",slug:"more-games",name:"More Games",url:""},isMobileMenu:a,collapsed:s}):null]})]})})}function q({item:t,collapsed:s,isSubmenu:r=!1,gamesOpen:n,isMobileMenu:a=!1,backgroundClass:i,linkProps:o,className:c}){var x,b,j;const[m,p]=d.useState(!1),[l,u]=d.useState(),{pathname:g}=y(),h=d.useMemo(()=>{if(r||t.id==="cookie-preferences")return!1;if(t.url===g)return!0;for(const w of t.children||[])if((w==null?void 0:w.url)===g)return!0;return!1},[t,g,r]);return e.jsx("li",{ref:u,className:f("group relative px-6",c),onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:e.jsxs("div",{className:i&&a?"rounded-lg":"",children:[e.jsx(B,{url:t.enabled&&t.url,className:f("flex h-12 flex-row items-center justify-center",t.enabled?"cursor-pointer":"text-grey-30"),title:t.enabled?t.name:"Coming Soon",alt:t.enabled?t.name:"Coming Soon",normalTag:!0,onClick:w=>{if(t.id==="cookie-preferences"){w.preventDefault();const N=window.__cmp;if(!N)return;N("showModal");return}t.onClick&&t.onClick(w),p(!m)},...o,children:e.jsxs("div",{className:f("flex h-full w-full items-center justify-center px-3",a?"":"rounded-lg",t.enabled&&!a&&(h?"bg-blue-200":"group-hover:bg-dark-5")),children:[!!t.icon&&e.jsx(ee,{icon:t.icon.split("images/")[1],width:t.type==="ad-choices"?16:t.type==="site"?32:24,height:t.type==="ad-choices"?16:t.type==="site"?32:24,className:f(t.enabled?h?"bg-white":"bg-grey-1 group-hover:bg-white-2":"bg-grey-3")}),!s&&e.jsx("div",{className:f("truncate-text-[1] mx-3 grow text-lg",t.enabled?h?"text-white":"text-grey-1 group-hover:text-white-2":"text-grey-3"),children:t.name}),!!((x=t.children)!=null&&x.length)&&!s&&e.jsx(d.Fragment,{children:e.jsx(ee,{className:f("transition-transform",t.enabled?h?"bg-white":"bg-grey-1 group-hover:bg-white-2":"bg-grey-3",a&&(m?"-rotate-90":"rotate-90")),icon:"chevron-right.svg",width:24,height:24})})]})}),!s&&(t.subtext&&typeof t.subtext=="string"?e.jsx("div",{className:"text-grey-425 ml-[60px] text-xs",children:t.subtext}):t.subtext),!a&&!!((b=t.children)!=null&&b.length)&&e.jsx(ke,{referenceElement:l,visible:m,watchForUpdate:{collapsed:s,gamesOpen:n},options:{placement:"right",modifiers:[{name:"offset",options:{offset:[0,0]}},{name:"flip",options:{fallbackPlacements:["right-end","right-start"]}},{name:"preventOverflow"}]},children:e.jsxs("div",{className:"flex items-center pl-1",children:[e.jsx("div",{className:"h-3 w-3"}),e.jsxs("ul",{className:"bg-dark-3 border-dark-5 flex w-60 list-none flex-col gap-2 rounded-lg border py-4",children:[t.children.map(w=>e.jsx(q,{item:w,isSubmenu:!0},w.id)),t.id==="about-us"?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"showConsentTool",item:{id:"ad-choices",enabled:!0,slug:"ad-choices",name:"AdChoices",url:"#",icon:"https://assets-ng.maxroll.gg/images/icons/frontend/ad-choices.webp",type:"ad-choices",onClick:w=>{w.preventDefault(),w.stopPropagation(),window.zdconsent.showConsentTool(w)}},isSubmenu:!0}),e.jsx(q,{className:"zdDSAR",linkProps:{target:"_blank",rel:"noreferrer noopener"},item:{id:"zd-dsar",enabled:!0,slug:"zd-dsar",name:"Do Not Sell My Personal Information",url:"https://dsar.ign.com/"},isSubmenu:!0})]}):void 0]})]})}),a&&m&&!!((j=t.children)!=null&&j.length)&&e.jsxs("ul",{className:"flex w-full list-none flex-col gap-2 rounded-lg py-4",children:[(t.children||[]).map(w=>e.jsx(q,{item:w,isSubmenu:!0,isMobileMenu:a,backgroundClass:"bg-transparent"},w.id)),t.id==="about-us"?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"showConsentTool",item:{id:"ad-choices",enabled:!0,slug:"ad-choices",name:"AdChoices",url:"#",icon:"https://assets-ng.maxroll.gg/images/icons/frontend/ad-choices.webp",type:"ad-choices",onClick:w=>{w.preventDefault(),w.stopPropagation(),window.zdconsent.showConsentTool(w)}},isSubmenu:!0,isMobileMenu:a,backgroundClass:"bg-transparent"}),e.jsx(q,{className:"zdDSAR",linkProps:{target:"_blank",rel:"noreferrer noopener"},item:{id:"zd-dsar",enabled:!0,slug:"zd-dsar",name:"Do Not Sell My Personal Information",url:"https://dsar.ign.com/"},isSubmenu:!0,isMobileMenu:a,backgroundClass:"bg-transparent"})]}):void 0]})]})})}function Gs(){var m;const{siteMenu:t}=y(),[s,r]=d.useState(!0),[n,a]=d.useState(),i=()=>{const p=!s;r(p);try{window.localStorage.setItem("mxr-left-menu",JSON.stringify(p))}catch{}},[o,c]=d.useState(!0);return e.jsxs("div",{className:f("bg-dark-1 fixed inset-y-0 left-0 z-[110] hidden flex-col justify-between gap-0 py-4 md:flex",s?"w-24":"w-64"),onMouseEnter:()=>{clearTimeout(n)},onMouseLeave:()=>{s||a(setTimeout(()=>{r(!0)},500))},children:[e.jsxs("div",{className:"flex flex-[0_1_auto] flex-col overflow-hidden",children:[e.jsx(E,{className:"mb-5",to:"/",regularLinks:!0,children:s?e.jsx(S,{title:"Maxroll",icon:"maxroll-mark-icon.svg",height:40,width:36,className:"mx-auto bg-blue-200"}):e.jsx(S,{title:"Maxroll",icon:"maxroll-full-logo-icon.svg",height:40,width:164,className:"mx-7 bg-blue-200"})}),e.jsxs("div",{className:"mb-5 flex h-8 cursor-pointer select-none items-center gap-3 pl-8",onClick:i,children:[e.jsx("div",{className:"bg-dark-1 border-dark-5 flex h-8 w-8 items-center justify-center rounded-[8px] border",children:e.jsx(S,{icon:"chevron-right.svg",width:24,height:24,className:f("bg-white transition-transform",!s&&"rotate-180")})}),!s&&e.jsx("span",{children:"Close Menu"})]}),e.jsx("div",{className:"scrollbar-hidden overflow-auto",children:e.jsx("ul",{className:"flex flex-col gap-2",children:(m=t[0].children)==null?void 0:m.map(p=>p.id==="guides"?e.jsx(xe,{item:p,collapsed:s,gamesOpen:o,setGamesOpen:c},p.id):p.id==="home"?e.jsx(d.Fragment,{children:e.jsx(xe,{item:p,collapsed:s,gamesOpen:o,setGamesOpen:c},p.id)},p.id):e.jsx(q,{item:p,collapsed:s,gamesOpen:o},p.id))})})]}),e.jsx("div",{className:""})]})}const He=t=>Symbol.iterator in t,Fe=t=>"entries"in t,Ue=(t,s)=>{const r=t instanceof Map?t:new Map(t.entries()),n=s instanceof Map?s:new Map(s.entries());if(r.size!==n.size)return!1;for(const[a,i]of r)if(!Object.is(i,n.get(a)))return!1;return!0},Vs=(t,s)=>{const r=t[Symbol.iterator](),n=s[Symbol.iterator]();let a=r.next(),i=n.next();for(;!a.done&&!i.done;){if(!Object.is(a.value,i.value))return!1;a=r.next(),i=n.next()}return!!a.done&&!!i.done};function Ys(t,s){return Object.is(t,s)?!0:typeof t!="object"||t===null||typeof s!="object"||s===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(s)?!1:He(t)&&He(s)?Fe(t)&&Fe(s)?Ue(t,s):Vs(t,s):Ue({entries:()=>Object.entries(t)},{entries:()=>Object.entries(s)})}function oe(t){const s=$.useRef(void 0);return r=>{const n=t(r);return Ys(s.current,n)?s.current:s.current=n}}function Y({className:t,manual:s=!1,alwaysVisible:r=!1}){return e.jsx("div",{className:f("bg-dark-3 border-dark-5 h-3 w-3 rotate-45 rounded-[4px] border-t border-l","absolute top-[calc(100%+4px)] z-[200]",s?"":r?"flex":"hidden group-hover:flex",t)})}function J({className:t,innerClassName:s,children:r}){return e.jsx("div",{className:f("absolute top-full z-[200] pt-[10px]",t),children:e.jsx("div",{className:f("bg-dark-3 border-dark-5 flex rounded-lg border",s),children:r})})}const Q=d.forwardRef(({className:t,children:s,isUserItem:r=!1,customPadding:n=!1,...a},i)=>e.jsx("div",{ref:i,className:f("flex items-center gap-2 px-3 md:pl-4 lg:gap-4 lg:pl-6",n?"":"py-5 md:py-6",r?"md:pr-8 lg:pr-9":"md:pr-4 lg:pr-6",t),...a,children:s})),Js=({notification:t})=>e.jsx("div",{className:"flex",children:e.jsx("span",{className:"font-sans font-bold leading-tight text-white",children:Jt(t.message.content)})}),Qs=()=>{const t=y(),s=se(r=>r.addEventListener);d.useEffect(()=>s(ne.MARKED_AS_READ,(r,n)=>{if(!n)return;const a=r.filter(i=>{var o;return i.app===G.MAXROLL&&((o=i.options.data)==null?void 0:o.listenChanges)});a.length!==0&&a.forEach(i=>fetch(`${t.userBackendUrl}/account/messages/${i.id}/read`,{method:"PATCH",credentials:"include"}))}),[s,t.userBackendUrl]),d.useEffect(()=>s(ne.MARKED_ALL_AS_READ,async(r,n)=>{!n||r.filter(i=>{var o;return i.app===G.MAXROLL&&((o=i.options.data)==null?void 0:o.listenChanges)}).length===0||fetch(`${t.userBackendUrl}/account/messages/read`,{method:"PATCH",credentials:"include"})}),[s,t.userBackendUrl]),d.useEffect(()=>{const r=(a,i)=>{if(!i)return;const o=a.filter(c=>{var m;return c.app===G.MAXROLL&&((m=c.options.data)==null?void 0:m.listenChanges)});o.length!==0&&o.forEach(c=>fetch(`${t.userBackendUrl}/account/messages/${c.id}`,{method:"DELETE",credentials:"include"}))},n=[s(ne.REMOVED,r),s(ne.REMOVED_READ,r)];return()=>n.forEach(a=>a())},[s,t.userBackendUrl]),d.useEffect(()=>s(ne.REMOVED_ALL,(r,n)=>{!n||r.filter(i=>{var o;return i.app===G.MAXROLL&&((o=i.options.data)==null?void 0:o.listenChanges)}).length===0||fetch(`${t.userBackendUrl}/account/messages`,{method:"DELETE",credentials:"include"})}),[s,t.userBackendUrl])},Xs=()=>{const[t,s,r]=se(oe(p=>[p.notifications,p.markAsRead,p.getNotifications])),{customNotify:n}=Ze();Qs();const[a,i]=d.useState(!0),o=y(),c=d.useMemo(()=>{var p,l;return(l=(p=o.user)==null?void 0:p[0])==null?void 0:l.plannerId},[o.user]),m=d.useCallback(p=>{p.forEach(l=>{if(!!r().map(j=>j.id).includes(l.message.id.toString())){const j=t.find(w=>w.id===l.message.id.toString());j&&j.read!==l.read&&s([l.message.id.toString()],l.read);return}const h=l.message,b=h.metadata.uri||null;n(null,{notificationId:h.id.toString(),app:G.MAXROLL,read:l.read,data:{listenChanges:!0},notificationCenter:{content:e.jsx(Js,{notification:l}),bottomAction:b?e.jsxs(K,{className:"flex items-center gap-1 font-sans text-white cursor-pointer",to:b,children:["Open",e.jsx(S,{className:"bg-blue-200",icon:"arrow-up-right.svg",width:20,height:20})]}):void 0},createdAt:h.created_at})})},[n,r,s,t]);return d.useEffect(()=>{if(!c)return;const p=new URL(window.location.href),l=new WebSocket(`${p.protocol==="https:"?"wss":"ws"}://${p.host}/notifications?user=${c}`);return l.onmessage=u=>{const{data:g}=u;g==="update"&&i(!0)},()=>{l.close()}},[c]),d.useEffect(()=>{a&&fetch(`${o.userBackendUrl}/account/messages`,{method:"GET",credentials:"include"}).then(p=>p.ok?p.json():[]).then(p=>{m(p),i(!1)}).catch(()=>i(!1))},[m,o.userBackendUrl,a]),null},Zs=d.memo(Xs),be=$.forwardRef(({className:t,required:s,htmlFor:r,...n},a)=>e.jsx("label",{ref:a,htmlFor:r,"data-required":s,className:f('text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 data-[required="true"]:after:content-["_*"] after:text-red-1',t),...n}));be.displayName="label";const Ks=$.lazy(()=>yt(()=>import("./chunk-IKWJMTEU-B1WfP16l.js").then(t=>t.s),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16])).then(t=>({default:t.SettingsFormContent}))),en=({onClose:t})=>{const{siteInfo:s}=y(),r=s.short==="poe"||s.short==="poe2",n=Ze(),[a,i,o,c,m]=se(oe(l=>[l.maxActiveToasts,l.setMaxActiveToasts,l.defaultContainer,l.setStackedToasts,l.setToastPosition])),p=d.useMemo(()=>{const l=[{selector:"General",content:e.jsxs("div",{className:"grid grid-cols-1 gap-4 py-5",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(be,{htmlFor:"maxActiveToasts",children:"Max active notifications:"}),e.jsx(vt,{id:"maxActiveToasts",inputSize:"sm-md",value:a,onChange:u=>i(u)})]}),e.jsx("div",{children:e.jsx(Nt,{value:!!o.stacked,label:"Enable stacked notifications",onChange:u=>c(u)})}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx(be,{htmlFor:"maxActiveToasts",children:"Notification position:"}),e.jsx(kt,{value:o.position,size:"sm-md",options:[{label:"Top-Right",value:"top-right"},{label:"Bottom-Right",value:"bottom-right"}],onChange:u=>m(u==null?void 0:u.value)})]}),e.jsx("div",{children:e.jsx(Z,{buttonStyle:"primary2",onClick:()=>{n.notifyInfo("This is an info message"),n.notifyWarning("This is an warning message"),n.notifySuccess("This is an success message"),n.notifyError("This is an error message")},children:"Get notifications"})})]})}];return r&&l.push({selector:"PoExchange",content:e.jsx(d.Suspense,{children:e.jsx("div",{className:"py-4",children:e.jsx(Ks,{})})})}),l},[o.position,o.stacked,r,a,i,c,m,n]);return e.jsx(St,{onClose:t,children:e.jsxs("div",{className:"flex flex-col bg-dark-3 p-6",children:[e.jsx("div",{className:"font-sans text-[20px] pb-5 text-white-1",children:e.jsx("h2",{children:"Notification Settings"})}),e.jsx(V,{className:"max-h-[min(500px,calc(100vh_-_300px))]",children:e.jsx(Tt,{tabs:p,initialTab:0,headerSpacing:{type:"equal-spacing"}})}),e.jsx("div",{className:"flex items-center justify-end p-2",children:e.jsx(Z,{buttonStyle:"primary",onClick:()=>t(),children:"Close"})})]})})},tn={poe:"images/game-logos/poe-logo.png",poe2:"images/minor-branches/poe-2/poe-2-icon.webp"};function gt({openDropdown:t,onDropdownChange:s}){const{assetPath:r}=y(),{notifications:n,markAllAsReadInternal:a,markAsReadInternal:i,removeInternal:o,clearReadInternal:c,blockToastContainer:m,unblockToastContainer:p}=se(oe(v=>({notifications:v.notifications,markAllAsReadInternal:v.markAllAsRead,markAsReadInternal:v.markAsRead,removeInternal:v.remove,clearReadInternal:v.clearRead,blockToastContainer:v.blockToastContainer,unblockToastContainer:v.unblockToastContainer}))),l=d.useMemo(()=>n.filter(v=>v.store&&v.displayed),[n]),g=d.useMemo(()=>l.filter(v=>!v.read),[l]).length,h=d.useCallback(v=>i(v,!0),[i]),x=d.useCallback(()=>a(!0),[a]),b=d.useCallback(v=>o(v,!0),[o]),[j,w]=d.useState(!1),N=d.useCallback(v=>{v?setTimeout(()=>m(),0):p(),w(v),s&&s(v)},[m,s,p]),I=d.useCallback(()=>{c(!0),N(!1)},[c,N]);d.useEffect(()=>{t!=="notifications"&&w(!1)},[t,w]);const[z,O]=d.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(Zs,{}),z&&e.jsx(en,{onClose:()=>O(!1)}),e.jsxs(Q,{className:"relative h-full group",onMouseEnter:()=>{N(!0)},onMouseLeave:()=>{N(!1)},children:[e.jsx(S,{className:"bg-grey-30 group-hover:bg-white",icon:"icons/frontend/notification.webp",onClick:()=>{N(!j)},width:20,height:20}),g>0&&e.jsx("span",{className:"absolute flex items-center justify-center w-4 h-4 -translate-y-1/2 bg-blue-200 rounded-full right-1 top-1/2",children:e.jsx("span",{className:"font-sans text-xs font-semibold text-white",children:g>99?99:g})}),j&&e.jsxs(e.Fragment,{children:[e.jsx(J,{className:f("-right-[104px] md:-right-12 flex"),innerClassName:"flex flex-col w-full sm:w-auto min-w-[300px] max-w-[calc(100vw_-_40px)] md:min-w-[400px] md:max-w-[500px]",children:e.jsxs(d.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-dark-5",children:[e.jsx("span",{className:"font-sans text-white uppercase",children:"Notifications"}),e.jsx("button",{className:f("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:border-blue-1 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50","hover:bg-accent hover:text-accent-foreground","h-9 w-9"),onClick:()=>{N(!1),O(!0)},children:e.jsx(S,{className:"bg-white",icon:"icons/settings.svg",width:18,height:18})})]}),l.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col",children:e.jsx(V,{className:"max-h-[min(500px,calc(100vh_-_300px))]",innerClassName:"flex flex-col gap-2 p-2 md:p-3",type:"vertical",children:l.map(v=>e.jsx(sn,{notification:v,assetPath:r,popoverOpen:j,setPopoverOpen:w,markAsRead:h,remove:b},v.id))})}),e.jsxs("div",{className:"flex items-center justify-between gap-2 pl-2 p-4 md:pl-3 md:p-5",children:[e.jsx(Z,{buttonStyle:"primary2",onClick:()=>I(),children:"Clear Read"}),e.jsx(Z,{buttonStyle:"primary2",disabled:g===0,onClick:()=>x(),children:"Mark all as read"})]})]}):e.jsx("div",{className:"flex min-h-[140px] items-center justify-center px-5 py-5",children:e.jsx("span",{className:"font-sans font-bold text-grey-3",children:"No Notifications"})})]})}),e.jsx(Y,{manual:!0,className:"flex right-4 md:right-6"})]})]})]})}const sn=({notification:t,assetPath:s,popoverOpen:r,setPopoverOpen:n,markAsRead:a,remove:i})=>{const o=t.notificationCenter,c=d.useMemo(()=>({notification:t,popoverOpen:r,setPopoverOpen:n,markAsRead:()=>a([t.id]),remove:()=>i([t.id])}),[a,t,r,i,n]),m=d.useMemo(()=>{switch(t.type){case"success":return"--maxroll-color-green";case"info":return"--maxroll-color-blue";case"warning":return"--maxroll-color-orange";case"error":return"--maxroll-color-red";default:return}},[t.type]),p=d.useMemo(()=>t.game?e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute border-2 rounded-full -top-2 -right-2 border-blue-1",src:`${s}/poexchange/assets/animated_poexchange.gif`,width:24,height:24}),e.jsx("div",{className:"flex items-center justify-center border rounded-full h-11 w-11 bg-dark-1 border-dark-1",children:e.jsx(P,{src:`${s}/${tn[t.game]}`,width:48,height:48,className:"max-w-none"})})]}):t.app===G.POEXCHANGE?e.jsx("div",{className:"flex items-center justify-center border rounded-full bg-dark-2 group-hover/notif:border-grey-3 border-dark-2 h-11 w-11",children:e.jsx(P,{className:"max-w-none",src:`${s}/poexchange/assets/animated_poexchange.gif`,width:40,height:40})}):e.jsx("div",{className:"flex items-center justify-center border rounded-full bg-dark-2 group-hover/notif:border-grey-3 border-dark-2 h-11 w-11",children:e.jsx(S,{className:"bg-blue-200",icon:"maxroll-mark-icon.svg",width:28,height:28})}),[s,t.app,t.game]);return e.jsxs("div",{onMouseEnter:()=>{t.read||a([t.id])},className:f("relative flex items-center justify-between gap-2 max-w-full rounded-lg border-2 p-0 border-dark-2 hover:border-blue-1",t.read&&"opacity-50 hover:opacity-100","group/notif hover:bg-dark-4"),style:m&&{background:`linear-gradient(to right, transparent 50%, rgba(var(${m}), ${t.read?.16:.3}) 100%)`},children:[e.jsxs("div",{className:"flex justify-start flex-grow gap-3 md:gap-4 overflow-hidden p-1 md:p-3",children:[e.jsx("div",{className:"flex flex-col items-center justify-center w-12 gap-2 shrink-0",children:p}),e.jsxs("div",{className:"flex flex-col flex-grow gap-3 md:gap-4 whitespace-normal break-words",children:[e.jsxs("div",{className:"flex flex-col justify-between flex-grow gap-2",children:[e.jsx("div",{className:"flex max-w-full",children:typeof(o==null?void 0:o.content)=="function"?o.content(c):o==null?void 0:o.content}),e.jsx(Se,{fallback:"",children:()=>e.jsx(_t,{className:"font-sans text-sm leading-tight text-grey-3",isRelativeToUTC:t.app===G.MAXROLL,createdAt:t.createdAt})})]}),typeof(o==null?void 0:o.bottomAction)=="function"?o.bottomAction(c):o==null?void 0:o.bottomAction]})]}),e.jsxs("div",{className:"flex flex-col items-center justify-between shrink-0 h-full p-0.5 md:p-2",children:[e.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-md",children:e.jsx(Ct,{theme:t.options.theme??"dark",type:t.type,width:16,height:16})}),typeof(o==null?void 0:o.actions)=="function"?o.actions(c):o==null?void 0:o.actions,!(o!=null&&o.hideDeleteButton)&&e.jsx("button",{className:f("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:border-blue-1 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50","hover:bg-accent hover:text-accent-foreground","h-8 w-8"),onClick:()=>i([t.id]),children:e.jsx(S,{icon:"icons/delete-icon-2.svg",height:16,width:16,color:"rgb(var(--maxroll-color-white-1))"})})]})]})};function ht({isMobile:t,openDropdown:s,onDropdownChange:r}){var u,g,h;const{user:n,userLoaded:a,loginDialogOpen:i}=y(),{blockToastContainer:o,unblockToastContainer:c}=se(oe(x=>({blockToastContainer:x.blockToastContainer,unblockToastContainer:x.unblockToastContainer}))),[m,p]=d.useState(!1),l=d.useCallback(x=>{x?setTimeout(()=>o(),0):c(),p(x),r&&r(x)},[o,r,c]);return d.useEffect(()=>{s!=="user-profile"&&p(!1)},[s]),a!=null&&a[0]?e.jsxs(Q,{className:f("group relative",n!=null&&n[0]?"py-[14px] md:py-3":""),customPadding:(n==null?void 0:n[0])!==void 0,isUserItem:!0,onMouseEnter:()=>{l(!0)},onMouseLeave:()=>{l(!1)},children:[n!=null&&n[0]?e.jsx("button",{className:"flex items-center",onClick:()=>{l(!m)},children:e.jsx("div",{className:"flex h-8 w-8 items-center justify-center overflow-hidden rounded-full md:h-12 md:w-12",children:e.jsx(Et,{email:((u=n[0].traits)==null?void 0:u.email)||""})})}):e.jsxs("button",{className:"group/item flex items-center gap-2",onClick:()=>{i[1](!0)},children:[e.jsx(ee,{className:"bg-grey-30 group-hover/item:bg-white",icon:"icons/frontend/user.webp",width:20,height:20}),!t&&e.jsx("span",{className:"text-opac-50 group-hover/item:text-white",children:"Sign In"})]}),(n==null?void 0:n[0])&&e.jsxs(e.Fragment,{children:[e.jsxs(J,{className:f("pr-2",t?"-right-8":"right-0",m?"flex":"hidden"),innerClassName:"min-w-[160px] flex-col gap-5 p-6",children:[Mt(n==null?void 0:n[0])?e.jsxs("span",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xxs font-bold uppercase leading-tight",children:"Subscription"}),e.jsx("span",{className:"font-sm leading-tight text-blue-200",children:(h=(g=n==null?void 0:n[0].subscription)==null?void 0:g.tier)==null?void 0:h.name})]}):e.jsx(K,{className:"text-grey-1 hover:text-white",to:n[0].nitroSubscriptionUrl,children:"Subcribe to Ad-free"}),e.jsx("span",{className:"bg-dark-5 block h-[1px]"}),e.jsx(E,{className:"group/item flex items-center gap-2",regularLinks:!0,to:"/auth/settings",children:e.jsx("span",{className:"text-opac-50 group-hover/item:text-white",children:"Settings"})}),e.jsx(E,{className:"group/item flex items-center gap-2",regularLinks:!0,to:"/auth/logout",children:e.jsx("span",{className:"text-opac-50 group-hover/item:text-white",children:"Logout"})})]}),e.jsx(Y,{manual:!0,className:f(t?"right-4 md:right-4":"right-10",m?"flex":"hidden")})]})]}):e.jsx("span",{className:f("block",t?"w-[44px]":"w-[144px]")})}function ie(t){"@babel/helpers - typeof";return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},ie(t)}function We(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function W(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?We(Object(r),!0).forEach(function(n){ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ft(t,s,r){return s=nn(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function nn(t){var s=rn(t,"string");return ie(s)==="symbol"?s:String(s)}function rn(t,s){if(ie(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,s||"default");if(ie(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}var an=ds({name:"hits",connector:!0}),on=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ps;return us(s,an()),function(n){var a=n||{},i=a.escapeHTML,o=i===void 0?!0:i,c=a.transformItems,m=c===void 0?function(u){return u}:c,p,l;return{$$type:"ais.hits",init:function(g){s(W(W({},this.getWidgetRenderState(g)),{},{instantSearchInstance:g.instantSearchInstance}),!0)},render:function(g){var h=this.getWidgetRenderState(g);s(W(W({},h),{},{instantSearchInstance:g.instantSearchInstance}),!1),h.sendEvent("view:internal",h.hits)},getRenderState:function(g,h){return W(W({},g),{},{hits:this.getWidgetRenderState(h)})},getWidgetRenderState:function(g){var h=g.results,x=g.helper,b=g.instantSearchInstance;if(p||(p=bs({instantSearchInstance:b,index:x.getIndex(),widgetType:this.$$type})),l||(l=ws({index:x.getIndex(),widgetType:this.$$type,instantSearchInstance:b})),!h)return{hits:[],results:void 0,sendEvent:p,bindEvent:l,widgetParams:n};o&&h.hits.length>0&&(h.hits=ms(h.hits));var j=js(h.hits,h.page,h.hitsPerPage),w=ys(j,h.queryID),N=m(w,{results:h});return{hits:N,results:h,sendEvent:p,bindEvent:l,widgetParams:n}},dispose:function(g){var h=g.state;return r(),o?h.setQueryParameters(Object.keys(Pe).reduce(function(x,b){return W(W({},x),{},ft({},b,void 0))},{})):h},getWidgetSearchParameters:function(g){return o?g.setQueryParameters(Pe):g}}}};function xt(t,s){return gs(on,t,s)}var ln=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"];function we(){return we=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},we.apply(this,arguments)}function cn(t,s){if(t==null)return{};var r=dn(t,s),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(s.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dn(t,s){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(s.indexOf(a)>=0)&&(r[a]=t[a]);return r}function un(t){var s=t.classNames,r=t.children,n=t.highlightedTagName,a=t.isHighlighted,i=t.nonHighlightedTagName,o=a?n:i;return $.createElement(o,{className:a?s.highlighted:s.nonHighlighted},r)}function mn(t){var s=t.parts,r=t.highlightedTagName,n=r===void 0?"mark":r,a=t.nonHighlightedTagName,i=a===void 0?"span":a,o=t.separator,c=o===void 0?", ":o,m=t.className,p=t.classNames,l=cn(t,ln);return $.createElement("span",we({},l,{className:ae(p.root,m)}),s.map(function(u,g){var h=g===s.length-1;return $.createElement(d.Fragment,{key:g},u.map(function(x,b){return $.createElement(un,{key:b,classNames:p,highlightedTagName:n,nonHighlightedTagName:i,isHighlighted:x.isHighlighted},x.value)}),!h&&$.createElement("span",{className:p.separator},c))}))}var pn=["classNames"];function je(){return je=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},je.apply(this,arguments)}function gn(t,s){if(t==null)return{};var r=hn(t,s),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(s.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hn(t,s){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(s.indexOf(a)>=0)&&(r[a]=t[a]);return r}function fn(t){var s=t.classNames,r=s===void 0?{}:s,n=gn(t,pn);return $.createElement(mn,je({classNames:{root:ae("ais-Highlight",r.root),highlighted:ae("ais-Highlight-highlighted",r.highlighted),nonHighlighted:ae("ais-Highlight-nonHighlighted",r.nonHighlighted),separator:ae("ais-Highlight-separator",r.separator)}},n))}var xn=["hit","attribute","highlightedTagName","nonHighlightedTagName","separator"];function ye(){return ye=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ye.apply(this,arguments)}function bn(t,s){if(t==null)return{};var r=wn(t,s),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(s.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wn(t,s){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(s.indexOf(a)>=0)&&(r[a]=t[a]);return r}function me(t){var s=t.hit,r=t.attribute,n=t.highlightedTagName,a=t.nonHighlightedTagName,i=t.separator,o=bn(t,xn),c=fs(s._highlightResult,r)||[],m=Array.isArray(c)?c:[c],p=m.map(function(l){return xs(hs(l.value||""))});return $.createElement(fn,ye({},o,{parts:p,highlightedTagName:n,nonHighlightedTagName:a,separator:i}))}function jn(){const{minorBranches:t,siteMenu:s,isAuthForBeta:r}=y(),{hits:n}=xt(),a=d.useMemo(()=>n.reduce((c,m)=>{var u;let p=m.breadcrumbs.length>0?m.breadcrumbs[0].title:"Global",l;if(p==="News"?l=t.find(g=>{var h;return g.slug===((h=m.taxonomies.branch)==null?void 0:h[0])}):l=t.find(g=>g.name===p),l){if(p=l==null?void 0:l.name,l.enabled!==!0)return c}else{const g=(u=s[1].children)==null?void 0:u.find(h=>h.slug===m.blog);if((g==null?void 0:g.enabled)!==!0&&(!(g!=null&&g.isBeta)||!r))return c}return c[p]||(c[p]=[]),c[p].push(m),c},{}),[n,t,s,r]);if(n.length===0||Object.keys(a).length===0)return e.jsx("p",{className:"text-grey-30 p-6 font-sans",children:"No results were found"});const i=4;let o=0;return e.jsx("div",{className:"flex w-full flex-col gap-2 pt-3 pb-2",children:Object.keys(a).map(c=>o>=i?null:e.jsxs(d.Fragment,{children:[e.jsx("div",{className:"text-opac-50 bg-dark-4 flex items-center py-1 pl-6 font-sans text-sm font-semibold uppercase",children:c}),e.jsx("ul",{className:"flex flex-col px-6",children:a[c].map((m,p)=>o>=i?null:(o+=1,e.jsxs("li",{className:f("flex flex-col",o<i&&p<a[c].length-1&&"border-opac-10 mb-2 border-b"),children:[e.jsxs(E,{className:"group flex flex-col",to:F(m.permalink),regularLinks:!0,children:[e.jsx("span",{className:"font-sans text-white",children:e.jsx(me,{attribute:"post_title",hit:m})}),e.jsxs("span",{className:"text-opac-70 font-sans",children:["By: ",e.jsx(me,{attribute:"post_author.display_name",hit:m})]})]}),e.jsx("span",{className:"flex items-center truncate",children:m.breadcrumbs&&m.breadcrumbs.map((l,u)=>{const g={title:l.title,url:l.url};if(l.url==="/landing"){const h=t.find(x=>{var b;return x.slug===((b=m.taxonomies.branch)==null?void 0:b[0])});h&&(g.title=h==null?void 0:h.name)}return e.jsxs(d.Fragment,{children:[g.url!==""?e.jsxs(E,{className:"",regularLinks:!0,to:F(g.url),children:[e.jsx("span",{className:"text-opac-40 inline overflow-ellipsis whitespace-nowrap font-sans text-xs leading-8 hover:text-white",children:g.title})," "]}):e.jsx("span",{className:"text-opac-40 inline overflow-ellipsis whitespace-nowrap font-sans text-xs leading-8",children:g.title}),u<m.breadcrumbs.length-1&&e.jsx("span",{className:"mx-1",children:e.jsx(S,{icon:"right_arrow.svg",width:8,height:8,className:"bg-opac-40"})})]},u)})})]},m.objectID)))})]},c))})}function yn(){const{minorBranches:t,search:s}=y(),r=d.useRef(null),[n,a]=d.useState(!1),i="wp_posts_all",o=d.useMemo(()=>({searchUrl:s.url,searchApiKey:s.api_key,omitSearchOnFirstRender:!0,searchOptions:{finitePagination:!0}}),[]),{searchClient:c}=it(o);at(r,()=>{a(!1)});const p=`(taxonomies.branch NOT EXISTS OR taxonomies.branch IN [${t.filter(l=>l.enabled).map(l=>l.slug).join(", ")}])`;return e.jsx("div",{ref:r,className:"bg-dark-4 border-dark-5 group relative m-6 flex items-center gap-3 rounded-md border px-6",children:c?e.jsxs(ot,{searchClient:c,indexName:i,future:{preserveSharedStateOnUnmount:!1},onStateChange:({uiState:l,setUiState:u})=>{var h;const g=((h=l==null?void 0:l[i].query)==null?void 0:h.length)||0;a(g>0),u(l)},children:[e.jsx(S,{className:"bg-grey-30 min-w-[20px]",icon:"icons/frontend/search.webp",width:20,height:20}),e.jsx(ct,{className:"top-menu-search placeholder:text-grey-30 flex flex-1 items-center border-none bg-transparent focus:outline-none",placeholder:"Search Everything",searchAsYouType:!0}),n&&e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"top-0 left-0 flex w-full",innerClassName:"w-full",children:n&&e.jsx(jn,{})}),e.jsx(Y,{className:"left-[80px]",alwaysVisible:!0})]}),e.jsx(lt,{filters:p,hitsPerPage:40,distinct:!0,attributesToSnippet:["description:50"],snippetEllipsisText:"..."})]}):null})}function vn({item:t}){const{pathname:s,assetPath:r}=y(),n=d.useMemo(()=>s.startsWith(t.url)||typeof window<"u"&&window.location.href.startsWith(t.url),[t,s]);return e.jsx("li",{className:f("group/game relative pl-4 transition-all"),children:e.jsx(B,{url:t.enabled&&t.url,className:f("flex h-10 flex-row items-center justify-center",t.enabled?"cursor-pointer":"text-grey-30"),title:t.enabled?t.name:"Coming Soon",normalTag:!0,onClick:t.onClick,children:e.jsxs("div",{className:f("flex h-full w-full items-center rounded-lg pl-1"),children:[!!t.icon&&e.jsx("div",{className:f("flex h-10 w-10 items-center justify-center rounded-full border p-1",n?"border-fix-[#057AF0] border-blue-200":"border-dark-5 border-fix-[#2b2c2c] group-hover/game:border-grey-3 group-hover/game:border-fix-[#737373]"),children:e.jsx(P,{src:`${r}/images/${t.icon.split("images/")[1]}`,width:32,height:32})}),e.jsx("div",{className:f("truncate-text-[1] ml-3 grow text-base",t.enabled?n?"text-white":"text-grey-1 group-hover/game:text-white-2":"text-grey-3"),children:t.name})]})})})}function Nn({item:t,className:s}){var o;const{pathname:r}=y(),[n,a]=d.useState(!1),i=d.useMemo(()=>{if(n)return!1;if(t.url===r)return!0;for(const c of t.children||[])if((c==null?void 0:c.url)===r)return!0;return!1},[t,r,n]);return e.jsxs("div",{className:f("relative pt-[6px]",s||"px-3"),children:[e.jsx(B,{url:t.enabled&&t.url,className:f("group flex h-12 flex-row items-center justify-center",t.enabled?"cursor-pointer":"text-grey-30"),title:t.enabled?t.name:"Coming Soon",normalTag:!0,onClick:()=>{a(!n)},children:e.jsxs("div",{className:f("flex h-full w-full items-center justify-center rounded-lg px-3"),children:[!!t.icon&&e.jsx(S,{icon:t.icon.split("images/")[1],width:24,height:24,className:f(t.enabled?i?"bg-white":"bg-grey-1 group-hover:bg-white-2":"bg-grey-3")}),e.jsx("div",{className:f("truncate-text-[1] mx-3 grow text-lg",t.enabled?i?"text-white":"text-grey-1 group-hover:text-white-2":"text-grey-3"),children:t.name}),e.jsx(S,{className:f("transition-transform",t.enabled?i?"bg-white":"bg-grey-1 group-hover:bg-white-2":"bg-grey-3",n?"rotate-90":"-rotate-90"),icon:"chevron-right.svg",width:24,height:24})]})}),!!((o=t.children)!=null&&o.length)&&n&&e.jsx("ul",{className:"flex list-none flex-col gap-4 pt-[10px]",children:t.children.map(c=>e.jsx(vn,{item:c},c.id))})]})}function kn(){const{apiUrl:t}=y(),{pinnedPages:s}=Ke();return e.jsx(Nn,{className:"px-6",item:{id:"mobile-pinned-pages",name:"Pinned Pages",slug:"pinned-pages",icon:"images/icons/frontend/pin.webp",url:"",enabled:!0,children:s.map((r,n)=>({id:`pinned-page-${n}`,url:F(r.link,t),name:r.text,slug:`pinned-page-${n}`,enabled:!0}))}})}const qe=()=>e.jsx("div",{className:"border-dark-5 my-3 mx-6 border-t"});function Sn(){const{siteMenu:t,user:s,loginDialogOpen:r}=y(),n=t[0].children||[],[a,i]=d.useState(!0);return e.jsxs("div",{className:"bg-dark-1 fixed inset-0 top-[60px] z-[99999] overflow-y-auto pb-10 md:hidden",children:[e.jsx(yn,{}),e.jsx(qe,{}),e.jsx("ul",{className:"flex flex-col gap-2",children:n.map(o=>o.id==="guides"?e.jsx(xe,{item:o,collapsed:!1,gamesOpen:a,setGamesOpen:i,isMobileMenu:!0},o.id):e.jsx(q,{item:o,collapsed:!1,gamesOpen:a,isMobileMenu:!0},o.id))}),e.jsx(qe,{}),e.jsx(kn,{}),e.jsxs("div",{className:"mx-6 mt-4 flex flex-col gap-4",children:[e.jsx("div",{className:"border-dark-5 bg-dark-4 relative flex h-12 cursor-pointer items-center justify-center rounded-lg border px-5",onClick:()=>{var o;(o=s==null?void 0:s[0])!=null&&o.id?s!=null&&s[0].nitroSubscriptionUrl&&window.open(s==null?void 0:s[0].nitroSubscriptionUrl):r[1](!0)},children:e.jsxs("h2",{className:"text-white-2 flex h-full items-center justify-center gap-1 text-center font-sans uppercase",children:[e.jsx("span",{children:"Get Maxroll"}),e.jsx("span",{className:"text-red-30",children:"Ad-Free"})]})}),e.jsx(cs,{})]})]})}function Tn(){const{user:t,siteMenu:s}=y(),[,,r]=s,[n,a]=d.useState(!1),[i,o]=d.useState(void 0),c=d.useCallback((l,u)=>{o(u?l:void 0)},[o]),m=(r==null?void 0:r.id)==="poe"||(r==null?void 0:r.id)==="poe2",p=(t==null?void 0:t[0])!==void 0||m;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-dark-1 sticky top-0 z-[110] flex h-[60px] w-full flex-row items-center justify-between pl-5 pr-2 md:hidden",children:[e.jsx(E,{to:"/",regularLinks:!0,children:e.jsx(S,{title:"Maxroll",className:"bg-blue-200",icon:"maxroll-full-logo-icon.svg",width:144,height:36})}),e.jsxs("div",{className:"flex",children:[p&&e.jsx(gt,{openDropdown:i,onDropdownChange:l=>{c("notifications",l),a(!1)}}),e.jsx(ht,{isMobile:!0,openDropdown:i,onDropdownChange:l=>{c("user-profile",l),a(!1)}}),e.jsx("div",{className:"flex h-[60] items-center justify-center pl-2 pr-3",onClick:()=>{const l=!n;a(l),c("menu",l)},children:e.jsx(S,{className:"bg-grey-2 cursor-pointer",icon:"hamburger-menu.svg",width:32,height:32})})]})]}),!!n&&e.jsx(Sn,{})]})}const A={COMMON:1,UNCOMMON:2,RARE:3,EPIC:4,LEGENDARY:5,MYTHIC:6},_n="_Timers_1sqe4_1",Cn="_Timers__scroll_1sqe4_1",En="_Timers__scrollInner_1sqe4_1",Mn="_Timers__marquee_1sqe4_1",An="_Timers__item_1sqe4_1",Pn="_Timers__itemMarquee_1sqe4_1",On="_Timers__icon_1sqe4_1",Dn="_Timers__title_1sqe4_1",In="_Timers__time_1sqe4_1",R={Timers:_n,Timers__scroll:Cn,Timers__scrollInner:En,Timers__marquee:Mn,Timers__item:An,Timers__itemMarquee:Pn,Timers__icon:On,Timers__title:Dn,Timers__time:In,"Timers__item--ongoing":"_Timers__item--ongoing_1sqe4_1"},Ln=-2,bt=new Date(Date.UTC(2025,9,2,0,0)),Rn=[{type:"daily-reset",title:"Daily Reset",frequency:"daily",start:{hour:5,minute:0},quality:A.COMMON},{type:"world-boss",title:"World Boss",frequency:"daily",start:{hour:16,minute:0},end:{hour:22,minute:0},quality:A.MYTHIC},{type:"guild-hunt",title:"Guild Hunt",frequency:"weekly",daysOfWeek:[5,6,0],start:{hour:14,minute:0},end:{hour:4,minute:0},quality:A.EPIC},{type:"guild-dance",title:"Guild Dance",frequency:"weekly",daysOfWeek:[5],start:{hour:15,minute:30},end:{hour:3,minute:30},quality:A.EPIC},{type:"weekly-reset",title:"Weekly Reset",frequency:"weekly",daysOfWeek:[1],start:{hour:5,minute:0},quality:A.COMMON},{type:"stimen-vault",title:"Stimen Vaults",frequency:"biweekly",daysOfWeek:[1],start:{hour:2,minute:0},quality:A.LEGENDARY,reference:bt}],pe=60*60*1e3,ve=24*pe,$n=7*ve,wt=Ln*pe,Hn=t=>new Date(t.getTime()+wt),ce=t=>new Date(t.getTime()-wt),Be={ongoing:1,next:0},Fn=(t,s)=>{if(!s.end)return;const r=new Date(t.getTime());r.setUTCHours(s.end.hour,s.end.minute,0,0);const n=s.start.hour*60+s.start.minute;return s.end.hour*60+s.end.minute<=n&&(r.setUTCDate(r.getUTCDate()+1),r.setUTCHours(s.end.hour,s.end.minute,0,0)),r},Un=(t,s)=>{if(t.frequency!=="biweekly")return!0;const r=t.reference??bt,n=s.getTime()-r.getTime();return n<0?!1:Math.floor(n/$n)%2===0},Wn=(t,s)=>{const r=Hn(s),n=r.getUTCFullYear(),a=r.getUTCMonth(),i=r.getUTCDate(),o=t.frequency==="biweekly"?14:7;for(let c=-1;c<=o;c+=1){const m=new Date(Date.UTC(n,a,i+c,t.start.hour,t.start.minute)),p=m.getUTCDay();if(t.daysOfWeek&&!t.daysOfWeek.includes(p)||!Un(t,m))continue;const l=Fn(m,t);if(l&&r>=m&&r<l)return{type:t.type,title:t.title,startTime:ce(m),endTime:ce(l),localStart:m,localEnd:l,status:"ongoing",quality:t.quality};if(r<m)return{type:t.type,title:t.title,startTime:ce(m),endTime:l?ce(l):void 0,localStart:m,localEnd:l,status:"next",quality:t.quality}}return null},ze=t=>{let s=Math.max(0,t.getTime()-Date.now());const r=Math.floor(s/ve);s%=ve;const n=Math.floor(s/pe);s%=pe;const a=Math.floor(s/6e4),i=Math.floor(s%6e4/1e3);return r?`${r}d ${n}h ${String(a).padStart(2,"0")}m`:`${n}h ${String(a).padStart(2,"0")}m ${String(i).padStart(2,"0")}s`},qn=t=>t.status==="ongoing"&&t.endTime?`${ze(t.endTime)} left`:ze(t.startTime),Bn=(t=new Date)=>{const s=Rn.map(r=>{const n=Wn(r,t);return n?{type:n.type,title:n.title,status:n.status,startTime:n.startTime,endTime:n.endTime,quality:n.quality,displayTime:qn(n)}:null}).filter(r=>r!==null);return s.sort((r,n)=>{if(r.status!==n.status){const a=Be[r.status];return Be[n.status]-a}return r.startTime.getTime()-n.startTime.getTime()}),s},zn={[A.COMMON]:"grey",[A.UNCOMMON]:"#8ab58e",[A.RARE]:"#9eaeda",[A.EPIC]:"#b59ef4",[A.LEGENDARY]:"#c5bb42",[A.MYTHIC]:"#ef8e60"},Ge=({event:t,className:s,...r})=>{const{assetPath:n}=y(),a=t.quality!==A.COMMON?zn[t.quality]:"rgba(var(--maxroll-color-grey-1))";return e.jsxs("span",{...r,className:f(R.Timers__item,t.status==="ongoing"&&R["Timers__item--ongoing"],s),children:[e.jsx("img",{alt:`${t.title} Icon`,src:`${n}/images/icons/blue-protocol/events/${t.type}-icon.webp`,className:R.Timers__icon}),e.jsx("span",{className:R.Timers__title,children:t.title}),e.jsx("span",{className:R.Timers__time,style:{color:a},children:t.displayTime})]})},Gn=()=>{const[t]=L(i=>({md:i.viewport.md})),[s,r]=d.useState([]),n=d.useCallback(()=>{r(Bn())},[]);d.useEffect(()=>{n();const i=setInterval(n,1e3);return()=>clearInterval(i)},[n]);const a=s.length>0;return e.jsx("div",{className:f("border-dark-2 sticky top-[60px] z-[50] flex w-full justify-center border-t bg-gradient-to-b md:top-[50px] md:pl-24 bg-dark-1"),children:e.jsx("div",{className:"w-full max-w-[1354px] pt-[8px] pb-[2px] px-6 md:pr-1",children:e.jsx("div",{className:R.Timers,children:a?t.md?e.jsx(V,{type:"horizontal",className:R.Timers__scroll,innerClassName:R.Timers__scrollInner,children:s.map(i=>e.jsx(Ge,{event:i},i.type))}):e.jsx(At,{className:R.Timers__marquee,duration:35e3,children:s.map(i=>e.jsx(Ge,{event:i,className:R.Timers__itemMarquee},i.type))}):null})})})};function he({width:t=16,height:s=10,color:r,className:n}){return e.jsx("span",{style:{width:`${t}px`,height:`${s}px`,backgroundColor:r?vs[r]:""},className:f("mask-image-[url(https://assets-ng.maxroll.gg/images/blue-arrow-down.svg?scope=mask)] block rotate-90",n)})}function Ve(t){const s=+t-+new Date;let r=null;return s>0&&(r={days:Math.floor(s/(1e3*60*60*24)),hours:Math.floor(s/(1e3*60*60)%24),minutes:Ye(Math.floor(s/(1e3*60)%60)),seconds:Ye(Math.floor(s/1e3%60))}),r}function Ye(t){return t=Number(t),t<10?`0${t}`:t}const Je=new Date(Date.UTC(2025,9,31,19,0,0));function Vn(){const{assetPath:t,siteInfo:s}=y(),[r]=L(c=>({lg:c.viewport.lg})),[n,a]=d.useState({days:0,hours:0,minutes:0,seconds:0}),i=s.short==="landing",o=d.useMemo(()=>n===null||(n==null?void 0:n.hours)===0&&(n==null?void 0:n.minutes)===0&&(n==null?void 0:n.seconds)===0,[n]);return d.useEffect(()=>{a(Ve(Je));const c=setInterval(()=>{a(Ve(Je))},1e3);return()=>clearInterval(c)},[]),r.lg&&(i||!o)?e.jsx("div",{className:"bg-dark-1 flex h-16 w-full justify-center gap-20 bg-gradient-to-b pl-24",children:e.jsx("div",{className:"flex h-full max-w-[1200px] flex-1 items-center justify-center font-sans text-sm",children:e.jsx("a",{href:"/poe",children:e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"border-dark-5 flex h-12 w-12 items-center justify-center rounded-md border",children:e.jsx(P,{width:48,height:"auto",src:`${t}/images/game-logos/poe-logo.png`,alt:`${s.title} Logo`})}),e.jsx("span",{className:"relative flex h-16 items-center justify-center",children:e.jsx(P,{className:"w-[200px] max-w-none mb-3",height:200,src:`${t}/images/poe/timer/poe1-keepers-of-the-flame.webp`})}),e.jsx("span",{className:"text-white-2 flex items-center gap-1 text-lg tracking-wider",children:o?e.jsxs(e.Fragment,{children:["is ",e.jsx("span",{className:"text-red-30 text-2xl",children:"LIVE"})]}):e.jsxs(e.Fragment,{children:["releases in",e.jsxs("span",{className:"text-red-30 text-xl",children:[n!=null&&n.days?e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:[n==null?void 0:n.days,"D"]}),e.jsx("span",{children:" "})]}):null,e.jsx("span",{children:n==null?void 0:n.hours}),e.jsx("span",{children:":"}),e.jsx("span",{children:n==null?void 0:n.minutes}),e.jsx("span",{children:":"}),e.jsx("span",{children:n==null?void 0:n.seconds})]})]})})]})})})}):null}function ge({item:t,children:s,innerClassName:r,...n}){var a,i;return e.jsx(B,{normalTag:!0,url:t.url,...n,children:e.jsxs("span",{className:r,children:[dt(t.name),((a=t.highlights)==null?void 0:a.includes("new"))&&e.jsx("span",{className:"font-bold text-blue-200",children:" New"}),((i=t.highlights)==null?void 0:i.includes("hot"))&&e.jsx("span",{className:"font-bold text-orange-300",children:" Hot"}),s]})})}function Yn({items:t,top:s=72}){const{pathname:r}=y(),[n]=L(a=>({md:a.viewport.md}));return e.jsx("div",{style:{top:`${s}px`,maxHeight:n.md?"":`calc(100vh - ${s}px)`},className:"bg-dark-3 border-dark-5 absolute inset-x-0 z-[100] overflow-auto border-b px-6 md:pl-[120px]",children:e.jsx("div",{className:"mx-auto max-h-[calc(100vh_-_72px)] max-w-[1350px] pt-6 pb-4 md:columns-5",children:t.map(a=>{var i;return e.jsxs("div",{className:"flex break-inside-avoid flex-col gap-2 pb-4",children:[e.jsx("h3",{className:"text-grey-150 cursor-default font-sans text-lg font-semibold uppercase",children:dt(a.name)}),!!((i=a.children)!=null&&i.length)&&e.jsx("div",{className:"flex flex-col",children:a.children.map(o=>e.jsx(ge,{item:o,className:f("block pl-3 font-sans leading-[28px] md:pl-0",o.url?f("text-grey-275 cursor-pointer",r===o.url?"text-blue-200":"hover:text-grey-150"):"text-grey-425")},o.id))})]},a.id)})})})}function Jn({items:t}){const{pathname:s}=y();return e.jsx("div",{className:"pt-2",children:e.jsx("div",{className:"bg-dark-3 border-dark-5 flex flex-col whitespace-nowrap rounded-[16px] border p-6",children:t.map(r=>{var a,i;return((a=r.url)==null?void 0:a.includes("/menu-dropdown-title"))||((i=r.highlights)==null?void 0:i.includes("menu-title"))?e.jsx(ge,{item:{...r,url:""},className:"text-grey-150 block cursor-default font-sans text-lg font-semibold uppercase leading-[32px]"},r.id):e.jsx(ge,{item:r,className:f("block font-sans leading-[32px]",r.url?f("text-grey-275 cursor-pointer",s===r.url?"text-blue-200":"hover:text-grey-150"):"text-grey-425")},r.id)})})})}function Qn(t){return t.children?t.children.some(s=>{var r;return(r=s.children)==null?void 0:r.length}):!1}function Xn(){document.body.style.overflow="hidden"}function Zn(){document.body.style.overflow="auto"}function Ne({item:t,active:s,type:r="desktop"}){var O,v,U;const{assetPath:n}=y(),[a]=L(C=>({hasPointer:C.viewport.hasPointer})),{uri:i}=y(),[o,c]=d.useState(!1),[m,p]=d.useState(!1),[l,u]=d.useState(!1),[g,h]=d.useState(null);d.useEffect(()=>{c(!1)},[i]),d.useEffect(()=>{var T;if(typeof document>"u")return;const C=(T=document.getElementsByClassName("maxroll-banner-menu"))==null?void 0:T[0];if(!C)return;let M;const k=()=>{c(!1),p(!0),M&&clearInterval(M),M=setTimeout(()=>{p(!1)},150)};return C.addEventListener("scroll",k),window.addEventListener("scroll",k),()=>{C.removeEventListener("scroll",k),window.removeEventListener("scroll",k)}},[]),d.useEffect(()=>{l&&!m&&(u(!1),c(!0))},[m,l]);const x=Qn(t),b=f("shrink-0 flex items-center group relative"),[j,w]=d.useState(null),N=t.url||t.onClick||((O=t.children)==null?void 0:O.length),I=r==="mobile";d.useEffect(()=>{o||Zn()},[o]);const z=d.useRef(s);return d.useEffect(()=>{z.current&&(g==null||g.scrollIntoView({inline:"center",block:"nearest"}))},[g]),e.jsxs("div",{ref:w,className:f("relative",b),onMouseEnter:()=>{var C;a.hasPointer&&((C=t.children)!=null&&C.length)&&c(!0)},onMouseLeave:()=>{c(!1)},children:[e.jsx("div",{ref:h,className:"absolute bottom-full h-[60px] w-full"}),e.jsxs(ge,{item:t,onClick:C=>{var M;t.onClick&&t.onClick(C),!a.hasPointer&&((M=t.children)!=null&&M.length)&&(C.preventDefault(),C.stopPropagation(),g==null||g.scrollIntoView({behavior:"smooth",inline:"center",block:"start"}),o?c(!1):(Xn(),setTimeout(()=>{u(!0)},100)))},className:f("flex h-full items-center font-sans text-sm lg:text-lg",I?"py-4":"",t.url?"cursor-pointer":"cursor-default",N?s?"text-white":"text-white-2 group-hover:text-white":"text-grey-3"),innerClassName:f("px-2 flex items-center relative",I?"rounded-full leading-[28px]":"leading-[50px]",I&&(s?"bg-blue-200":"bg-dark-2"),t.url.includes("/poexchange")&&"mr-2"),children:[!!((v=t.children)!=null&&v.length)&&e.jsx("span",{style:{maskImage:`url(${n}/images/blue-arrow-down.svg?scope=mask)`,WebkitMaskImage:`url(${n}/images/blue-arrow-down.svg?scope=mask)`,width:"10px",height:"9px"},className:f("mask-image-[none] ml-2 block transition-transform duration-300 ease-in-out",N?s?"bg-white":"bg-grey-1 group-hover:bg-white-2":"bg-dark-3",o&&"rotate-180")}),t.url.includes("/poexchange")?e.jsx(pt,{className:"top-2 right-0"}):void 0]}),s&&!I&&e.jsx("span",{className:"absolute left-0 bottom-0 h-[2px] w-full rounded-sm bg-blue-200"}),!!((U=t.children)!=null&&U.length&&o)&&(x?typeof document<"u"?$t.createPortal(e.jsx(Yn,{top:((j==null?void 0:j.getBoundingClientRect().top)||0)+window.scrollY+42,items:t.children}),document.querySelector("body")):null:e.jsx(Se,{children:()=>e.jsx(ke,{style:{zIndex:100},referenceElement:j,visible:o,options:{placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,0]}},{name:"flip",options:{fallbackPlacements:["bottom-end","bottom-start","right","left","top"]}},{name:"preventOverflow"}]},children:t.children&&e.jsx(Jn,{items:t.children})})}))]})}const Kn=[{img:"starforge-logo.svg",link:"http://starforgesystems.com/?utm_source=web&utm_medium=banner&utm_campaign=Maxroll",alt:"Starforge Systems"},{img:"secretlab-logo.svg",link:"https://secretlab.eu/?rfsn=7966155.f9e2f3&utm_source=refersion&utm_medium=affiliate&utm_campaign=7966155.f9e2f3",alt:"Secretlab"}],er={img:"ehg-logo-medium.svg",link:"https://eleventhhour.games/",alt:"Eleventh Hour Games"};function tr(t,s){let r=[];return(t==="le"||t==="landing"&&!s)&&r.push(er),t!=="ti"&&r.push(...Kn),t==="wow"&&(r=[]),r}function sr({className:t}){const{siteInfo:s,minorBranchInfo:r}=y(),[n]=L(i=>({md:i.viewport.md})),a=tr(s.short,r==null?void 0:r.slug);return e.jsx("div",{className:f("mx-auto flex w-full max-w-[1350px]",a.length===1?"justify-start":"justify-end",t),children:a.length>0?e.jsxs("div",{className:f("flex flex-col md:w-auto",a.length===1?"w-auto items-center":"w-full items-start"),children:[e.jsx("span",{className:"text-white-2 text-xxs font-sans uppercase md:text-xs md:opacity-60",children:"Powered By"}),e.jsx("div",{className:"flex items-center gap-3",children:a.map((i,o)=>e.jsx("a",{href:i.link,target:"_blank",children:e.jsx(S,{className:s.short==="ti"?"[mask-size:130%_!important]":void 0,icon:i.img,width:n.md?80:72,height:n.md?40:36,title:i.alt,color:"#FFFFFF"})},o))})]}):null})}function nr(){const[t,s]=L(r=>r.teamPageFilter);return e.jsx(V,{type:"horizontal",style:{padding:"0 24px"},className:f("px-6"),innerClassName:f("flex flex-row items-stretch md:justify-center gap-2 2xl:gap-4 h-[50px]"),children:et.tabs.map(r=>e.jsx(Ne,{item:{id:r.slug,slug:r.slug,name:r.title,url:"",enabled:!0,onClick:()=>{s({teamPageFilter:r.slug===""?void 0:r.slug})}},active:(t||"")===r.slug},r.slug))})}function rr(t,s){const r=[...s.map(n=>[n,n])];for(;r.length!=0;){const[n,a]=r.shift();if((n==null?void 0:n.url.split("?")[0])==t)return a;const i=(n==null?void 0:n.children)||[];r.push(...i.map(o=>[o,a]))}}function ar(t,s){var a;const r=(s==null?void 0:s.children)||[];let n=rr(t,r);return n||(n=(a=s==null?void 0:s.children)==null?void 0:a.reduce((i,o)=>{var c;return!i||t.includes(o.slug)&&o.slug.length>(((c=i==null?void 0:i.slug)==null?void 0:c.length)||0)?o:i},void 0)),n}const ir=1;function or(){var k,T,H,D;const{siteMenu:t,sites:s,assetPath:r,siteInfo:n,minorBranchInfo:a,pathname:i}=y(),[,o,c]=t,m=(k=o.children)==null?void 0:k.find(_=>i.startsWith(_.url)),p=ar(i,c),[l]=L(_=>({loaded:_.viewport.loaded,md:_.viewport.md})),u=i==="/team",g=a!==void 0,h=n.long==="news"||n.long==="landing"&&!g,x=(n.long!=="landing"&&n.long!=="news"&&Object.keys(s).includes(n.long)||g)&&!!c&&(((T=c==null?void 0:c.children)==null?void 0:T.length)??0)>0,b=n.long!=="landing"&&n.long!=="news"&&Object.keys(s).includes(n.long)||g,j=["poe","la"].includes(n.short)?"top":"center",w=["wow"].includes(n.short)?"25%":["d4","d3","poe","le","ti"].includes(n.short)||["hades-2","black-myth-wukong","wuchang-fallen-feathers"].includes((a==null?void 0:a.slug)||"")?"top":"center",N=!!(a!=null&&a.wideBanner)&&!!(a!=null&&a.mobileBanner),I=(a==null?void 0:a.wideBanner)||n.wideBanner,z=(a==null?void 0:a.mobileBanner)||n.mobileBanner,O=`${g&&N?"":`${r}/`}${l.md?I:z}`,v=(["poe"].includes(n.short)||g)&&l.md,U=d.useRef();d.useEffect(()=>{if(typeof window>"u")return;const _=()=>{if(U.current===void 0)return;const X=window.scrollY;U.current.style.opacity=`${Math.min(1,Math.max(0,(1-(X||0)/160)*ir))}`};return window.addEventListener("scroll",_),()=>{window.removeEventListener("scroll",_)}},[]);const C=n.short==="landing"&&(a==null?void 0:a.slug)===void 0,M=n.short==="landing"&&(a==null?void 0:a.slug)!==void 0;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:f("bg-dark-1 sticky z-[100] select-none md:ml-24 md:block",l.md?c?"top-[-110px]":"top-[-160px]":"top-[-300px]","md:h-[160px]"),children:e.jsxs("div",{className:"relative flex h-full min-h-[120px] flex-col justify-between md:min-h-0",children:[e.jsx("div",{ref:U,style:{backgroundPosition:`center ${l.md?j:w}`,backgroundRepeat:"no-repeat",backgroundSize:l.md?"auto":"cover",backgroundImage:M?`linear-gradient(rgba(0, 0, 0, 0.3) 90%, rgba(0, 0, 0, 1) 100%), url("${O}")`:v?`linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.8) 90%), url("${O}")`:`linear-gradient(rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.5)), url("${O}")`},className:"absolute inset-0 z-[-1] bg-cover bg-center md:rounded-tl-[32px]",children:e.jsx("div",{style:{maxWidth:1824,backgroundImage:`linear-gradient(90deg, rgba(0, 0, 0, ${l.md?"1":"0.5"}), transparent 25%, transparent 75%, rgba(0, 0, 0, ${l.md?"1":"0.5"}))`,backgroundRepeat:"no-repeat",backgroundPosition:"center"},className:"mx-auto h-full w-full"})}),h&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-shrink-0 flex-col justify-between gap-8 px-9 py-10 md:h-[88px] md:flex-row md:pt-16 md:pb-0",children:e.jsxs("div",{className:"text-white-2 flex h-full items-center gap-2 text-[28px]",children:["Welcome to ",e.jsx("span",{className:"font-bold",children:"Maxroll"})]})})}),b&&e.jsxs("div",{className:"flex flex-shrink-0 flex-col justify-between gap-3 px-6 pt-4 pb-8 md:h-[88px] md:flex-row md:pt-8 md:pb-0",children:[!l.md&&(i===`/${(a==null?void 0:a.slug)||n.long}`?e.jsxs("a",{href:"/",className:"text-opac-60 flex items-center gap-2 font-sans text-xs hover:text-white",children:[e.jsx(he,{width:10,height:10,color:"opac60"})," All News"]}):e.jsxs("a",{href:`/${(a==null?void 0:a.slug)||n.long}`,className:"text-opac-60 flex items-center gap-2 font-sans text-xs hover:text-white",children:[e.jsx(he,{width:10,height:10,color:"opac60"})," Home"]})),e.jsxs("div",{className:"flex items-center gap-6",children:[!g||a.icon?e.jsx("a",{href:`/${(a==null?void 0:a.slug)||n.long}`,children:e.jsx(P,{clientOnly:!1,height:l.md?48:40,width:l.md?48:40,style:{height:l.md?48:40,width:"auto"},src:(a==null?void 0:a.icon)||n.icon,alt:(a==null?void 0:a.name)||n.title,title:(a==null?void 0:a.name)||n.title})}):null,e.jsxs("div",{className:"flex flex-col gap-1",children:[l.md&&e.jsxs("a",{href:"/",className:"text-opac-60 flex items-center gap-2 font-sans hover:text-white md:text-sm",children:[e.jsx(he,{width:10,height:10,color:"opac60"})," All News"]}),e.jsx("a",{href:`/${(a==null?void 0:a.slug)||n.long}`,className:"text-grey-10 hidden font-sans text-xl uppercase leading-none md:block",children:(a==null?void 0:a.name)||n.title})]})]})]}),e.jsx("div",{style:{right:l.md?"max(calc((100% - 1350px) / 2.0), 32px)":void 0},className:f("top-0 w-auto",l.md?"absolute":"-mt-6 px-8"),children:e.jsx(sr,{className:f(l.md&&(h&&!u?"mt-12":"mt-6"))})}),h&&e.jsx(e.Fragment,{children:u?e.jsx(nr,{}):l.md?null:e.jsx("div",{className:"flex w-full items-center justify-center px-6",children:e.jsx(V,{type:"horizontal",style:{width:"auto"},className:"max-w-full",innerClassName:f("maxroll-banner-menu flex flex-row items-stretch justify-start gap-2 2xl:gap-4 h-[50px]"),children:(H=o.children)==null?void 0:H.filter(_=>_.id!=="news"&&_.id!=="ti").map(_=>e.jsx(Ne,{item:{..._,children:void 0},active:(m==null?void 0:m.id)==_.id,type:l.md?"desktop":"mobile"},_.id))})})}),g&&e.jsx("div",{className:"h-3 w-full"})]})}),x&&e.jsx("div",{className:"bg-dark-1 sticky top-0 z-[100] flex w-full items-center justify-center px-6 md:ml-24 md:w-[calc(100%_-_96px)]",children:e.jsx(V,{type:"horizontal",style:{width:"auto",padding:"0"},className:"max-w-full",innerClassName:f("maxroll-banner-menu flex flex-row items-stretch justify-start gap-2 2xl:gap-4 h-[50px]"),innerStyle:{scrollbarGutter:"auto"},children:(D=c.children)==null?void 0:D.map(_=>e.jsx(Ne,{item:_,active:(p==null?void 0:p.id)==_.id,type:l.md?"desktop":"mobile"},_.id))})}),l.loaded?e.jsxs(e.Fragment,{children:[C||i==="/poe"?e.jsx(Vn,{}):null,n.short==="blue-protocol"?e.jsx(Gn,{}):null]}):null]})}function de(){return e.jsx("span",{className:"bg-grey-70 my-6 h-6 w-[1px]"})}const fe=[{title:"News",items:[{title:"All News",link:"/",icon:"https://assets-ng.maxroll.gg/images/icons/frontend/news.webp",padding:5}]},{title:"ARPG",items:[{game:"d4",padding:0},{game:"d3",padding:0},{game:"d2",padding:0},{game:"monster-hunter-wilds",padding:0},{game:"hell-clock",padding:0}]},{title:"",items:[{game:"poe",padding:0},{game:"poe2",padding:0},{game:"last-epoch",padding:2},{game:"elden-ring-nightreign",padding:0}]},{title:"MMORPG",items:[{game:"lost-ark",padding:0},{game:"wow",padding:0},{game:"throne-and-liberty",padding:0},{game:"blue-protocol",padding:0}]},{title:"Looter Shooter",items:[{game:"borderlands-4",padding:0}]},{title:"RPG",items:[{game:"clair-obscur-expedition-33",padding:0}]}];function Qe(t,s,r,n){let a,i,o;const c="game"in t?s[t.game]:void 0,m="game"in t?r.find(u=>u.slug===t.game):void 0;return("tags"in t?t.tags:[]).includes("coming soonâ¢")?{title:t.title,link:"#",icon:t.icon}:("game"in t&&m?(m.enabled===!0||n)&&(a=m.name,i=`/${m.slug}`,o=m.icon):"game"in t&&c&&(c.enabled===!0||c.isBeta===!0&&n)&&(a=c.display,i=`/${c.long}`,o=c.icon),"game"in t||(a=t.title,i=t.link,o=t.icon),{title:a,link:i,icon:o})}function lr(){const{isAuthForBeta:t,sites:s,minorBranches:r}=y(),[n]=L(a=>({lg:a.viewport.lg}));return e.jsxs(Q,{className:"group relative",children:[e.jsx(S,{className:"bg-grey-30 group-hover:bg-white",icon:"icons/frontend/discovery.webp",width:20,height:20}),n.lg&&e.jsx("span",{className:"text-grey-30 group-hover:text-white hidden lg:inline",children:"Browse Games"}),e.jsx(_e,{className:"transition-transform duration-300 ease-in-out group-hover:rotate-180",color:"white",width:8,height:6}),e.jsx(J,{className:"hidden group-hover:flex",innerClassName:"flex gap-5 p-6",children:fe.map((a,i)=>{const o=a.items[0],{link:c}=Qe(o,s,r,t);return c?e.jsxs("div",{className:f("flex flex-col gap-4",i===0?"min-w-[120px]":i===fe.length-1?"min-w-[250px]":"min-w-[200px]"),children:[e.jsx("span",{className:"block min-h-[24px]",children:a.title.toUpperCase()}),e.jsx("div",{className:"flex flex-col gap-5",children:a.items.map((m,p)=>{var h;const{title:l,link:u,icon:g}=Qe(m,s,r,t);return l?e.jsxs(E,{regularLinks:!0,to:u,onClick:u==="#"?x=>{x==null||x.preventDefault(),x==null||x.stopPropagation()}:void 0,className:f("flex gap-4",u==="#"&&"cursor-default"),children:[g&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(P,{className:"max-w-none",style:{margin:m.padding},src:g,alt:l,width:40-m.padding*2,height:40-m.padding*2})}),e.jsxs("div",{className:"flex h-full flex-col justify-between",children:[e.jsx("span",{className:f("font-sans font-semibold",u==="#"?"text-grey-1":"text-white"),children:l}),e.jsx("span",{className:"text-opac-50 font-sans font-semibold",children:"tags"in m?(h=m.tags)==null?void 0:h.map((x,b)=>e.jsx("span",{className:"text-xxs rounded-full bg-blue-200 px-2 py-0 font-sans uppercase tracking-wide text-white",children:x},b)):a.title||fe[i-1].title})]})]},p):null})})]},i):null})}),e.jsx(Y,{className:"left-[126px] "})]})}const re={"Diablo IV":"d4","Diablo III":"d3","Diablo II":"d2","Diablo II: Resurrected":"d2","Path of Exile":"poe","Path of Exile 2":"poe2","Lost Ark":"lost-ark","Last Epoch":"last-epoch","Throne and Liberty":"throne-and-liberty","Hades II":"hades-2","ELDEN RING":"elden-ring","Monster Hunter Wilds":"monster-hunter-wilds","Clair Obscur: Expedition 33":"clair-obscur-expedition-33","Elden Ring: Nightreign":"elden-ring-nightreign","Borderlands 4":"borderlands-4","Hell Clock":"hell-clock","Blue Protocol: Star Resonance":"blue-protocol"};function cr(){var l;const{assetPath:t,siteInfo:s,minorBranchInfo:r}=y(),[n]=L(u=>({md:u.viewport.md,lg:u.viewport.lg})),a=Gt(),i=d.useMemo(()=>a.data!=null&&Array.isArray(a.data)?a.data.map(g=>({...g,tempOrder:Ns.random(0,999)})):[],[a]);d.useEffect(()=>{a.state=="idle"&&(a.data||a.load(`/api/twitch?game=${(r==null?void 0:r.slug)??s.short}`))});const o=d.useMemo(()=>{let u=(i==null?void 0:i.map(g=>({...et.team[g.slug],game:g.gameName,tempOrder:g.tempOrder})))||[];return s.long!=="landing"?u=u.filter(g=>re[g.game]===s.long):r?u=u.filter(g=>re[g.game]===r.slug):u=u.filter(g=>re[g.game]!==void 0),u.sort((g,h)=>{const x=(re[g.game]===s.long?1e3:0)+g.tempOrder;return(re[h.game]===s.long?1e3:0)+h.tempOrder-x}),u},[i,s.long,r]),c=o[0],[m,p]=d.useState(!1);return c?e.jsxs(Q,{style:{paddingLeft:0,paddingRight:0},className:"group relative h-full w-[max-content] max-w-[calc(100vw_-_8px)]",customPadding:!0,onMouseEnter:()=>{p(!0)},onMouseLeave:()=>{p(!1)},children:[e.jsxs(K,{to:(l=c.social)==null?void 0:l.twitch,className:"md:hover:bg-dark-5 flex cursor-pointer items-center gap-3 rounded-lg px-4 py-2",children:[e.jsx("div",{className:"border-dark-5 flex h-8 w-8 items-center justify-center overflow-hidden rounded-full border",children:e.jsx(P,{className:"w-[40px] max-w-none",width:40,height:40,src:`${t}/images/${c.image}`,alt:c.nickname})}),e.jsxs("span",{className:"flex flex-col gap-x-3 whitespace-nowrap",children:[e.jsx("span",{className:"font-sans text-sm leading-tight md:text-base",children:c.nickname}),e.jsx("span",{className:"text-grey-3 font-sans text-xs leading-tight",children:c.game})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"bg-red-40 h-2 w-2 rounded-full"}),(!n.md||n.lg)&&e.jsx("span",{className:"text-red-40 whitespace-nowrap font-sans text-sm",children:"Live Now"})]}),o.length>1&&e.jsx(_e,{width:10,height:6,color:"white",className:f("transition-transform",m?"rotate-180":""),onClick:u=>{u.preventDefault(),u.stopPropagation(),p(!m)}})]}),m&&o.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"left-1/2 w-[max-content] max-w-[calc(100vw_-_8px)] -translate-x-1/2",innerClassName:"flex flex-col gap-4 p-6",children:e.jsx(V,{type:"vertical",className:"max-h-[max(440px,_100vh_-_200px)]",children:o.map((u,g)=>{var h;return u.nickname===c.nickname?null:e.jsxs(K,{to:(h=u.social)==null?void 0:h.twitch,className:"hover:bg-dark-5 flex cursor-pointer items-center justify-between gap-4 rounded-lg px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"border-dark-5 flex h-8 w-8 min-w-[32px] items-center justify-center overflow-hidden rounded-full border",children:e.jsx(P,{className:"w-[40px] max-w-none",width:32,height:32,src:`${t}/images/${u.image}`,alt:u.nickname})}),e.jsxs("span",{className:"flex flex-col gap-x-3 whitespace-nowrap",children:[e.jsx("span",{className:"font-sans text-sm leading-tight md:text-base",children:u.nickname}),e.jsx("span",{className:"text-grey-3 font-sans text-xs leading-tight",children:u.game})]})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"bg-red-40 h-2 w-2 rounded-full"}),e.jsx("span",{className:"text-red-40 whitespace-nowrap font-sans text-sm",children:"Live Now"})]})]},g)})})}),e.jsx(Y,{className:"left-[calc(50%_-_6px)]"})]})]}):null}const dr=[{id:"home",name:"Home",url:"/",slug:"",icon:"https://assets-ng.maxroll.gg/images/home.svg",children:[],enabled:!0},{id:"guides",name:"Games",url:"",slug:"",icon:"https://assets-ng.maxroll.gg/images/games.svg",children:[],enabled:!0},{id:"store",name:"Store",url:"/shop",slug:"store",icon:"https://assets-ng.maxroll.gg/images/icons/frontend/marketplace.webp",children:[],enabled:!0},{id:"giveaways",name:"Giveaways",url:"/giveaways",slug:"giveaways",icon:"https://assets-ng.maxroll.gg/images/icons/frontend/gift.webp",children:[],enabled:!1},{id:"about-us",name:"About Us",url:"#",slug:"about-us",icon:"https://assets-ng.maxroll.gg/images/icons/frontend/user.webp",enabled:!0,children:[{id:"team",name:"Team",url:"/team",slug:"team",enabled:!0},{id:"refund-policy",name:"Refund Policy",url:"/refund-policy",slug:"refund-policy",enabled:!0},{id:"privacy-policy",name:"Privacy Policy",url:"https://www.ign.com/privacy-policy",slug:"privacy-policy",enabled:!0},{id:"cookie-policy",name:"Cookie Policy",url:"https://www.ziffdavis.com/cookie-policy",slug:"cookie-policy",enabled:!0}]},{id:"contact-us",name:"Contact Us",url:"/contact-us",slug:"contact-us",icon:"https://assets-ng.maxroll.gg/images/icons/frontend/message.webp",enabled:!0,children:[]}];function ur(){var t;return e.jsx(Q,{className:"group",children:e.jsxs(K,{to:((t=dr.find(s=>s.id==="store"))==null?void 0:t.url)||"#",className:"flex items-center gap-2 lg:gap-4",children:[e.jsx(S,{className:"bg-grey-30 group-hover:bg-white",icon:"icons/frontend/marketplace.webp",width:20,height:20}),e.jsx("span",{className:"text-grey-30 hidden group-hover:text-white xl:flex",children:"Store"})]})})}function mr(){const{siteInfo:t,minorBranches:s,minorBranchInfo:r,siteMenu:n,isAuthForBeta:a}=y(),{hits:i}=xt(),o=d.useMemo(()=>i.reduce((l,u)=>{var x;let g=u.breadcrumbs.length>0?u.breadcrumbs[0].title:"Global",h;if(g==="News"?h=s.find(b=>{var j;return b.slug===((j=u.taxonomies.branch)==null?void 0:j[0])}):h=s.find(b=>b.name===g),h){if(g=h==null?void 0:h.name,h.enabled!==!0)return l}else{const b=(x=n[1].children)==null?void 0:x.find(j=>j.slug===u.blog);if((b==null?void 0:b.enabled)!==!0&&(!(b!=null&&b.isBeta)||!a))return l}return l[g]||(l[g]=[]),l[g].push(u),l},{}),[i,s,n,a]),c=Object.keys(o);if(c.sort((l,u)=>{const g=l===t.title||r!==void 0&&l===r.name?1:0;return(u===t.title||r!==void 0&&u===r.name?1:0)-g}),c.length===0||i.length===0)return e.jsx("p",{className:"text-grey-30 p-6 font-sans",children:"No results were found"});const m=6;let p=0;return e.jsx("div",{className:"flex w-full flex-col gap-2 pt-3 pb-2",children:c.map(l=>p>=m?null:e.jsxs(d.Fragment,{children:[e.jsx("div",{className:"text-opac-50 bg-dark-4 flex items-center py-1 pl-6 font-sans text-sm font-semibold uppercase",children:l}),e.jsx("ul",{className:"flex flex-col px-6",children:o[l].map((u,g)=>p>=m?null:(p+=1,e.jsxs("li",{className:f("flex flex-col",p<m&&g<o[l].length-1&&"border-opac-10 mb-2 border-b"),children:[e.jsxs(E,{className:"group flex flex-col",to:F(u.permalink),regularLinks:!0,children:[e.jsx("span",{className:"font-sans text-white",children:e.jsx(me,{attribute:"post_title",hit:u})}),e.jsxs("span",{className:"text-opac-70 font-sans",children:["By: ",e.jsx(me,{attribute:"post_author.display_name",hit:u})]})]}),e.jsx("span",{className:"flex items-center truncate",children:u.breadcrumbs&&u.breadcrumbs.map((h,x)=>{const b={title:h.title,url:h.url};if(h.url==="/landing"){const j=s.find(w=>{var N;return w.slug===((N=u.taxonomies.branch)==null?void 0:N[0])});j&&(b.title=j==null?void 0:j.name)}return e.jsxs(d.Fragment,{children:[b.url!==""?e.jsxs(E,{className:"",regularLinks:!0,to:F(b.url),children:[e.jsx("span",{className:"text-opac-40 inline overflow-ellipsis whitespace-nowrap font-sans text-xs leading-8 hover:text-white",children:b.title})," "]}):e.jsx("span",{className:"text-opac-40 inline overflow-ellipsis whitespace-nowrap font-sans text-xs leading-8",children:b.title}),x<u.breadcrumbs.length-1&&e.jsx("span",{className:"mx-1",children:e.jsx(ee,{icon:"right_arrow.svg",width:8,height:8,className:"bg-opac-40"})})]},x)})})]},u.objectID)))})]},l))})}function pr(){const{minorBranches:t,search:s}=y(),[r,n]=d.useState(!1),a=d.useRef(null),i="wp_posts_all",o=d.useMemo(()=>({searchUrl:s.url,searchApiKey:s.api_key,omitSearchOnFirstRender:!0,searchOptions:{finitePagination:!0}}),[]),{searchClient:c}=it(o);at(a,()=>{n(!1)});const p=`(taxonomies.branch NOT EXISTS OR taxonomies.branch IN [${t.filter(l=>l.enabled).map(l=>l.slug).join(", ")}])`;return e.jsx(Q,{ref:a,className:"group relative h-full",customPadding:!0,children:c?e.jsxs(ot,{searchClient:c,indexName:i,future:{preserveSharedStateOnUnmount:!1},onStateChange:({uiState:l,setUiState:u})=>{var h;const g=((h=l==null?void 0:l[i].query)==null?void 0:h.length)||0;n(g>0),u(l)},children:[e.jsx(ee,{className:"bg-grey-30 min-w-[20px] group-hover:bg-white",icon:"icons/frontend/search.webp",width:20,height:20}),e.jsx(ct,{className:"top-menu-search placeholder:text-grey-30 border-none bg-transparent focus:outline-none",placeholder:"Search Everything",searchAsYouType:!0}),r&&e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"flex",innerClassName:"min-w-[300px] gap-5",children:r&&e.jsx(mr,{})}),e.jsx(Y,{className:"left-[80px]",alwaysVisible:!0})]}),e.jsx(lt,{filters:p,hitsPerPage:40,distinct:!0,attributesToSnippet:["description:50"],snippetEllipsisText:"..."})]}):null})}function gr(){const{user:t,apiUrl:s}=y(),{pinnedPages:r}=Ke(),[n]=L(c=>({hasPointer:c.viewport.hasPointer})),{blockToastContainer:a,unblockToastContainer:i}=se(oe(c=>({blockToastContainer:c.blockToastContainer,unblockToastContainer:c.unblockToastContainer}))),o=d.useCallback(c=>{c?setTimeout(()=>a(),0):i()},[a,i]);return e.jsxs(Q,{className:"group relative",onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)},children:[e.jsxs(E,{className:"flex items-center gap-2 lg:gap-4",to:"/auth/settings",regularLinks:!0,onClick:c=>{(!(t!=null&&t[0])||!n.hasPointer)&&c.preventDefault()},children:[e.jsx(ee,{className:"bg-grey-30 group-hover:bg-white",icon:"icons/frontend/pin.webp",width:20,height:20}),e.jsx("span",{className:"text-grey-30 hidden group-hover:text-white xl:flex",children:"Pinned Pages"}),e.jsx(_e,{className:"transition-transform group-hover:rotate-180",color:"white",width:8,height:6,onClick:c=>{c.preventDefault()}})]}),e.jsx(J,{className:"right-0 hidden group-hover:flex",innerClassName:"min-w-[160px] flex-col gap-5 p-6",children:r.length>0?r.map((c,m)=>e.jsx(E,{className:"group/item flex items-center gap-2",regularLinks:!0,to:F(c.link,s),children:e.jsx("span",{className:"text-opac-50 whitespace-nowrap group-hover/item:text-white",children:c.text})},m)):e.jsx("span",{className:"text-opac-50 whitespace-nowrap group-hover/item:text-white",children:t!=null&&t[0]?"You don't have any pages pinned yet":"Create an account to be able to pin pages for quick access"})}),e.jsx(Y,{className:"right-[40px]"})]})}function hr(){const{siteMenu:t,user:s,userLoaded:r}=y(),[,,n]=t,a=!n,[i]=L(m=>({loaded:m.viewport.loaded,md:m.viewport.md,lg:m.viewport.lg})),o=(n==null?void 0:n.id)==="poe"||(n==null?void 0:n.id)==="poe2",c=(s==null?void 0:s[0])!==void 0||o;return i.md?e.jsxs("header",{className:f("bg-dark-1 md:flex h-[72px] w-full select-none justify-between gap-1 whitespace-nowrap md:pl-[96px] hidden",a&&"sticky top-0 z-[105]"),children:[e.jsxs("div",{className:"flex flex-[3] items-center",children:[e.jsx("span",{className:"w-6 h-full"}),e.jsx(lr,{}),e.jsx(de,{}),e.jsx(pr,{})]}),e.jsx("div",{className:"flex flex-[2] items-center justify-center",children:i.loaded&&e.jsx(cr,{})}),e.jsxs("div",{className:"flex flex-[3] items-center justify-end",children:[e.jsx(ur,{}),e.jsx(de,{}),i.loaded&&e.jsx(gr,{}),(r==null?void 0:r[0])&&e.jsx(de,{}),c&&e.jsxs(e.Fragment,{children:[e.jsx(gt,{}),e.jsx(de,{})]}),e.jsx(ht,{})]})]}):null}function fr(){const t=y(),s=d.useCallback(()=>{t.loginDialogOpen[1](!0)},[t.loginDialogOpen]);Pt(s);const r=d.useCallback(()=>{t.loginDialogOpen[1](!1)},[t.loginDialogOpen]),n=d.useMemo(()=>t.pathname.startsWith("/d4/planner"),[t.pathname]);return e.jsxs(e.Fragment,{children:[e.jsx(es,{id:"mobile-anchor",type:"anchor",refreshTime:30,logicalPlacement:Ot.STICKY}),e.jsx(Gs,{}),e.jsx(Tn,{}),e.jsx(hr,{}),e.jsx(or,{}),e.jsx(mt,{}),e.jsx("div",{className:"px-5 md:pl-[120px] md:pr-6",children:e.jsx("section",{className:f("mb-20 mt-8 md:mx-auto lg:p-0",n?"max-w-[1400px]":"max-w-[1350px]"),children:e.jsx(st,{})})}),t.pathname!=="/404"&&e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{"data-pogo":"footer"})}),e.jsx(qs,{}),e.jsx(ue,{visible:t.subscriptionDialogOpen[0],onClose:()=>t.subscriptionDialogOpen[1](!1),children:e.jsx(as,{})}),e.jsx(ue,{className:"h-auto w-[max-content] max-w-[calc(100vw_-_40px)] lg:max-w-none",visible:t.loginDialogOpen[0],onClose:r,children:e.jsx("div",{className:"ory-auth",children:e.jsx(rs,{})})}),e.jsx($s,{}),e.jsx(Is,{})]})}function xr(){return e.jsxs(e.Fragment,{children:[e.jsx(mt,{}),e.jsx(st,{}),e.jsx(nt,{}),e.jsx(ut,{})]})}const br=({children:t})=>{const{siteInfo:s,environment:r}=y();if(!(s.short==="poe"||s.short==="poe2")||typeof window>"u")return t;const a=s.short==="poe"?"poe1":"poe2";return e.jsx(ks,{overwriteWebApiUrl:r==="production"?void 0:"http://localhost:8080",overwritePoe:a,children:t})},wr=({children:t})=>{const{user:s}=y(),{getScheduledDeletion:r}=ss(),[n,a]=d.useState(void 0),i=d.useRef(void 0),o=d.useCallback(p=>{var u;a(p);const l=(u=s==null?void 0:s[0])==null?void 0:u.id;l&&Ee.set(l,p)},[s]),c=d.useCallback(async()=>{try{const p=s==null?void 0:s[0];if(!p){o(void 0),i.current=void 0;return}if(p.id===i.current)return;i.current=p.id;const l=Ee.get(p.id);if(l){a(l.scheduledAt);return}const u=await r();o(u==null?void 0:u.scheduledAt)}catch{}},[r,s]);d.useEffect(()=>{c()},[c]);const m=d.useMemo(()=>({scheduledAt:n,setScheduledAt:o}),[n,o]);return e.jsx(ns.Provider,{value:m,children:t})};function jr({pathname:t}){const[s,r]=d.useState(!1),n=d.useCallback(i=>{if(i===!0&&typeof window<"u"&&t.startsWith("/auth")){window.location.href="/auth/login";return}r(i)},[t]);return d.useMemo(()=>[s,n],[s,n])}const yr=(t,s)=>{if(!window.gtag){console.warn("window.gtag is not defined. This could mean your google analytics script has not loaded on the page yet.");return}window.gtag("config",s,{page_path:t})};function vr(t,s,r){const n=/^localhost$|^127(?:\.[0-9]+){0,2}\.[0-9]+$|^(?:0*:)*?:?0*1$/.test(location.hostname)||location.protocol==="file:";if(!s.trackLocalhost&&n)return console.warn("[Plausible] Ignoring event because website is running locally");try{if(window.localStorage.plausible_ignore==="true")return console.warn('[Plausible] Ignoring event because "plausible_ignore" is set to "true" in localStorage')}catch{}const a={n:t,u:s.url,d:s.domain,r:s.referrer,w:s.deviceWidth,h:s.hashMode?1:0,p:r&&r.props?JSON.stringify(r.props):void 0},i=new XMLHttpRequest;i.open("POST",`${s.apiHost}/api/event`,!0),i.setRequestHeader("Content-Type","text/plain"),i.send(JSON.stringify(a)),i.onreadystatechange=()=>{i.readyState===4&&r&&r.callback&&r.callback()}}function Nr(t){const s=()=>({hashMode:!1,trackLocalhost:!1,url:location.href,domain:location.hostname,referrer:document.referrer||null,deviceWidth:window.innerWidth,apiHost:"https://plausible.io",...t}),r=(o,c,m)=>{vr(o,{...s(),...m},c)},n=(o,c)=>{r("pageview",c,o)};return{trackEvent:r,trackPageview:n,enableAutoPageviews:()=>{const o=()=>n(),c=history.pushState;return c&&(history.pushState=function(m,p,l){c.apply(this,[m,p,l]),o()},addEventListener("popstate",o)),t.hashMode&&addEventListener("hashchange",o),n(),function(){c&&(history.pushState=c,removeEventListener("popstate",o)),t.hashMode&&removeEventListener("hashchange",o)}},enableAutoOutboundTracking:(o=document,c={subtree:!0,childList:!0,attributes:!0,attributeFilter:["href"]})=>{function m(h){r("Outbound Link: Click",{props:{url:this.href}}),typeof process<"u"&&process,setTimeout(()=>{location.href=this.href},150),h.preventDefault()}const p=new Set;function l(h){h instanceof HTMLAnchorElement?h.host!==location.host&&(h.addEventListener("click",m),p.add(h)):"querySelectorAll"in h&&h.querySelectorAll("a").forEach(l)}function u(h){h instanceof HTMLAnchorElement?(h.removeEventListener("click",m),p.delete(h)):"querySelectorAll"in h&&h.querySelectorAll("a").forEach(u)}const g=new MutationObserver(h=>{h.forEach(x=>{x.type==="attributes"?(u(x.target),l(x.target)):x.type==="childList"&&(x.addedNodes.forEach(l),x.removedNodes.forEach(u))})});return o.querySelectorAll("a").forEach(l),g.observe(o,c),function(){p.forEach(x=>{x.removeEventListener("click",m)}),p.clear(),g.disconnect()}}}}const kr=(t,s,r=!1)=>{const n=Nr({domain:s,apiHost:t,trackLocalhost:r});return n.enableAutoPageviews(),n},Xe=[{title:"Maxroll - Tools, Guides and News"},{name:"viewport",content:"width=device-width,initial-scale=1"},{name:"description",content:"Maxroll is the ultimate source of gaming news, game guides, tools, and more."},{name:"theme-color",content:"#057af0"}],ii=({data:t})=>{var n,a,i;if(!t)return Xe;const{seo:s}=t;return s?[{title:s.title||s.opengraphTitle||"Maxroll"},{name:"description",content:s.opengraphDescription},{property:"og:title",content:s.opengraphTitle},{property:"og:description",content:s.opengraphDescription},{property:"og:image",content:(n=s.opengraphImage)==null?void 0:n.mediaItemUrl},{property:"og:siteName",content:"Maxroll"},{property:"og:site_name",content:"Maxroll"},{property:"og:type",content:"article"},{property:"og:locale",content:"en_US"},{property:"og:url",content:(a=s.opengraphUrl)==null?void 0:a.replaceAll(/-_-/g,"/")},{name:"twitter:title",content:s.twitterTitle},{name:"twitter:description",content:s.twitterDescription},{name:"twitter:image",content:(i=s.twitterImage)==null?void 0:i.mediaItemUrl},{name:"twitter:card",content:"summary_large_image"},{name:"theme-color",content:"#057af0"}]:Xe};function oi({children:t}){const s=rt();return e.jsxs("html",{lang:"en",children:[e.jsxs("head",{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("meta",{name:"viewport",content:"width=device-width,initial-scale=1"}),e.jsx("style",{type:"text/css",dangerouslySetInnerHTML:{__html:".mxrl-body { background-color: #0A0A0A; color: #e8e8e8; }"}}),e.jsx(Vt,{}),e.jsx(Yt,{}),e.jsx("link",{rel:"preload",href:"https://cdn.ziffstatic.com/jst/zdconsent.js",as:"script"}),e.jsx("script",{dangerouslySetInnerHTML:{__html:"window.zdconsent = window.zdconsent || {run:[],cmd:[],useractioncomplete:[],analytics:[],functional:[],social:[]};"}}),e.jsx("script",{src:"/js/sponsor.js",async:!0}),e.jsx(Os,{config:s==null?void 0:s.pogoConfig})]}),e.jsxs("body",{className:"mxrl-body",children:[e.jsx(Rt,{withNotificationContainer:!1,children:t}),e.jsx(Cs,{}),e.jsx(nt,{}),e.jsx(ut,{})]})]})}function li(){const{appContext:t}=rt(),s=t.gaTrackingId,r=tt(),n=Te(),a=t.environment==="production"?"maxroll.gg":"frontend-staging.maxroll.net",[i,o]=d.useState(null),c=d.useMemo(()=>Ss(t.oryUrl),[t.oryUrl]),m=jr({pathname:t.pathname}),p=d.useState(!1),[l,u]=d.useState(void 0),[g,h]=d.useState(void 0),[x,b]=d.useState(void 0),[j,w]=d.useState(!1),N=d.useRef(!1),I=d.useRef(!1);d.useEffect(()=>{if(t.userAgent.includes("Chrome-Lighthouse")||I.current===!0)return;I.current=!0;const k=document.createElement("script");k.src="https://cdn.ziffstatic.com/jst/zdconsent.js",k.id="zdconsent",k.type="text/javascript",k.fetchpriority="high",document.head.appendChild(k),window.__pogoHydrated=!0;const T=new Event("pogohydrated",{bubbles:!0,cancelable:!1});window.dispatchEvent(T),document.addEventListener("nitroSponsor.userLoaded",function(H){if(!H.detail||!H.detail.user)return;const D=H.detail.user;if(As(D.noAds),D.userData&&D.userData.user&&D.userData.user.email){const X=D.userData.user.email;window.__ZDU={localUid:D.userData.user.id,email:X,md5:Qt(X),sha1:Xt(X),sha256:Zt(X)}}else window.__ZDU={localUid:null};const _=new CustomEvent("zdu:upd",{detail:window.__ZDU});window.dispatchEvent(_)})},[t.userAgent]),d.useEffect(()=>{typeof window>"u"||x===void 0&&b(localStorage.getItem("maxrollUserHasSub")==="true")},[x]),d.useEffect(()=>{l||N.current||(N.current=!0,fetch("/api/me",{credentials:"include"}).then(k=>k.json()).then(k=>{const T=k==null?void 0:k.user;u(T)}).finally(()=>{w(!0)}))},[j,l]);const z=d.useMemo(()=>({...t,user:[l,u],userLoaded:[j,w],userHasSub:[x,b],loginDialogOpen:m,subscriptionDialogOpen:p,...typeof window<"u"?{pathname:window.location.pathname}:{}}),[t,l,j,x,m,p]),O=d.useRef(!1);d.useEffect(()=>{!j||O.current===!0||(o(kr("https://analytics.maxroll.gg",a,t.environment==="development")),O.current=!0)},[t,a,j]),d.useEffect(()=>{var k;if(r.location)for(const T of document.querySelectorAll("[id$=-video-ad]"))T&&!T.id.includes("post-video-ad")&&((k=T.parentNode)==null||k.removeChild(T))},[r]);const v=d.useRef(!1);d.useEffect(()=>{!j||v.current===!0||(v.current=!0,l&&new Dt({plannersApiPath:t.userBackendUrl}).fetchUserMetadata().then(T=>h(T)).catch(()=>{}),l!=null&&l.token?(window.nitroSponsor=window.nitroSponsor||{init:function(){window.nitroSponsor.queue.push(["init",arguments])},status:"init",queue:[]},window.nitroSponsor.init({token:l==null?void 0:l.token},function(k){const T=k.userData.subscription,H=k.noAds||T&&T.status==="active";localStorage.setItem("maxrollUserHasSub",`${H?"true":"false"}`),b(H),u(D=>D?{...D,subscription:T}:void 0)})):(localStorage.setItem("maxrollUserHasSub","false"),b(!1)))},[t,j,l,u]);const U=t.pathname.startsWith("/poe/poe-tree/")||t.pathname.startsWith("/poe2/tree/");d.useEffect(()=>{s!=null&&s.length&&yr(n.pathname,s)},[n,s]);const C=d.useMemo(()=>({orySdk:c,plausible:i}),[c,i]),M=Ps();return d.useEffect(()=>{!i||!M||i.trackEvent("ab-nitropay-vs-pogo",{props:{alpha_value:M.alphaValue,active_provider:M.activeProvider}})},[i,M]),e.jsx(Kt,{value:z,children:e.jsx(It,{isMobile:t.isMobile,isDev:t.environment!=="production",user:l,userMetadata:g,userLoaded:j,userHasSub:x,children:e.jsx(Ts,{libs:C,children:e.jsx(wr,{children:e.jsxs(br,{children:[e.jsx(Lt,{}),t.environment!=="production"||!s?null:e.jsxs(e.Fragment,{children:[e.jsx("script",{async:!0,src:`https://www.googletagmanager.com/gtag/js?id=${s}`}),e.jsx("script",{async:!0,id:"gtag-init",dangerouslySetInnerHTML:{__html:`
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', '${s}', {
                  page_path: window.location.pathname,
                });
              `}})]}),U?e.jsx(xr,{}):e.jsx(fr,{})]})})})})})}function ci(){var r,n;const t=Ut();let s=t?t.message:"Unknown error";if("graphQLErrors"in t){const a=t;console.log((n=(r=a.networkError)==null?void 0:r.result)==null?void 0:n.errors),s=a.graphQLErrors&&a.graphQLErrors.length>0?a.graphQLErrors[0].message:a.message}return Wt(t)?e.jsxs(e.Fragment,{children:[e.jsxs("h1",{children:[t.status," ",t.statusText]}),e.jsx("p",{children:t.data})]}):e.jsx(e.Fragment,{children:e.jsxs("section",{className:"md:mx-auto md:mt-32 md:w-[1350px]",children:[e.jsx("h1",{className:"text-4xl font-bold",children:"An issue occurred"}),e.jsx("p",{className:"text-xl",children:s}),e.jsx("div",{className:"mt-8"}),e.jsx("div",{className:"mt-8",children:e.jsx(E,{to:{pathname:"/"},children:"Back to the homepage"})})]})})}export{ci as ErrorBoundary,oi as Layout,li as default,ii as meta};
