import{r as a,j as c}from"./jsx-runtime-BmCkTyBI.js";import{i as n,N as u,Q as l,R as p}from"./useUiStateStore-BTW2eq2x.js";const g=r=>{const t={poe:r,league:n(r)[0],whisperedServices:{}};return u()(l((e,i)=>({...t,reset:()=>e(t),setLeague:s=>e({league:s}),addWhisperedService:s=>e(o=>({whisperedServices:{...o.whisperedServices,[s]:!0}}))}),{name:`poexchange-${r}-service-listings-store`,storage:p(()=>localStorage),partialize:e=>({league:e.league}),version:1,migrate:(e,i)=>{}}))},d=a.createContext(null),h=({children:r,poe:t})=>{const e=a.useRef();return(!e.current||e.current.getState().poe!==t)&&(e.current=g(t)),c.jsx(d.Provider,{value:e.current,children:r})};export{h as m,d as u};
